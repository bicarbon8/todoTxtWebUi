!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.formatDate=function(e){var t=e.getFullYear(),n=(e.getMonth()+1).toString();n=n.length<2?"0"+n:n;var o=e.getDate().toString();return o=o.length<2?"0"+o:o,String(t+"-"+n+"-"+o)},e.getLanguage=function(){return(window.navigator.userLanguage||window.navigator.language).toLowerCase()},e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.htmlEncode=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\s{2}/g," &nbsp;")},e.htmlUnencode=function(e){return String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&nbsp;/g," ")}}(t.TodoTxtUtils||(t.TodoTxtUtils={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(e){this.projects=[],this.contexts=[],this.metadatas=[],this.id=o.TodoTxtUtils.guid(),this.isActive=!0,this.parseInput(e)}return e.prototype.parseInput=function(e){e&&(this.text=e,this.parseStatus(),this.parsePriority(),this.parseCompletedDate(),this.parseCreatedDate(),this.parseProjects(),this.parseContexts())},e.prototype.parseStatus=function(){var e=this.text.match(/^(x )/);e&&e.length>0?this.isActive=!1:this.isActive=!0},e.prototype.parsePriority=function(){var e=null,t=this.text.match(/^(\([A-Z]\)[\s]+)/);t&&(e=t[0].replace(/[\s]*/g,"")),this.priority=e},e.prototype.parseCompletedDate=function(){var e=null;if(!this.isActive){var t=this.getDatesFromText();t&&(e=t[0]?t[0].replace(/[\s]*/g,""):null)}this.completedDate=e},e.prototype.parseCreatedDate=function(){var e=null,t=this.getDatesFromText();t&&(this.isActive?e=t[0]?t[0].replace(/[\s]*/g,""):null:t.length>1&&(e=t[1]?t[1].replace(/[\s]*/g,""):null)),this.createdDate=e},e.prototype.getDatesFromText=function(){var e=[],t=this.text.match(/(?:\s|^)(\d{4}-\d{2}-\d{2})(?=\s)/g);if(t)for(var n=0;n<t.length;n++)e.push(t[n]);return e},e.prototype.parseProjects=function(){var e=new Set,t=this.text.match(/((\s|^)[\(\{\["']?\+[0-9A-Za-z]+[\)\}\]"']?(?=\s|$))/g);if(t)for(var n=0;n<t.length;n++){var o=t[n].replace(/[\s]*/g,"").replace(/[\(\{\[\)\}\]"']/g,"");e.add(o)}this.projects=Array.from(e)},e.prototype.parseContexts=function(){var e=new Set,t=this.text.match(/((\s|^)[\(\{\["']?\@[0-9A-Za-z]+[\)\}\]"']?(?=\s|$))/g);if(t)for(var n=0;n<t.length;n++){var o=t[n].replace(/[\s]*/g,"").replace(/[\(\{\[\)\}\]"']/g,"");e.add(o)}this.contexts=Array.from(e)},e}();t.TodoTxtTask=a},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.priorities=new Set,e.projects=new Set,e.contexts=new Set,e.reset=function(){e.priorities=new Set,e.projects=new Set,e.contexts=new Set}}(t.TodoTxtAttributes||(t.TodoTxtAttributes={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(8);!function(e){var t=new Map,n={showClosed:!1},r=0;function i(){try{var e=new a.TodoTextPersistance(t,n);localStorage.setItem("todo-txt",JSON.stringify(e))}catch(e){0==r&&(alert("WARNING: unable to store Tasks in localStorage; ensure you export your tasks before you close the browser or they will be lost!"),console.error("TodoTxt unable to cache data in localStorage due to: "+e),r++)}}function s(){try{var e=localStorage.getItem("todo-txt");if(e){var a=JSON.parse(e);if(a.tasks){t.clear();for(var i=0;i<a.tasks.length;i++){var s=a.tasks[i];if(s.text&&s.id){var c=new o.TodoTxtTask(s.text);c.id=s.id,t.set(c.id,c)}}n=a.config}}}catch(e){0==r&&console.info("TodoTxt unable to load cache from localStorage due to: "+e)}}e.addTask=function(e){t.has(e.id)&&t.delete(e.id),t.set(e.id,e),i()},e.removeTask=function(e){var n=!1;return t.has(e)&&(t.delete(e),n=!0),i(),n},e.removeAllTasks=function(){t=new Map,i()},e.getTask=function(e){if(s(),t.has(e))return t.get(e);throw new Error("no TodoTxtTask with ID of '"+e+"' could be found")},e.getAllTasks=function(){s();var e=[];return t.forEach((function(t){e.push(t)})),e},e.getConfig=function(){return s(),n},e.setConfig=function(e){n=e,i()},e._clear=function(){t=new Map,n={showClosed:!1},localStorage.removeItem("todo-txt")}}(t.TodoTxtVault||(t.TodoTxtVault={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(6);o("document").ready((function(){a.TodoTxtView.initializeElements(),a.TodoTxtView.refreshUi()}))},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),s=n(2),c=n(9),l=n(0),d=n(3),u=n(4);!function(e){function t(e){var t="glyphicon-ok",n="btn-default",o=$(e);e.isActive||(t="glyphicon-remove",n="btn-danger");var a=document.createElement("div");a.className="btn-group btn-block",a.id=e.id;var r=document.createElement("span");r.classList.add("glyphicon"),r.classList.add(t);var i=document.createElement("span");i.classList.add("col-xs-2"),i.classList.add("btn"),i.classList.add("btn-lg"),i.classList.add(n),i.onclick=function(t){z(e.id),q()},i.appendChild(r),a.appendChild(i);var s=document.createElement("button");return s.classList.add("col-xs-10"),s.classList.add("ellipsis"),s.classList.add("btn"),s.classList.add("btn-lg"),s.classList.add(n),s.innerHTML=o,s.onclick=function(t){return v(e.id)},a.appendChild(s),a}function n(e){var t=document.createElement("li");return t.id=e,t.className="list-group-item",t.onclick=function(t){I(e)},t.onmouseover=function(e){t.className+=" active"},t.onmouseout=function(e){t.className=t.className.replace(/(( |^)active)/,"")},t.innerHTML='<h4 class="ellipsis">'+e+"</h4>",t}function p(){var e=document.querySelector("#filter-input").value,t=i.TodoTxt.getFilteredTaskArray(e);if(!u.TodoTxtVault.getConfig().showClosed){var n=t.filter((function(e){return e.isActive}));t=n}t&&t.length>0&&t.forEach((function(e){f(e)}))}function f(e){document.querySelector("#listContainer-div").appendChild(t(e))}function v(t){var n,o=!1;t?n=i.TodoTxt.getTask(t):(n=new r.TodoTxtTask,o=!0),k(e.mainEventHandlers);var a=function(e,t){var n=document.createElement("span");s(n).attr("aria-hidden","true"),n.innerHTML=" &times;";var o=document.createElement("button");o.type="button",o.id="modalEditClose-button",o.classList.add("close"),s(o).attr("data-dismiss","modal"),s(o).attr("aria-label",c.TodoTxtResources.get("CLOSE")),o.onclick=function(e){g()},o.appendChild(n);var a=document.createElement("h4");a.classList.add("modal-title"),a.id="modalEdit-label";var r=document.createElement("div");r.classList.add("modal-header"),r.appendChild(o),r.appendChild(a);var i=document.createElement("div");i.id="modalEdit-textarea",i.classList.add("textarea"),i.contentEditable="true";var l=$(e).replace(/hidden-xs/,"");i.innerHTML=l;var d=document.createElement("div");d.classList.add("modal-body"),d.appendChild(i);var u=document.createElement("span");u.classList.add("hidden-xs");var p=t?c.TodoTxtResources.get("ADD"):c.TodoTxtResources.get("UPDATE");u.innerText=" "+p;var f=document.createElement("span");f.classList.add("glyphicon"),f.classList.add("glyphicon-ok");var v=document.createElement("a");v.type="button",v.id="modalEditSave-button",v.classList.add("btn"),v.classList.add("btn-lg"),v.classList.add("btn-success"),s(v).attr("data-toggle","tooltip"),s(v).attr("data-placement","top"),s(v).attr("text",p),v.onclick=function(e){D()},v.appendChild(f),v.appendChild(u);var h=document.createElement("span");h.classList.add("hidden-xs"),h.innerText=" "+c.TodoTxtResources.get("PREVIEW");var m=document.createElement("span");m.classList.add("glyphicon"),m.classList.add("glyphicon-eye-open");var x=document.createElement("a");x.type="button",x.id="modalEditPreview-button",x.classList.add("btn"),x.classList.add("btn-lg"),x.classList.add("btn-primary"),s(x).attr("data-toggle","tooltip"),s(x).attr("data-placement","top"),s(x).attr("text",c.TodoTxtResources.get("PREVIEW")),x.onclick=function(e){T()},x.appendChild(m),x.appendChild(h);var y=document.createElement("span");y.classList.add("hidden-xs"),y.innerText=" "+c.TodoTxtResources.get("DELETE");var b=document.createElement("span");b.classList.add("glyphicon"),b.classList.add("glyphicon-floppy-remove");var E=document.createElement("a");E.type="button",E.id="modalEditDelete-button",E.classList.add("btn"),E.classList.add("btn-lg"),E.classList.add("btn-danger"),s(E).attr("data-toggle","tooltip"),s(E).attr("data-placement","top"),s(E).attr("text",c.TodoTxtResources.get("DELETE")),E.onclick=function(e){_()},E.appendChild(b),E.appendChild(y);var C=document.createElement("div");C.classList.add("btn-group"),C.classList.add("btn-group-justified"),C.appendChild(v),C.appendChild(x),t||C.appendChild(E);var k=document.createElement("div");k.classList.add("modal-footer"),k.appendChild(C);var S=document.createElement("div");S.classList.add("modal-content"),S.appendChild(r),S.appendChild(d),S.appendChild(k);var w=document.createElement("div");w.classList.add("modal-dialog"),w.appendChild(S);var L=document.createElement("div");return L.classList.add("modal"),L.id="modalEdit-div",L.tabIndex=-1,s(L).attr("role","dialog"),s(L).attr("aria-labelledby","modalEdit-label"),s(L).attr("aria-hidden","true"),s(L).attr("task-id",e.id),L.appendChild(w),L}(n,o);document.body.appendChild(a),C(e.modalEventHandlers),s(a).show(0),document.querySelector("#modalEdit-textarea").focus()}function T(){var e=document.querySelector("#modalEdit-textarea");if(e){var t=e.textContent,n=new r.TodoTxtTask(t);e.innerHTML=$(n)}}function g(){k(e.modalEventHandlers),s("#modalEdit-div").remove(),C(e.mainEventHandlers),q()}function h(){var e=document.querySelector("#priorities-ul");d.TodoTxtAttributes.priorities.forEach((function(t){if(t||u.TodoTxtVault.getConfig().showClosed){var o=n(t);e.appendChild(o)}}))}function m(){document.querySelector("#priorities-ul").innerHTML=""}function x(){var e=document.querySelector("#projects-ul");d.TodoTxtAttributes.projects.forEach((function(t){if(t||u.TodoTxtVault.getConfig().showClosed){var o=n(t);e.appendChild(o)}}))}function y(){document.querySelector("#projects-ul").innerHTML=""}function b(){var e=document.querySelector("#contexts-ul");d.TodoTxtAttributes.contexts.forEach((function(t){if(t||u.TodoTxtVault.getConfig().showClosed){var o=n(t);e.appendChild(o)}}))}function E(){document.querySelector("#contexts-ul").innerHTML=""}function C(e){e.forEach((function(e){var t=!1;e.uc&&(t=e.uc);try{e.el().addEventListener(e.ev,e.fn,t)}catch(e){console.error(e)}}))}function k(e){e.forEach((function(e){var t=!1;e.uc&&(t=e.uc);try{e.el().removeEventListener(e.ev,e.fn,t)}catch(e){console.error(e)}}))}function S(e){83==e.keyCode&&e.altKey&&J()}function w(e){67==e.keyCode&&e.altKey&&q()}function L(e){84==e.keyCode&&e.altKey&&v()}function A(e){B(e)}function R(e){e.keyCode&&13===e.keyCode&&e.altKey&&D()}function D(){var e=document.querySelector("#modalEdit-div"),t=s(e).attr("task-id"),n=document.querySelector("#modalEdit-textarea").textContent;if(n=l.TodoTxtUtils.htmlUnencode(n),i.TodoTxt.updateTask(t,n)){q();try{g()}catch(e){}}}function P(e){27!==e.keyCode&&0!==e.keyCode||g()}function _(){var e=document.querySelector("#modalEdit-div"),t=s(e).attr("task-id"),n=i.TodoTxt.getTask(t);if(n&&confirm(c.TodoTxtResources.get("DELETE_CONFIRM")+'\n\t"'+n.text+'"')&&u.TodoTxtVault.removeTask(t)){q();try{g()}catch(e){}}}var O;function j(){O&&window.clearTimeout(O),O=window.setTimeout((function(){H()}),500)}function M(e){e.keyCode&&80===e.keyCode&&e.altKey&&T()}function q(){U(u.TodoTxtVault.getConfig().showClosed),k(e.mainEventHandlers),N(),m(),y(),E(),F(),p(),h(),x(),b(),C(e.mainEventHandlers)}function I(e){e&&(document.querySelector("#filter-input").value=e,j())}function F(){document.querySelector("#filter-input").value=""}function N(){document.querySelector("#listContainer-div").innerHTML=""}function H(){N(),p()}function V(){U(!!!document.querySelector("#showClosed-label").className.match(/(( |^)btn-success)/))}function U(e){var t=document.querySelector("#showClosed-label");t.className=e?t.className.replace(/(( |^)btn-danger)/," btn-success"):t.className.replace(/(( |^)btn-success)/," btn-danger"),u.TodoTxtVault.setConfig({showClosed:e})}function K(e){var t=document.querySelector("#"+e+" .panel-heading"),n=document.querySelector("#"+e+" .panel-body");!!n.className.match(/(( |^)collapse)/)?W(t,n):X(t,n)}function W(e,t){var n=e.querySelector(".glyphicon");t.className=t.className.replace(/(( |^)collapse)/g,""),n.className=n.className.replace(/(( |^)glyphicon-chevron-down)/," glyphicon-chevron-up")}function X(e,t){var n=e.querySelector(".glyphicon");t.className+=" collapse",n.className=n.className.replace(/(( |^)glyphicon-chevron-up)/," glyphicon-chevron-down")}function z(e){var t=i.TodoTxt.getTask(e);t&&(t.isActive?i.TodoTxt.closeTask(e):i.TodoTxt.activateTask(e))}function B(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;if(t.length>0){var n=t[0],o=new FileReader;o.onloadend=function(e){confirm(c.TodoTxtResources.get("OVERWRITE_CONFIRM"))&&(i.TodoTxt.parseTodoTxtFile(e.target.result.toString()),q())},o.readAsText(n,"UTF-8")}}function Z(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}function J(){var e=i.TodoTxt.getSortedTaskArray().join("\n"),t=encodeURI("data:text/csv;charset=utf-8,"+e);window.open(t)}function $(e){var t=e.text||"";t=l.TodoTxtUtils.htmlEncode(t);var n=G(e);t=t.replace(e.priority,'<span class="'+n+'"><b>'+e.priority+"</b></span>"),e.projects.forEach((function(e){var n=new RegExp(e.replace(/\+/g,"\\+")+"(?![0-9A-Za-z])","g");t=t.replace(n,'<span class="text-muted"><b><i>'+e+"</i></b></span>")})),e.contexts.forEach((function(e){var n=new RegExp(e+"(?![0-9A-Za-z])","g");t=t.replace(n,'<span class="text-muted"><b><i>'+e+"</i></b></span>")}));var o=e.createdDate;return o&&(t=t.replace(o,'<span class="text-muted hidden-xs"><b><i>'+o+"</i></b></span>")),t}function G(e){var t="";return null!==e.priority&&e.isActive&&("(A)"===e.priority&&(t+=" text-danger"),"(B)"===e.priority&&(t+=" text-warning"),"(C)"===e.priority&&(t+=" text-primary")),t}e.generateTaskElement=t,e.generateListElement=n,e.displayTasks=p,e.displayTask=f,e.removeTask=function(e){document.querySelector("#listContainer-div").removeChild(document.querySelector("#"+e))},e.displayModalForTask=v,e.updateModalPreview=T,e.removeModal=g,e.modalEventHandlers=[{el:function(){return document},ev:"keydown",fn:function(e){R(e)}},{el:function(){return document},ev:"keydown",fn:function(e){P(e)}},{el:function(){return document},ev:"keydown",fn:function(e){M(e)}}],e.displayPriorities=h,e.clearPriorities=m,e.displayProjects=x,e.clearProjects=y,e.displayContexts=b,e.clearContexts=E,e.mainEventHandlers=[{el:function(){return document},ev:"keydown",fn:function(e){S(e)}},{el:function(){return document},ev:"keydown",fn:function(e){w(e)}},{el:function(){return document},ev:"keydown",fn:function(e){L(e)}},{el:function(){return document.querySelector("#fileDrop-div")},ev:"dragover",fn:function(e){Z(e)}},{el:function(){return document.querySelector("#fileDrop-div")},ev:"drop",fn:function(e){A(e)}},{el:function(){return document.querySelector("#fileUpload-input")},ev:"change",fn:function(e){A(e)}},{el:function(){return document.querySelector("#showClosed-label")},ev:"click",fn:function(){V(),q()}},{el:function(){return document.querySelector("#addTaskButton-button")},ev:"click",fn:function(){v()}},{el:function(){return document.querySelector("#saveFileButton-button")},ev:"click",fn:function(){J()}},{el:function(){return document.querySelector("#filter-input")},ev:"keyup",fn:function(){j()}},{el:function(){return document.querySelector("#clearFilter-button")},ev:"click",fn:function(){q()}},{el:function(){return document.querySelector("#priorities-div .panel-heading")},ev:"click",fn:function(){K("priorities-div")}},{el:function(){return document.querySelector("#projects-div .panel-heading")},ev:"click",fn:function(){K("projects-div")}},{el:function(){return document.querySelector("#contexts-div .panel-heading")},ev:"click",fn:function(){K("contexts-div")}}],e.bindControlEvents=C,e.unbindControlEvents=k,e.handleAltS=S,e.handleAltC=w,e.handleAltT=L,e.handleDrop=A,e.handleAltEnter=R,e.handleEsc=P,e.handleDeleteClick=_,e.handleFilter=j,e.handleAltP=M,e.refreshUi=q,e.setFilters=I,e.clearFilters=F,e.clearTasks=N,e.filterDisplayedTasks=H,e.toggleShowClosedStatus=V,e.setShowClosed=U,e.togglePanel=K,e.showPanel=W,e.hidePanel=X,e.toggleTaskStatus=z,e.getTodoTxtFile=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){try{s.ajax({url:e,cache:!1,error:function(e,t){alert(t)},success:function(e){i.TodoTxt.parseTodoTxtFile(e),q(),t()}})}catch(e){n(e)}}))];case 1:return t.sent(),[2]}}))}))},e.handleFileSelect=B,e.handleDragOver=Z,e.exportTodoTxtFile=J,e.getMarkupForTask=$,e.getDisplayClassForTask=G,e.initializeElements=function(){var e='     <div class="container-fluid" id="fileDrop-div">     <div class="col-md-9">         <div class="row">             <div class="btn-group btn-group-justified">                 <a class="btn btn-block btn-primary btn-lg btn-file ellipsis" data-toggle="tooltip" data-placement="top" text="'+c.TodoTxtResources.get("IMPORT")+'">                     <span class="glyphicon glyphicon-save"></span> <span class="hidden-xs">'+c.TodoTxtResources.get("IMPORT")+'</span> <input id="fileUpload-input" type="file" placeholder="Select todo.txt File">                 </a>                 <a id="addTaskButton-button" class="btn btn-lg btn-primary ellipsis" data-toggle="tooltip" data-placement="top" text="'+c.TodoTxtResources.get("ADD_TASK")+'">                     <span class="glyphicon glyphicon-plus"></span> <span class="hidden-xs">'+c.TodoTxtResources.get("ADD_TASK")+'</span>                 </a>                 <a id="saveFileButton-button" class="btn btn-lg btn-primary ellipsis" data-toggle="tooltip" data-placement="top" text="'+c.TodoTxtResources.get("EXPORT")+'">                     <span class="glyphicon glyphicon-open"></span> <span class="hidden-xs">'+c.TodoTxtResources.get("EXPORT")+'</span>                 </a>                 <a id="showClosed-label" class="btn btn-lg btn-danger ellipsis" data-toggle="tooltip" data-placement="top" text="'+c.TodoTxtResources.get("SHOW_CLOSED")+'">                     <span class="glyphicon glyphicon-ok-circle"></span> <span class="hidden-xs">'+c.TodoTxtResources.get("SHOW_CLOSED")+'</span>                 </a>             </div>         </div>         <div class="row">             <div class="input-group input-group-lg">                 <input id="filter-input" type="text" class="form-control" placeholder="'+c.TodoTxtResources.get("FILTER_PLACEHOLDER_TEXT")+'">                 <span class="input-group-btn">                     <button id="clearFilter-button" class="btn btn-primary" type="button" data-toggle="tooltip" data-placement="top" text="'+c.TodoTxtResources.get("CLEAR_FILTER")+'"><span class="glyphicon glyphicon-remove-circle"></span> <span class="hidden-xs">'+c.TodoTxtResources.get("CLEAR_FILTER")+'</span></button>                 </span>             </div>         </div>         <div class="row">             <div id="listContainer-div"></div>         </div>     </div>     <div class="col-md-3">         <div id="priorities-div" class="panel panel-primary">             <div class="panel-heading">                 <h3 class="panel-title"><span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span> '+c.TodoTxtResources.get("PRIORITIES")+'</h3>             </div>             <div class="panel-body">                 <ul id="priorities-ul" class="list-group"></ul>             </div>         </div>         <div id="projects-div" class="panel panel-primary">             <div class="panel-heading">                 <h3 class="panel-title"><span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span> '+c.TodoTxtResources.get("PROJECTS")+'</h3>             </div>             <div class="panel-body">                 <ul id="projects-ul" class="list-group"></ul>             </div>         </div>         <div id="contexts-div" class="panel panel-primary">             <div class="panel-heading">                 <h3 class="panel-title"><span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span> '+c.TodoTxtResources.get("CONTEXTS")+'</h3>             </div>             <div class="panel-body">                 <ul id="contexts-ul" class="list-group"></ul>             </div>         </div>     </div>     </div>',t=document.getElementById("todotxt");t&&(t.innerHTML=e)}}(t.TodoTxtView||(t.TodoTxtView={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(1),r=n(0),i=n(4);!function(e){function t(e){var t=e||"",n=new a.TodoTxtTask(t);return c(n),n.id}function n(e){return i.TodoTxtVault.getTask(e)}function s(t,o){var r;try{r=n(t)}catch(e){r=new a.TodoTxtTask}return r.parseInput(o),e.addTask(r),!0}function c(e){i.TodoTxtVault.addTask(e),l(e)}function l(e){e.priority&&o.TodoTxtAttributes.priorities.add(e.priority),e.projects.forEach((function(e){e&&o.TodoTxtAttributes.projects.add(e)})),e.contexts.forEach((function(e){e&&o.TodoTxtAttributes.contexts.add(e)}))}function d(e,t){var n=e.isActive,o=t.isActive,a=e.priority,r=t.priority,i=e.createdDate,s=t.createdDate,c=e.completedDate,l=t.completedDate;if(n!==o)return n?-1:1;if(a!==r){if(!r||a<r)return-1;if(!a||a>r)return 1}else{if(i!==s)return i<s?-1:1;if(c!==l)return c>l?-1:1}return 0}e.getSortedTaskArray=function(){var e=i.TodoTxtVault.getAllTasks();o.TodoTxtAttributes.reset();for(var t=0;t<e.length;t++)l(e[t]);return e.sort(d),e},e.getFilteredTaskArray=function(t){var n=e.getSortedTaskArray();if(t&&""!==t){for(var o=t.split(" "),a="",r=0;r<o.length;r++){a+=".*("+o[r].replace(/([-\(\)\[\]\{\}+\?*\.$\^\|,:#<\!\\])/g,"\\$1").replace(/\x08/g,"\\x08")+").*"}var i=new RegExp(a,"i"),s=n.filter((function(e){return e.text.match(i)}));n=s}return n},e.parseTodoTxtFile=function(e,n){n||i.TodoTxtVault.removeAllTasks();var o=e.split("\n");for(var a in o)if("string"==typeof o[a]){var r=o[a];r&&""!==r&&t(r)}},e.createTask=t,e.getTask=n,e.updateTask=s,e.addTask=c,e.closeTask=function(e){var t=n(e);if(t&&t.isActive){var o=t.text;return t.priority&&(o=o.replace(t.priority,"")),o="x "+r.TodoTxtUtils.formatDate(new Date)+" "+o,s(t.id,o),!0}return!1},e.activateTask=function(e){var t=n(e);if(t&&!t.isActive){var o=t.text;return o=o.replace(/^(x )/,"").replace(t.completedDate+" ",""),s(t.id,o),!0}return!1}}(t.TodoTxt||(t.TodoTxt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){var n=this;this.tasks=[],this.config={showClosed:!1},e&&e.forEach((function(e){n.tasks.push({id:e.id,text:e.text})})),t&&(this.config=t)};t.TodoTextPersistance=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0);!function(e){var t=new Map;e.register=function(e,n){t.set(e,n)},e.get=function(e){var n=t.get(a.TodoTxtUtils.getLanguage());n||(n=t.get("en-us"));var o=n[e];if(!o)throw"requested resource not found: "+e;return o}}(o=t.TodoTxtResources||(t.TodoTxtResources={})),o.register("en-us",{OVERWRITE_CONFIRM:"This will overwrite any existing list.  Are you sure you wish to proceed?",DELETE_CONFIRM:"Are you sure you want to delete task?",IMPORT:"Import",ADD_TASK:"Add Task",EXPORT:"Export",SHOW_CLOSED:"Show Closed",FILTER_PLACEHOLDER_TEXT:"Type filter(s)",CLEAR_FILTER:"Clear Filter",PRIORITIES:"Priorities",PROJECTS:"Projects",CONTEXTS:"Contexts",CLOSE:"Close",EDIT_TASK_HEADER:"Edit Task",ADD:"Add",UPDATE:"Update",PREVIEW:"Preview",DELETE:"Delete"})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvdG9kby10eHQtdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rhc2tzL3RvZG8tdHh0LXRhc2sudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rhc2tzL3RvZG8tdHh0LWF0dHJpYnV0ZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JhZ2UvdG9kby10eHQtdmF1bHQudHMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL3RvZG8tdHh0LXZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RvZG8tdHh0LnRzIiwid2VicGFjazovLy8uL3NyYy9zdG9yYWdlL3RvZG8tdHh0LWNhY2hlLnRzIiwid2VicGFjazovLy8uL3NyYy91aS90b2RvLXR4dC1yZXNvdXJjZXMudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJUb2RvVHh0VXRpbHMiLCJmb3JtYXREYXRlIiwiZGF0ZU9iaiIsInl5eXkiLCJnZXRGdWxsWWVhciIsIm1tIiwiZ2V0TW9udGgiLCJ0b1N0cmluZyIsImxlbmd0aCIsImRkIiwiZ2V0RGF0ZSIsIlN0cmluZyIsImdldExhbmd1YWdlIiwid2luZG93IiwibmF2aWdhdG9yIiwibGFuZ3VhZ2UiLCJ0b0xvd2VyQ2FzZSIsImd1aWQiLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsImh0bWxFbmNvZGUiLCJzdHIiLCJodG1sVW5lbmNvZGUiLCJ0ZXh0IiwicHJvamVjdHMiLCJjb250ZXh0cyIsIm1ldGFkYXRhcyIsInRoaXMiLCJpZCIsImlzQWN0aXZlIiwicGFyc2VJbnB1dCIsImlucHV0IiwicGFyc2VTdGF0dXMiLCJwYXJzZVByaW9yaXR5IiwicGFyc2VDb21wbGV0ZWREYXRlIiwicGFyc2VDcmVhdGVkRGF0ZSIsInBhcnNlUHJvamVjdHMiLCJwYXJzZUNvbnRleHRzIiwibWF0Y2giLCJwcmkiLCJwcmlvcml0eSIsImNvbXBsZXRlZCIsImRhdGVzIiwiZ2V0RGF0ZXNGcm9tVGV4dCIsImNvbXBsZXRlZERhdGUiLCJjcmVhdGVkIiwiY3JlYXRlZERhdGUiLCJwdXNoIiwidG1wU2V0IiwiU2V0IiwiYWRkIiwiQXJyYXkiLCJmcm9tIiwiVG9kb1R4dFRhc2siLCJqUXVlcnkiLCJUb2RvVHh0QXR0cmlidXRlcyIsInByaW9yaXRpZXMiLCJyZXNldCIsIlRvZG9UeHRWYXVsdCIsInRhc2tzIiwiTWFwIiwiY29uZmlnIiwic2hvd0Nsb3NlZCIsImNhY2hlRXJyb3IiLCJwZXJzaXN0IiwiY2FjaGUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJhbGVydCIsImNvbnNvbGUiLCJlcnJvciIsImxvYWQiLCJwZXJzaXN0YW5jZSIsImdldEl0ZW0iLCJwYXJzZSIsImNsZWFyIiwidGFzayIsInNldCIsImluZm8iLCJhZGRUYXNrIiwiaGFzIiwiZGVsZXRlIiwicmVtb3ZlVGFzayIsInRhc2tJZCIsImZvdW5kIiwicmVtb3ZlQWxsVGFza3MiLCJnZXRUYXNrIiwiRXJyb3IiLCJnZXRBbGxUYXNrcyIsInRzIiwiZm9yRWFjaCIsImdldENvbmZpZyIsInNldENvbmZpZyIsImNmZyIsIl9jbGVhciIsInJlbW92ZUl0ZW0iLCIkIiwicmVhZHkiLCJUb2RvVHh0VmlldyIsImluaXRpYWxpemVFbGVtZW50cyIsInJlZnJlc2hVaSIsImdlbmVyYXRlVGFza0VsZW1lbnQiLCJpY29uIiwic3RhdHVzIiwiaHRtbFRleHQiLCJnZXRNYXJrdXBGb3JUYXNrIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImljb25TcGFuIiwiY2xhc3NMaXN0Iiwic3RhdHVzVG9nZ2xlU3BhbiIsIm9uY2xpY2siLCJ0b2dnbGVUYXNrU3RhdHVzIiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5TW9kYWxCdXR0b24iLCJpbm5lckhUTUwiLCJkaXNwbGF5TW9kYWxGb3JUYXNrIiwiZ2VuZXJhdGVMaXN0RWxlbWVudCIsInNldEZpbHRlcnMiLCJvbm1vdXNlb3ZlciIsIm9ubW91c2VvdXQiLCJkaXNwbGF5VGFza3MiLCJmaWx0ZXIiLCJxdWVyeVNlbGVjdG9yIiwiZmlsdGVyZWRUYXNrcyIsIlRvZG9UeHQiLCJnZXRGaWx0ZXJlZFRhc2tBcnJheSIsImRpc3BsYXlUYXNrIiwiaXNOZXciLCJ1bmJpbmRDb250cm9sRXZlbnRzIiwibWFpbkV2ZW50SGFuZGxlcnMiLCJtb2RhbCIsImNsb3NlQnV0dG9uSWNvbiIsImF0dHIiLCJjbG9zZUJ1dHRvbiIsInR5cGUiLCJUb2RvVHh0UmVzb3VyY2VzIiwicmVtb3ZlTW9kYWwiLCJtb2RhbFRpdGxlIiwibW9kYWxIZWFkZXIiLCJtb2RhbFRleHRBcmVhIiwiY29udGVudEVkaXRhYmxlIiwibW9kYWxCb2R5Iiwic2F2ZUJ1dHRvbkxhYmVsIiwidHh0IiwiaW5uZXJUZXh0Iiwic2F2ZUJ1dHRvbkljb24iLCJzYXZlQnV0dG9uIiwic2F2ZU9yVXBkYXRlVGFza0Zyb21Nb2RhbCIsInByZXZpZXdCdXR0b25MYWJlbCIsInByZXZpZXdCdXR0b25JY29uIiwicHJldmlld0J1dHRvbiIsInVwZGF0ZU1vZGFsUHJldmlldyIsImRlbGV0ZUJ1dHRvbkxhYmVsIiwiZGVsZXRlQnV0dG9uSWNvbiIsImRlbGV0ZUJ1dHRvbiIsImhhbmRsZURlbGV0ZUNsaWNrIiwibW9kYWxGb290ZXJCdXR0b25Hcm91cCIsIm1vZGFsRm9vdGVyIiwibW9kYWxDb250ZW50IiwibW9kYWxEaWFsb2ciLCJ0YWJJbmRleCIsImdlbmVyYXRlTW9kYWxFbGVtZW50IiwiYm9keSIsImJpbmRDb250cm9sRXZlbnRzIiwibW9kYWxFdmVudEhhbmRsZXJzIiwic2hvdyIsImZvY3VzIiwiZWwiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsImRpc3BsYXlQcmlvcml0aWVzIiwicHJpTGlzdCIsImNsZWFyUHJpb3JpdGllcyIsImRpc3BsYXlQcm9qZWN0cyIsInByb2pMaXN0IiwicHJvaiIsImNsZWFyUHJvamVjdHMiLCJkaXNwbGF5Q29udGV4dHMiLCJjdHhMaXN0IiwiY3R4IiwiY2xlYXJDb250ZXh0cyIsImhhbmRsZXJzIiwiaGFuZGxlciIsInVzZUNhcHR1cmUiLCJ1YyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsImZuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUFsdFMiLCJrZXlDb2RlIiwiYWx0S2V5IiwiZXhwb3J0VG9kb1R4dEZpbGUiLCJoYW5kbGVBbHRDIiwiaGFuZGxlQWx0VCIsImhhbmRsZURyb3AiLCJoYW5kbGVGaWxlU2VsZWN0IiwiaGFuZGxlQWx0RW50ZXIiLCJ1cGRhdGVUYXNrIiwiZXgiLCJoYW5kbGVFc2MiLCJjb25maXJtIiwiZmlsdGVyVGltZW91dElkIiwiaGFuZGxlRmlsdGVyIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImZpbHRlckRpc3BsYXllZFRhc2tzIiwiaGFuZGxlQWx0UCIsInNldFNob3dDbG9zZWQiLCJjbGVhclRhc2tzIiwiY2xlYXJGaWx0ZXJzIiwiZmlsdGVyU3RyIiwidG9nZ2xlU2hvd0Nsb3NlZFN0YXR1cyIsImFjdGl2ZSIsInRvZ2dsZVBhbmVsIiwiaGVhZGluZyIsInNob3dQYW5lbCIsImhpZGVQYW5lbCIsImluZGljYXRvciIsImNsb3NlVGFzayIsImFjdGl2YXRlVGFzayIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZmlsZXMiLCJkYXRhVHJhbnNmZXIiLCJmIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZGVuZCIsInBhcnNlVG9kb1R4dEZpbGUiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNUZXh0IiwiaGFuZGxlRHJhZ092ZXIiLCJkcm9wRWZmZWN0IiwiY29udGVudCIsImdldFNvcnRlZFRhc2tBcnJheSIsImpvaW4iLCJkYXRhIiwiZW5jb2RlVVJJIiwib3BlbiIsInByaUNscyIsImdldERpc3BsYXlDbGFzc0ZvclRhc2siLCJwcm9qZWN0IiwicmVnZXgiLCJSZWdFeHAiLCJkYXRlIiwiY2xzIiwicmVtb3ZlQ2hpbGQiLCJnZXRUb2RvVHh0RmlsZSIsImZpbGVOYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJhamF4IiwidXJsIiwianFYSFIiLCJ0ZXh0U3RhdHVzIiwic3VjY2VzcyIsImJhc2VFbGVtZW50cyIsImNvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlVGFzayIsInRleHRTdHIiLCJuZXdUZXh0IiwidXBkYXRlQXR0cmlidXRlcyIsImNvbnRleHQiLCJjb21wYXJlVGFza3MiLCJ0YXNrQSIsInRhc2tCIiwiYUFjdGl2ZSIsImJBY3RpdmUiLCJhUHJpIiwiYlByaSIsImFDcmVhdGVkIiwiYkNyZWF0ZWQiLCJhQ29tcGxldGVkIiwiYkNvbXBsZXRlZCIsInRhc2tBcnJheSIsInNvcnQiLCJmaWx0ZXJzIiwic3BsaXQiLCJyU3RyIiwidG9kb1R4dCIsImFwcGVuZCIsImxpbmVzIiwibGluZSIsIkRhdGUiLCJUb2RvVGV4dFBlcnNpc3RhbmNlIiwicmVjcyIsInJlZ2lzdGVyIiwibGFuZ0xvY2FsZSIsInJlc291cmNlT2JqIiwicmVjIiwidmFsIiwiT1ZFUldSSVRFX0NPTkZJUk0iLCJERUxFVEVfQ09ORklSTSIsIklNUE9SVCIsIkFERF9UQVNLIiwiRVhQT1JUIiwiU0hPV19DTE9TRUQiLCJGSUxURVJfUExBQ0VIT0xERVJfVEVYVCIsIkNMRUFSX0ZJTFRFUiIsIlBSSU9SSVRJRVMiLCJQUk9KRUNUUyIsIkNPTlRFWFRTIiwiQ0xPU0UiLCJFRElUX1RBU0tfSEVBREVSIiwiQUREIiwiVVBEQVRFIiwiUFJFVklFVyIsIkRFTEVURSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixF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QUFLM1QsSUFBSSxVQUVoQixJQUFJZ1UsRUFBY0QsRUFBSXJULEdBQ3RCLElBQUtzVCxFQUNKLEtBQU0saUNBQWlDdFQsRUFFeEMsT0FBT3NULEdBaEJULENBQWMvSixFQUFBLEVBQUFBLG1CQUFBLEVBQUFBLGlCQUFnQixLQW9COUJBLEVBQWlCMkosU0FBUyxRQUFTLENBQ2xDSyxrQkFBbUIsNEVBQ25CQyxlQUFnQix3Q0FDYkMsT0FBUSxTQUNSQyxTQUFVLFdBQ1ZDLE9BQVEsU0FDUkMsWUFBYSxjQUNiQyx3QkFBeUIsaUJBQ3pCQyxhQUFjLGVBQ2RDLFdBQVksYUFDWkMsU0FBVSxXQUNWQyxTQUFVLFdBQ1ZDLE1BQU8sUUFDUEMsaUJBQWtCLFlBQ2xCQyxJQUFLLE1BQ0xDLE9BQVEsU0FDUkMsUUFBUyxVQUNUQyxPQUFRIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIFRoaXMgamF2YXNjcmlwdCB3YXMgY3JlYXRlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb25zIGF0XHJcbiAqIGh0dHA6Ly90b2RvdHh0LmNvbS8gYW5kIGlzIGludGVuZGVkIHRvIGFsbG93IHVzZXJzIHRvIGFjY2VzcyB0aGVpclxyXG4gKiB0b2RvLnR4dCBmaWxlcyBpbiBhIHVzZXItZnJpZW5kbHkgYW5kIGVhc3kgdG8gdmlzdWFsaXplIG1hbm5lci5cclxuICpcclxuICogT25jZSBpbml0aWFsbHkgdXBsb2FkZWQsIHRoZSB0b2RvLnR4dCBmaWxlIHdpbGxcclxuICogYmUgbG9hZGVkIGludG8gYW4gSFRNTDUgbG9jYWxTdG9yYWdlIGFuZCBtYW5hZ2VkIGZyb20gdGhlcmUuXHJcbiAqIFRoZSB3ZWIgcGFnZSB0aGVuIGFsbG93cyBkb3dubG9hZGluZyBjaGFuZ2VzIGJhY2sgdG8gdGhlIHVzZXJcclxuICogaW4gYSB0eHQgZm9ybWF0IGNvbXBsaWFudCB3aXRoIHRoZSB0b2RvLnR4dCBzcGVjaWZpY2F0aW9ucywgYnV0XHJcbiAqIGhhdmluZyByZS1zb3J0ZWQgdGhlIHRhc2tzLlxyXG4gKiBcclxuICogQENyZWF0ZWQ6IDA4LzE0LzIwMTJcclxuICogQEF1dGhvcjogSmFzb24gSG9sdCBTbWl0aCAoYmljYXJib244QGdtYWlsLmNvbSlcclxuICogQFZlcnNpb246IDAuMC4xXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMiBKYXNvbiBIb2x0IFNtaXRoLiB0b2RvVHh0V2ViVWkgaXMgZGlzdHJpYnV0ZWQgdW5kZXJcclxuICogdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZS5cclxuICogXHJcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRvZG9UeHRXZWJVaS5cclxuICogXHJcbiAqIHRvZG9UeHRXZWJVaSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcbiAqIFxyXG4gKiB0b2RvVHh0V2ViVWkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKiBcclxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuICogYWxvbmcgd2l0aCB0b2RvVHh0V2ViVWkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4vKipcclxuICogVXRpbGl0eSBtZXRob2RzIHVzZWQgYnkgdGhlIHByb2plY3QgbGlicmFyeVxyXG4gKiBAbmFtZXNwYWNlXHJcbiAqL1xyXG5leHBvcnQgbW9kdWxlIFRvZG9UeHRVdGlscyB7XHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHdpbGwgZm9ybWF0IGEgRGF0ZSBvYmplY3QgdG8gYSBzdHJpbmcgb2YgWVlZWS1NTS1ERFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gZm9ybWF0dGVkIGRhdGVcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZU9iajogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIHl5eXkgPSBkYXRlT2JqLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgdmFyIG1tID0gKGRhdGVPYmouZ2V0TW9udGgoKSsxKS50b1N0cmluZygpOyAvLyBnZXRNb250aCgpIGlzIHplcm8tYmFzZWRcclxuICAgICAgICBtbSA9IG1tLmxlbmd0aCA8IDIgPyBcIjBcIiArIG1tIDogbW07XHJcbiAgICAgICAgdmFyIGRkICA9IChkYXRlT2JqLmdldERhdGUoKSkudG9TdHJpbmcoKTtcclxuICAgICAgICBkZCA9IGRkLmxlbmd0aCA8IDIgPyBcIjBcIiArIGRkIDogZGQ7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZyh5eXl5ICsgXCItXCIgKyBtbSArIFwiLVwiICsgZGQpOyAvLyBMZWFkaW5nIHplcm9zIGZvciBtbSBhbmQgZGRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHdpbGwgZ2V0IHRoZSBjdXJyZW50IGJyb3dzZXIgbGFuZ3VhZ2UtbG9jYWxlXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBhIElTTyBsYW5ndWFnZS1sb2NhbGUgZm9yIHRoZSBicm93c2VyXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRMYW5ndWFnZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHZhciBsYW5nTG9jYWxlID0gd2luZG93Lm5hdmlnYXRvcltcInVzZXJMYW5ndWFnZVwiXSB8fCB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlO1xyXG4gICAgICAgIHJldHVybiBsYW5nTG9jYWxlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiBnZW5lcmF0ZXMgYSBHVUlEXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBhIEdVSUQgKE5OTk5OTk5OLU5OTk4tTk5OTi1OTk5OLU5OTk5OTk5OTk5OTilcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XHJcbiAgICAgICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gd2lsbCBzdHJpcCBvdXQgYW55IGNoYXJhY3RlcnMgZnJvbSB0aGUgcGFzc2VkIGluIHN0cmluZyB0aGF0IGFyZVxyXG4gICAgICogbm90IGNvbXBhdGlibGUgd2l0aCBodG1sIGFuZCByZXBsYWNlIHdpdGggaHRtbC1mcmllbmRseSB2ZXJzaW9uc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIHRoZSBzdHJpbmcgdG8gYmUgaHRtbCBlbmNvZGVkXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBhIGh0bWwgZW5jb2RlZCB2ZXJzaW9uIG9mIHRoZSBzdHJpbmcgdGhhdCBjYW4gYmUgdXNlZCBzYWZlbHlcclxuICAgICAqIHdpdGhpbiBhIGh0bWwgcGFnZVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaHRtbEVuY29kZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZyhzdHIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcclxuICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHN7Mn0vZywgJyAmbmJzcDsnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHdpbGwgc3RyaXAgb3V0IGFueSBjaGFyYWN0ZXJzIGZyb20gdGhlIHBhc3NlZCBpbiBzdHJpbmcgdGhhdCBhcmVcclxuICAgICAqIGh0bWwgY2hhcmFjdGVyIGVudGl0aWVzIGFuZCByZXBsYWNlIHdpdGggc3RhbmRhcmQgc3RyaW5nIHZlcnNpb25zXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gdGhlIHN0cmluZyB0byBiZSBodG1sIHVuZW5jb2RlZFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gYSB2ZXJzaW9uIG9mIHRoZSBzdHJpbmcgdGhhdCBjYW4gY29udGFpbnMgbm9uLWh0bWwtZnJpZW5kbHlcclxuICAgICAqIHN0cmluZ3NcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGh0bWxVbmVuY29kZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZyhzdHIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mYW1wOy9nLCAnJicpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcclxuICAgICAgICAgICAgLnJlcGxhY2UoLyZndDsvZywgJz4nKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvJnF1b3Q7L2csICdcIicpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKTtcclxuICAgIH1cclxufSIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIFRoaXMgamF2YXNjcmlwdCB3YXMgY3JlYXRlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb25zIGF0XHJcbiAqIGh0dHA6Ly90b2RvdHh0LmNvbS8gYW5kIGlzIGludGVuZGVkIHRvIGFsbG93IHVzZXJzIHRvIGFjY2VzcyB0aGVpclxyXG4gKiB0b2RvLnR4dCBmaWxlcyBpbiBhIHVzZXItZnJpZW5kbHkgYW5kIGVhc3kgdG8gdmlzdWFsaXplIG1hbm5lci5cclxuICpcclxuICogT25jZSBpbml0aWFsbHkgdXBsb2FkZWQsIHRoZSB0b2RvLnR4dCBmaWxlIHdpbGxcclxuICogYmUgbG9hZGVkIGludG8gYW4gSFRNTDUgbG9jYWxTdG9yYWdlIGFuZCBtYW5hZ2VkIGZyb20gdGhlcmUuXHJcbiAqIFRoZSB3ZWIgcGFnZSB0aGVuIGFsbG93cyBkb3dubG9hZGluZyBjaGFuZ2VzIGJhY2sgdG8gdGhlIHVzZXJcclxuICogaW4gYSB0eHQgZm9ybWF0IGNvbXBsaWFudCB3aXRoIHRoZSB0b2RvLnR4dCBzcGVjaWZpY2F0aW9ucywgYnV0XHJcbiAqIGhhdmluZyByZS1zb3J0ZWQgdGhlIHRhc2tzLlxyXG4gKiBcclxuICogQENyZWF0ZWQ6IDA4LzE0LzIwMTJcclxuICogQEF1dGhvcjogSmFzb24gSG9sdCBTbWl0aCAoYmljYXJib244QGdtYWlsLmNvbSlcclxuICogQFZlcnNpb246IDAuMC4xXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMiBKYXNvbiBIb2x0IFNtaXRoLiB0b2RvVHh0V2ViVWkgaXMgZGlzdHJpYnV0ZWQgdW5kZXJcclxuICogdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZS5cclxuICogXHJcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRvZG9UeHRXZWJVaS5cclxuICogXHJcbiAqIHRvZG9UeHRXZWJVaSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcbiAqIFxyXG4gKiB0b2RvVHh0V2ViVWkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKiBcclxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuICogYWxvbmcgd2l0aCB0b2RvVHh0V2ViVWkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5pbXBvcnQgeyBUb2RvVHh0VXRpbHMgfSBmcm9tIFwiLi4vaGVscGVycy90b2RvLXR4dC11dGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvZG9UeHRUYXNrIHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBwcmlvcml0eTogc3RyaW5nO1xyXG4gICAgY3JlYXRlZERhdGU6IHN0cmluZztcclxuICAgIGNvbXBsZXRlZERhdGU6IHN0cmluZztcclxuICAgIHByb2plY3RzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY29udGV4dHM6IHN0cmluZ1tdID0gW107XHJcbiAgICBtZXRhZGF0YXM6IHN0cmluZ1tdID0gW107XHJcbiAgICBpc0FjdGl2ZTogYm9vbGVhbjtcclxuICAgIHRleHQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0Pzogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IFRvZG9UeHRVdGlscy5ndWlkKCk7XHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wYXJzZUlucHV0KHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlSW5wdXQoaW5wdXQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmIChpbnB1dCkge1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSBpbnB1dDtcclxuICAgICAgICAgICAgdGhpcy5wYXJzZVN0YXR1cygpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcnNlUHJpb3JpdHkoKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJzZUNvbXBsZXRlZERhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJzZUNyZWF0ZWREYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VQcm9qZWN0cygpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcnNlQ29udGV4dHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXJzZVN0YXR1cygpOiB2b2lkIHtcclxuICAgICAgICAvLyBjaGVjayBmb3Igc3RyaW5ncyBzdGFydGluZyB3aXRoIHNvbWV0aGluZyBsaWtlIFwieCBcIlxyXG4gICAgICAgIGxldCBtYXRjaDogUmVnRXhwTWF0Y2hBcnJheSA9IHRoaXMudGV4dC5tYXRjaCgvXih4ICkvKTtcclxuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcGFyc2VQcmlvcml0eSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcHJpOiBzdHJpbmcgPSBudWxsOyAvLyB1c2VkIHRvIGhvbGQgdGhlIHByaW9yaXR5IGlmIHNldFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHBhcnNlIG91dCB0aGUgcHJpb3JpdHkgUmVnRXg6IC9cXF4oW0EtWl1cXCkuKi8gXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIHN0cmluZ3Mgc3RhcnRpbmcgd2l0aCBzb21ldGhpbmcgbGlrZSBcIihBKSBcIlxyXG4gICAgICAgIGxldCBwcmlQYXR0ZXJuOiBSZWdFeHAgPSAvXihcXChbQS1aXVxcKVtcXHNdKykvO1xyXG4gICAgICAgIHZhciBtYXRjaCA9IHRoaXMudGV4dC5tYXRjaChwcmlQYXR0ZXJuKTsgLy8gcmV0dXJucyBudWxsIGlmIG5vdCBmb3VuZFxyXG4gICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICAvLyBmb3VuZCBhbiBhY3RpdmUgbWF0Y2ggc28gZ2V0IHRoZSBwcmlvcml0eVxyXG4gICAgICAgICAgICBwcmkgPSBtYXRjaFswXS5yZXBsYWNlKC9bXFxzXSovZywgXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXJzZUNvbXBsZXRlZERhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcGFyc2Ugb3V0IHRoZSBjb21wbGV0ZWREYXRlIGlmIGNsb3NlZCAoc3RhcnRzIHdpdGggXCJ4IFwiKVxyXG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICBsZXQgZGF0ZXM6IHN0cmluZ1tdID0gdGhpcy5nZXREYXRlc0Zyb21UZXh0KCk7XHJcbiAgICAgICAgICAgIGlmIChkYXRlcykge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gZGF0ZXNbMF0gPyBkYXRlc1swXS5yZXBsYWNlKC9bXFxzXSovZywgXCJcIikgOiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY29tcGxldGVkRGF0ZSA9IGNvbXBsZXRlZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlQ3JlYXRlZERhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIGNyZWF0ZWQgPSBudWxsO1xyXG4gICAgICAgIC8vIHBhcnNlIG91dCB0aGUgY3JlYXRlZERhdGUgKHdpbGwgYmUgMm5kIGlmIGl0ZW0gaXMgY2xvc2VkKVxyXG4gICAgICAgIGxldCBkYXRlczogc3RyaW5nW10gPSB0aGlzLmdldERhdGVzRnJvbVRleHQoKTtcclxuICAgICAgICBpZiAoZGF0ZXMpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZXMubGVuZ3RoID4gMSkgeyAvLyB3ZSBoYXZlIGNyZWF0ZWQgYW5kIGNvbXBsZXRlZFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQgPSBkYXRlc1sxXSA/IGRhdGVzWzFdLnJlcGxhY2UoL1tcXHNdKi9nLCBcIlwiKSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkID0gZGF0ZXNbMF0gPyBkYXRlc1swXS5yZXBsYWNlKC9bXFxzXSovZywgXCJcIikgOiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY3JlYXRlZERhdGUgPSBjcmVhdGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RGF0ZXNGcm9tVGV4dCgpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgdmFyIGRhdGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGNoZWNrIGZvciBzdHJpbmdzIHdpdGggc29tZXRoaW5nIGxpa2UgXCIyMDEyLTA4LTA5XCJcclxuICAgICAgICBsZXQgZGF0ZVBhdHRlcm46IFJlZ0V4cCA9IC8oPzpcXHN8XikoXFxkezR9LVxcZHsyfS1cXGR7Mn0pKD89XFxzKS9nO1xyXG4gICAgICAgIGxldCBtYXRjaDogUmVnRXhwTWF0Y2hBcnJheSA9IHRoaXMudGV4dC5tYXRjaChkYXRlUGF0dGVybik7IC8vIHJldHVybnMgbnVsbCBpZiBub3QgZm91bmRcclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPG1hdGNoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlcy5wdXNoKG1hdGNoW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZGF0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXJzZVByb2plY3RzKCk6IHZvaWQge1xyXG4gICAgICAgIHZhciB0bXBTZXQ6IFNldDxzdHJpbmc+ID0gbmV3IFNldDxzdHJpbmc+KCk7IC8vIHVzZWQgdG8gaG9sZCB0aGUgcHJvamVjdCBpZiBzZXRcclxuICAgICAgICBcclxuICAgICAgICAvLyBwYXJzZSBvdXQgdGhlIHByb2plY3RzIFJlZ0V4OiAvXFwrWzAtOUEtWmEtel0rXFxzLyAod29yZHMgc3RhcnRpbmcgd2l0aCBcIitcIilcclxuICAgICAgICAvLyBjaGVjayBmb3Igc3RyaW5ncyBsaWtlIFwiK0FCQzEyM1wiXHJcbiAgICAgICAgdmFyIHByb2pQYXR0ZXJuID0gLygoXFxzfF4pW1xcKFxce1xcW1wiJ10/XFwrWzAtOUEtWmEtel0rW1xcKVxcfVxcXVwiJ10/KD89XFxzfCQpKS9nO1xyXG4gICAgICAgIHZhciBtYXRjaCA9IHRoaXMudGV4dC5tYXRjaChwcm9qUGF0dGVybik7IC8vIHJldHVybnMgbnVsbCBpZiBub3QgZm91bmRcclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgLy8gb25seSBzdG9yZSBvbmUgaW5zdGFuY2Ugb2YgZHVwbGljYXRlIHByb2plY3QgZW50cmllc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8bWF0Y2gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gbWF0Y2hbaV0ucmVwbGFjZSgvW1xcc10qL2csIFwiXCIpLnJlcGxhY2UoL1tcXChcXHtcXFtcXClcXH1cXF1cIiddL2csIFwiXCIpOztcclxuICAgICAgICAgICAgICAgIHRtcFNldC5hZGQocCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wcm9qZWN0cyA9IEFycmF5LmZyb20odG1wU2V0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlQ29udGV4dHMoKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIHRtcFNldDogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTsgLy8gdXNlZCB0byBob2xkIHRoZSBjb250ZXh0IGlmIHNldFxyXG4gICAgXHJcbiAgICAgICAgLy8gcGFyc2Ugb3V0IHRoZSBjb250ZXh0cyBSZWdFeDogL1xcQFswLTlBLVphLXpdK1xccy8gKHdvcmRzIHN0YXJ0aW5nIHdpdGggXCIrXCIpXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIHN0cmluZ3MgbGlrZSBcIkBBQkMxMjNcIlxyXG4gICAgICAgIHZhciBjdHhQYXR0ZXJuID0gLygoXFxzfF4pW1xcKFxce1xcW1wiJ10/XFxAWzAtOUEtWmEtel0rW1xcKVxcfVxcXVwiJ10/KD89XFxzfCQpKS9nO1xyXG4gICAgICAgIHZhciBtYXRjaCA9IHRoaXMudGV4dC5tYXRjaChjdHhQYXR0ZXJuKTsgLy8gcmV0dXJucyBudWxsIGlmIG5vdCBmb3VuZFxyXG4gICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHN0b3JlIG9uZSBpbnN0YW5jZSBvZiBkdXBsaWNhdGUgcHJvamVjdCBlbnRyaWVzXHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxtYXRjaC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBtYXRjaFtpXS5yZXBsYWNlKC9bXFxzXSovZywgXCJcIikucmVwbGFjZSgvW1xcKFxce1xcW1xcKVxcfVxcXVwiJ10vZywgXCJcIik7O1xyXG4gICAgICAgICAgICAgICAgdG1wU2V0LmFkZChjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHRoaXMuY29udGV4dHMgPSBBcnJheS5mcm9tKHRtcFNldCk7XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTsiLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBUaGlzIGphdmFzY3JpcHQgd2FzIGNyZWF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpY2F0aW9ucyBhdFxyXG4gKiBodHRwOi8vdG9kb3R4dC5jb20vIGFuZCBpcyBpbnRlbmRlZCB0byBhbGxvdyB1c2VycyB0byBhY2Nlc3MgdGhlaXJcclxuICogdG9kby50eHQgZmlsZXMgaW4gYSB1c2VyLWZyaWVuZGx5IGFuZCBlYXN5IHRvIHZpc3VhbGl6ZSBtYW5uZXIuXHJcbiAqXHJcbiAqIE9uY2UgaW5pdGlhbGx5IHVwbG9hZGVkLCB0aGUgdG9kby50eHQgZmlsZSB3aWxsXHJcbiAqIGJlIGxvYWRlZCBpbnRvIGFuIEhUTUw1IGxvY2FsU3RvcmFnZSBhbmQgbWFuYWdlZCBmcm9tIHRoZXJlLlxyXG4gKiBUaGUgd2ViIHBhZ2UgdGhlbiBhbGxvd3MgZG93bmxvYWRpbmcgY2hhbmdlcyBiYWNrIHRvIHRoZSB1c2VyXHJcbiAqIGluIGEgdHh0IGZvcm1hdCBjb21wbGlhbnQgd2l0aCB0aGUgdG9kby50eHQgc3BlY2lmaWNhdGlvbnMsIGJ1dFxyXG4gKiBoYXZpbmcgcmUtc29ydGVkIHRoZSB0YXNrcy5cclxuICogXHJcbiAqIEBDcmVhdGVkOiAwOC8xNC8yMDEyXHJcbiAqIEBBdXRob3I6IEphc29uIEhvbHQgU21pdGggKGJpY2FyYm9uOEBnbWFpbC5jb20pXHJcbiAqIEBWZXJzaW9uOiAwLjAuMVxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIgSmFzb24gSG9sdCBTbWl0aC4gdG9kb1R4dFdlYlVpIGlzIGRpc3RyaWJ1dGVkIHVuZGVyXHJcbiAqIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UuXHJcbiAqIFxyXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0b2RvVHh0V2ViVWkuXHJcbiAqIFxyXG4gKiB0b2RvVHh0V2ViVWkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKiBcclxuICogdG9kb1R4dFdlYlVpIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICogXHJcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqIGFsb25nIHdpdGggdG9kb1R4dFdlYlVpLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuZXhwb3J0IG1vZHVsZSBUb2RvVHh0QXR0cmlidXRlcyB7XHJcbiAgICBleHBvcnQgdmFyIHByaW9yaXRpZXM6IFNldDxzdHJpbmc+ID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgICBleHBvcnQgdmFyIHByb2plY3RzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG4gICAgZXhwb3J0IHZhciBjb250ZXh0czogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmVzZXQoKTogdm9pZCB7XHJcbiAgICAgICAgcHJpb3JpdGllcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG4gICAgICAgIHByb2plY3RzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgICAgICAgY29udGV4dHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgIH1cclxufSIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIFRoaXMgamF2YXNjcmlwdCB3YXMgY3JlYXRlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb25zIGF0XHJcbiAqIGh0dHA6Ly90b2RvdHh0LmNvbS8gYW5kIGlzIGludGVuZGVkIHRvIGFsbG93IHVzZXJzIHRvIGFjY2VzcyB0aGVpclxyXG4gKiB0b2RvLnR4dCBmaWxlcyBpbiBhIHVzZXItZnJpZW5kbHkgYW5kIGVhc3kgdG8gdmlzdWFsaXplIG1hbm5lci5cclxuICpcclxuICogT25jZSBpbml0aWFsbHkgdXBsb2FkZWQsIHRoZSB0b2RvLnR4dCBmaWxlIHdpbGxcclxuICogYmUgbG9hZGVkIGludG8gYW4gSFRNTDUgbG9jYWxTdG9yYWdlIGFuZCBtYW5hZ2VkIGZyb20gdGhlcmUuXHJcbiAqIFRoZSB3ZWIgcGFnZSB0aGVuIGFsbG93cyBkb3dubG9hZGluZyBjaGFuZ2VzIGJhY2sgdG8gdGhlIHVzZXJcclxuICogaW4gYSB0eHQgZm9ybWF0IGNvbXBsaWFudCB3aXRoIHRoZSB0b2RvLnR4dCBzcGVjaWZpY2F0aW9ucywgYnV0XHJcbiAqIGhhdmluZyByZS1zb3J0ZWQgdGhlIHRhc2tzLlxyXG4gKiBcclxuICogQENyZWF0ZWQ6IDA4LzE0LzIwMTJcclxuICogQEF1dGhvcjogSmFzb24gSG9sdCBTbWl0aCAoYmljYXJib244QGdtYWlsLmNvbSlcclxuICogQFZlcnNpb246IDAuMC4xXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMiBKYXNvbiBIb2x0IFNtaXRoLiB0b2RvVHh0V2ViVWkgaXMgZGlzdHJpYnV0ZWQgdW5kZXJcclxuICogdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZS5cclxuICogXHJcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRvZG9UeHRXZWJVaS5cclxuICogXHJcbiAqIHRvZG9UeHRXZWJVaSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcbiAqIFxyXG4gKiB0b2RvVHh0V2ViVWkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKiBcclxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuICogYWxvbmcgd2l0aCB0b2RvVHh0V2ViVWkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5pbXBvcnQgeyBUb2RvVHh0VGFzayB9IGZyb20gXCIuLi90YXNrcy90b2RvLXR4dC10YXNrXCI7XHJcbmltcG9ydCB7IFRvZG9UeHRDb25maWcgfSBmcm9tIFwiLi90b2RvLXR4dC1jb25maWdcIjtcclxuaW1wb3J0IHsgVG9kb1RleHRQZXJzaXN0YW5jZSBhcyBUb2RvVGV4dENhY2hlIH0gZnJvbSBcIi4vdG9kby10eHQtY2FjaGVcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgVG9kb1R4dFZhdWx0IHtcclxuICAgIHZhciB0YXNrczogTWFwPHN0cmluZywgVG9kb1R4dFRhc2s+ID0gbmV3IE1hcDxzdHJpbmcsIFRvZG9UeHRUYXNrPigpO1xyXG4gICAgdmFyIGNvbmZpZzogVG9kb1R4dENvbmZpZyA9IHsgc2hvd0Nsb3NlZDogZmFsc2UgfTtcclxuICAgIHZhciBjYWNoZUVycm9yOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhZGRUYXNrKHRhc2s6IFRvZG9UeHRUYXNrKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRhc2tzLmhhcyh0YXNrLmlkKSkge1xyXG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzay5pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhc2tzLnNldCh0YXNrLmlkLCB0YXNrKTtcclxuXHJcbiAgICAgICAgcGVyc2lzdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiByZW1vdmVUYXNrKHRhc2tJZDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IGZvdW5kOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRhc2tzLmhhcyh0YXNrSWQpKSB7XHJcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrSWQpO1xyXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwZXJzaXN0KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBmb3VuZDtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsVGFza3MoKTogdm9pZCB7XHJcbiAgICAgICAgdGFza3MgPSBuZXcgTWFwPHN0cmluZywgVG9kb1R4dFRhc2s+KCk7XHJcblxyXG4gICAgICAgIHBlcnNpc3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0VGFzayh0YXNrSWQ6IHN0cmluZyk6IFRvZG9UeHRUYXNrIHtcclxuICAgICAgICBsb2FkKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRhc2tzLmhhcyh0YXNrSWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXNrcy5nZXQodGFza0lkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBubyBUb2RvVHh0VGFzayB3aXRoIElEIG9mICcke3Rhc2tJZH0nIGNvdWxkIGJlIGZvdW5kYCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFRhc2tzKCk6IFRvZG9UeHRUYXNrW10ge1xyXG4gICAgICAgIGxvYWQoKTtcclxuXHJcbiAgICAgICAgbGV0IHRzOiBUb2RvVHh0VGFza1tdID0gW107XHJcbiAgICAgICAgdGFza3MuZm9yRWFjaCgodmFsdWU6IFRvZG9UeHRUYXNrKSA9PiB7XHJcbiAgICAgICAgICAgIHRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0Q29uZmlnKCk6IFRvZG9UeHRDb25maWcge1xyXG4gICAgICAgIGxvYWQoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2V0Q29uZmlnKGNmZzogVG9kb1R4dENvbmZpZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbmZpZyA9IGNmZztcclxuXHJcbiAgICAgICAgcGVyc2lzdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBlcnNpc3QoKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNhY2hlOiBUb2RvVGV4dENhY2hlID0gbmV3IFRvZG9UZXh0Q2FjaGUodGFza3MsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvLXR4dCcsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoY2FjaGVFcnJvciA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgdG8gVG9kb1R4dFZpZXcgYW5kIHByZXNlbnQgYXMgTW9kYWwgb24gc3RhcnR1cFxyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1dBUk5JTkc6IHVuYWJsZSB0byBzdG9yZSBUYXNrcyBpbiBsb2NhbFN0b3JhZ2U7IGVuc3VyZSB5b3UgZXhwb3J0IHlvdXIgdGFza3MgYmVmb3JlIHlvdSBjbG9zZSB0aGUgYnJvd3NlciBvciB0aGV5IHdpbGwgYmUgbG9zdCEnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFRvZG9UeHQgdW5hYmxlIHRvIGNhY2hlIGRhdGEgaW4gbG9jYWxTdG9yYWdlIGR1ZSB0bzogJHtlfWApO1xyXG4gICAgICAgICAgICAgICAgY2FjaGVFcnJvcisrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHBlcnNpc3RhbmNlOiBzdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kby10eHQnKTtcclxuICAgICAgICAgICAgaWYgKHBlcnNpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FjaGU6IFRvZG9UZXh0Q2FjaGUgPSBKU09OLnBhcnNlKHBlcnNpc3RhbmNlKSBhcyBUb2RvVGV4dENhY2hlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlLnRhc2tzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFza3MuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8Y2FjaGUudGFza3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSBjYWNoZS50YXNrc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbJ3RleHQnXSAmJiB0WydpZCddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFzazogVG9kb1R4dFRhc2sgPSBuZXcgVG9kb1R4dFRhc2sodC50ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suaWQgPSB0LmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3Muc2V0KHRhc2suaWQsIHRhc2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNhY2hlLmNvbmZpZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaWYgKGNhY2hlRXJyb3IgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKGBUb2RvVHh0IHVuYWJsZSB0byBsb2FkIGNhY2hlIGZyb20gbG9jYWxTdG9yYWdlIGR1ZSB0bzogJHtlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV0FSTklORyEhIHJlbW92ZXMgYWxsIGNhY2hlZCBkYXRhIGluY2x1ZGluZyB0YXNrcyBhbmQgY29uZmlndXJhdGlvbi5cclxuICAgICAqIG9ubHkgdG8gYmUgdXNlZCBhZnRlciB5b3UndmUgZXhwb3J0ZWQgeW91ciB0YXNrcyB0byBhIGZpbGVcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIF9jbGVhcigpOiB2b2lkIHtcclxuICAgICAgICB0YXNrcyA9IG5ldyBNYXA8c3RyaW5nLCBUb2RvVHh0VGFzaz4oKTtcclxuICAgICAgICBjb25maWcgPSB7c2hvd0Nsb3NlZDogZmFsc2V9O1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2RvLXR4dCcpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgeyBUb2RvVHh0VmlldyB9IGZyb20gJy4vc3JjL3VpL3RvZG8tdHh0LXZpZXcnO1xyXG5cclxuJCgnZG9jdW1lbnQnKS5yZWFkeSgoKSA9PiB7XHJcbiAgICBUb2RvVHh0Vmlldy5pbml0aWFsaXplRWxlbWVudHMoKTtcclxuICAgIFRvZG9UeHRWaWV3LnJlZnJlc2hVaSgpO1xyXG59KTsiLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBUaGlzIGphdmFzY3JpcHQgd2FzIGNyZWF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpY2F0aW9ucyBhdFxyXG4gKiBodHRwOi8vdG9kb3R4dC5jb20vIGFuZCBpcyBpbnRlbmRlZCB0byBhbGxvdyB1c2VycyB0byBhY2Nlc3MgdGhlaXJcclxuICogdG9kby50eHQgZmlsZXMgaW4gYSB1c2VyLWZyaWVuZGx5IGFuZCBlYXN5IHRvIHZpc3VhbGl6ZSBtYW5uZXIuXHJcbiAqXHJcbiAqIE9uY2UgaW5pdGlhbGx5IHVwbG9hZGVkLCB0aGUgdG9kby50eHQgZmlsZSB3aWxsXHJcbiAqIGJlIGxvYWRlZCBpbnRvIGFuIEhUTUw1IGxvY2FsU3RvcmFnZSBhbmQgbWFuYWdlZCBmcm9tIHRoZXJlLlxyXG4gKiBUaGUgd2ViIHBhZ2UgdGhlbiBhbGxvd3MgZG93bmxvYWRpbmcgY2hhbmdlcyBiYWNrIHRvIHRoZSB1c2VyXHJcbiAqIGluIGEgdHh0IGZvcm1hdCBjb21wbGlhbnQgd2l0aCB0aGUgdG9kby50eHQgc3BlY2lmaWNhdGlvbnMsIGJ1dFxyXG4gKiBoYXZpbmcgcmUtc29ydGVkIHRoZSB0YXNrcy5cclxuICogXHJcbiAqIEBDcmVhdGVkOiAwOC8xNC8yMDEyXHJcbiAqIEBBdXRob3I6IEphc29uIEhvbHQgU21pdGggKGJpY2FyYm9uOEBnbWFpbC5jb20pXHJcbiAqIEBWZXJzaW9uOiAwLjAuMVxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIgSmFzb24gSG9sdCBTbWl0aC4gdG9kb1R4dFdlYlVpIGlzIGRpc3RyaWJ1dGVkIHVuZGVyXHJcbiAqIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UuXHJcbiAqIFxyXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0b2RvVHh0V2ViVWkuXHJcbiAqIFxyXG4gKiB0b2RvVHh0V2ViVWkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKiBcclxuICogdG9kb1R4dFdlYlVpIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICogXHJcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqIGFsb25nIHdpdGggdG9kb1R4dFdlYlVpLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuaW1wb3J0IHsgVG9kb1R4dFRhc2sgfSBmcm9tIFwiLi4vdGFza3MvdG9kby10eHQtdGFza1wiO1xyXG5pbXBvcnQgeyBUb2RvVHh0IH0gZnJvbSAnLi4vdG9kby10eHQnO1xyXG5pbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCB7IFRvZG9UeHRSZXNvdXJjZXMgfSBmcm9tIFwiLi90b2RvLXR4dC1yZXNvdXJjZXNcIjtcclxuaW1wb3J0IHsgVG9kb1R4dFV0aWxzIH0gZnJvbSBcIi4uL2hlbHBlcnMvdG9kby10eHQtdXRpbHNcIjtcclxuaW1wb3J0IHsgRmlsZURyb3BFdmVudCB9IGZyb20gXCIuLi9oZWxwZXJzL2ZpbGUtZHJvcC1ldmVudFwiO1xyXG5pbXBvcnQgeyBUb2RvVHh0QXR0cmlidXRlcyB9IGZyb20gXCIuLi90YXNrcy90b2RvLXR4dC1hdHRyaWJ1dGVzXCI7XHJcbmltcG9ydCB7IFRvZG9UeHRWYXVsdCB9IGZyb20gXCIuLi9zdG9yYWdlL3RvZG8tdHh0LXZhdWx0XCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFRvZG9UeHRWaWV3IHtcclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gZ2VuZXJhdGVzIHRoZSBET00gZWxlbWVudCBmb3IgdGhlIHBhc3NlZCBpbiB0YXNrXHJcbiAgICAgKiBAcGFyYW0ge1RvZG9UeHRUYXNrfSB0YXNrIC0gdGhlIHRhc2sgb2JqZWN0IHRvIGJlIGNvbnZlcnRlZCB0byBIVE1MRGl2RWxlbWVudFxyXG4gICAgICogQHJldHVybnMgYSB7SFRNTERpdkVsZW1lbnR9IGZyb20gdGhlIHBhc3NlZCBpbiB7VGFza31cclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVGFza0VsZW1lbnQodGFzazogVG9kb1R4dFRhc2spOiBIVE1MRGl2RWxlbWVudCB7XHJcbiAgICAgICAgdmFyIGljb24gPSBcImdseXBoaWNvbi1va1wiO1xyXG4gICAgICAgIHZhciBzdGF0dXMgPSBcImJ0bi1kZWZhdWx0XCI7XHJcbiAgICAgICAgdmFyIGh0bWxUZXh0ID0gZ2V0TWFya3VwRm9yVGFzayh0YXNrKTtcclxuICAgICAgICBpZiAoIXRhc2suaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgaWNvbiA9IFwiZ2x5cGhpY29uLXJlbW92ZVwiO1xyXG4gICAgICAgICAgICBzdGF0dXMgPSBcImJ0bi1kYW5nZXJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRhc2sgZWxlbWVudFxyXG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiYnRuLWdyb3VwIGJ0bi1ibG9ja1wiO1xyXG4gICAgICAgIGVsZW1lbnQuaWQgPSB0YXNrLmlkO1xyXG5cclxuICAgICAgICAvLyBDbG9zZSBUYXNrIEJ1dHRvbiBJY29uXHJcbiAgICAgICAgbGV0IGljb25TcGFuOiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgaWNvblNwYW4uY2xhc3NMaXN0LmFkZCgnZ2x5cGhpY29uJyk7XHJcbiAgICAgICAgaWNvblNwYW4uY2xhc3NMaXN0LmFkZChpY29uKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDbG9zZSBUYXNrIEJ1dHRvbiBJY29uIGNvbnRhaW5lclxyXG4gICAgICAgIGxldCBzdGF0dXNUb2dnbGVTcGFuOiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgc3RhdHVzVG9nZ2xlU3Bhbi5jbGFzc0xpc3QuYWRkKCdjb2wteHMtMicpO1xyXG4gICAgICAgIHN0YXR1c1RvZ2dsZVNwYW4uY2xhc3NMaXN0LmFkZCgnYnRuJyk7XHJcbiAgICAgICAgc3RhdHVzVG9nZ2xlU3Bhbi5jbGFzc0xpc3QuYWRkKCdidG4tbGcnKTtcclxuICAgICAgICBzdGF0dXNUb2dnbGVTcGFuLmNsYXNzTGlzdC5hZGQoc3RhdHVzKTtcclxuICAgICAgICBzdGF0dXNUb2dnbGVTcGFuLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0b2dnbGVUYXNrU3RhdHVzKHRhc2suaWQpO1xyXG4gICAgICAgICAgICByZWZyZXNoVWkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhdHVzVG9nZ2xlU3Bhbi5hcHBlbmRDaGlsZChpY29uU3Bhbik7XHJcblxyXG4gICAgICAgIC8vIGFkZCBDbG9zZSBUYXNrIEJ1dHRvbiB0byBUYXNrIGVsZW1lbnRcclxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHN0YXR1c1RvZ2dsZVNwYW4pO1xyXG5cclxuICAgICAgICAvLyBUYXNrIHRleHQgZGlzcGxheSBjb250YWluZXJcclxuICAgICAgICBsZXQgZGlzcGxheU1vZGFsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIGRpc3BsYXlNb2RhbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjb2wteHMtMTAnKTtcclxuICAgICAgICBkaXNwbGF5TW9kYWxCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxsaXBzaXMnKTtcclxuICAgICAgICBkaXNwbGF5TW9kYWxCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuJyk7XHJcbiAgICAgICAgZGlzcGxheU1vZGFsQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi1sZycpO1xyXG4gICAgICAgIGRpc3BsYXlNb2RhbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHN0YXR1cyk7XHJcbiAgICAgICAgZGlzcGxheU1vZGFsQnV0dG9uLmlubmVySFRNTCA9IGh0bWxUZXh0O1xyXG4gICAgICAgIGRpc3BsYXlNb2RhbEJ1dHRvbi5vbmNsaWNrID0gKGUpID0+IGRpc3BsYXlNb2RhbEZvclRhc2sodGFzay5pZCk7XHJcblxyXG4gICAgICAgIC8vIGFkZCBUYXNrIHRleHQgY29udGFpbmVyIHRvIFRhc2sgZWxlbWVudFxyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZGlzcGxheU1vZGFsQnV0dG9uKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVMaXN0RWxlbWVudCh0ZXh0OiBzdHJpbmcpOiBIVE1MTElFbGVtZW50IHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgICAgICBlbGVtZW50LmlkID0gdGV4dDtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwibGlzdC1ncm91cC1pdGVtXCI7XHJcbiAgICAgICAgZWxlbWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgc2V0RmlsdGVycyh0ZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnQub25tb3VzZW92ZXIgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSBcIiBhY3RpdmVcIjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnQub25tb3VzZW91dCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSgvKCggfF4pYWN0aXZlKS8sIFwiXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnPGg0IGNsYXNzPVwiZWxsaXBzaXNcIj4nICsgdGV4dCArICc8L2g0Pic7XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gd2lsbCBhdHRlbXB0IHRvIGdldCBhbGwgdGFza3MgYW5kIGRpc3BsYXkgdGhlbVxyXG4gICAgICogaW4gdGhlIERPTSBpZiBhbnkgZXhpc3QuICBUaGlzIHdpbGwgYWRkIHRvIGFueSBleGlzdGluZyB0YXNrcyBzbyB5b3VcclxuICAgICAqIHdpbGwgbmVlZCB0byBjbGVhciB0aGUgRE9NIGZpcnN0IGlmIHlvdSB3YW50IHRvIHVwZGF0ZSB0aGUgZW50aXJlIGxpc3RcclxuICAgICAqIGluc3RlYWQgb2YganVzdCBhcHBlbmRpbmcgdG8gdGhlIGxpc3QuXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5VGFza3MoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBsaXN0IG9mIHNlbGVjdGVkIHByaW9yaXRpZXMgZnJvbSB0aGUgZmlsdGVyXHJcbiAgICAgICAgbGV0IGZpbHRlcjogc3RyaW5nID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsdGVyLWlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cclxuICAgICAgICAvLyBmaWx0ZXIgbGlzdCBieSB0aG9zZSBtYXRjaGluZyBzZWxlY3RlZCBmaWx0ZXJzXHJcbiAgICAgICAgbGV0IGZpbHRlcmVkVGFza3M6IFRvZG9UeHRUYXNrW10gPSBUb2RvVHh0LmdldEZpbHRlcmVkVGFza0FycmF5KGZpbHRlcik7XHJcblxyXG4gICAgICAgIGxldCBoaWRlQ2xvc2VkOiBib29sZWFuID0gIVRvZG9UeHRWYXVsdC5nZXRDb25maWcoKS5zaG93Q2xvc2VkO1xyXG4gICAgICAgIGlmIChoaWRlQ2xvc2VkKSB7XHJcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgY2xvc2VkIHRhc2tzIHNvIHRoZXkgYXJlbid0IGluIERPTVxyXG4gICAgICAgICAgICBsZXQgdGFza3M6IFRvZG9UeHRUYXNrW10gPSBmaWx0ZXJlZFRhc2tzLmZpbHRlcigodCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHQuaXNBY3RpdmU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFRhc2tzID0gdGFza3M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZmlsdGVyZWRUYXNrcyAmJiBmaWx0ZXJlZFRhc2tzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gYWRkIHRhc2tzIHRvIERPTVxyXG4gICAgICAgICAgICBmaWx0ZXJlZFRhc2tzLmZvckVhY2goKHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlUYXNrKHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlUYXNrKHRhc2s6IFRvZG9UeHRUYXNrKTogdm9pZCB7XHJcbiAgICAgICAgLy8gYWRkIHRhc2sgdG8gRE9NXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0Q29udGFpbmVyLWRpdlwiKS5hcHBlbmRDaGlsZChnZW5lcmF0ZVRhc2tFbGVtZW50KHRhc2spKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmVtb3ZlVGFzayh0YXNrSWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIC8vIGRlbGV0ZSB0aGUgdGFzayBmcm9tIHRoZSBET01cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpc3RDb250YWluZXItZGl2XCIpLnJlbW92ZUNoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyB0YXNrSWQpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIG9wZW5zIHRoZSBzcGVjaWZpZWQgdGFzayBpbiBhbiBlZGl0aW5nIHdpbmRvd1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZGlzcGxheU1vZGFsRm9yVGFzayh0YXNrSWQ/OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAvLyBwb3B1bGF0ZSB0aGUgbW9kYWwgdGV4dGFyZWEgd2l0aCB0aGlzIHRhc2sgc3RyaW5nXHJcbiAgICAgICAgbGV0IHRhc2s6IFRvZG9UeHRUYXNrO1xyXG4gICAgICAgIGxldCBpc05ldzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmKHRhc2tJZCkge1xyXG4gICAgICAgICAgICB0YXNrID0gVG9kb1R4dC5nZXRUYXNrKHRhc2tJZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGFzayA9IG5ldyBUb2RvVHh0VGFzaygpO1xyXG4gICAgICAgICAgICBpc05ldyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1bmJpbmRDb250cm9sRXZlbnRzKG1haW5FdmVudEhhbmRsZXJzKTtcclxuXHJcbiAgICAgICAgbGV0IG1vZGFsOiBIVE1MRGl2RWxlbWVudCA9IGdlbmVyYXRlTW9kYWxFbGVtZW50KHRhc2ssIGlzTmV3KTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcclxuXHJcbiAgICAgICAgYmluZENvbnRyb2xFdmVudHMobW9kYWxFdmVudEhhbmRsZXJzKTtcclxuXHJcbiAgICAgICAgJChtb2RhbCkuc2hvdygwKTtcclxuXHJcbiAgICAgICAgLy8gcGxhY2UgZm9jdXMgb24gdGhlIHRleHRhcmVhXHJcbiAgICAgICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxFZGl0LXRleHRhcmVhXCIpIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY3JlYXRlcyBhIG5ldyBET00gZWxlbWVudCB0byBhbGxvdyBlZGl0aW5nIG9mIGFuIGV4aXRpbmcge1RvZG9UeHRUYXNrfSBvciBhZGRpdGlvblxyXG4gICAgICogb2YgYSBuZXcgdGFza1xyXG4gICAgICogQHBhcmFtIHRhc2sge1RvZG9UeHRUYXNrfSB0aGUgdGFzayBvYmplY3QgdG8gYmUgZWRpdGVkIG9yIG51bGwgaWYgbmV3IFRhc2sgYmVpbmcgYWRkZWRcclxuICAgICAqIEByZXR1cm5zIHtIVE1MRGl2RWxlbWVudH0gdGhhdCBhbGxvd3MgZWRpdGluZyBvZiBleGlzdGluZyBUYXNrXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTW9kYWxFbGVtZW50KHRhc2s6IFRvZG9UeHRUYXNrLCBpc05ldzogYm9vbGVhbik6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqIFNUQVJUOiBtb2RhbCBoZWFkZXJcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAvLyBjbG9zZSBidXR0b24gaWNvblxyXG4gICAgICAgIGxldCBjbG9zZUJ1dHRvbkljb246IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAkKGNsb3NlQnV0dG9uSWNvbikuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xyXG4gICAgICAgIGNsb3NlQnV0dG9uSWNvbi5pbm5lckhUTUwgPSAnICZ0aW1lczsnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGNsb3NlIGJ1dHRvblxyXG4gICAgICAgIGxldCBjbG9zZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBjbG9zZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgY2xvc2VCdXR0b24uaWQgPSAnbW9kYWxFZGl0Q2xvc2UtYnV0dG9uJztcclxuICAgICAgICBjbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjbG9zZScpO1xyXG4gICAgICAgICQoY2xvc2VCdXR0b24pLmF0dHIoJ2RhdGEtZGlzbWlzcycsICdtb2RhbCcpO1xyXG4gICAgICAgICQoY2xvc2VCdXR0b24pLmF0dHIoJ2FyaWEtbGFiZWwnLCBUb2RvVHh0UmVzb3VyY2VzLmdldCgnQ0xPU0UnKSk7XHJcbiAgICAgICAgY2xvc2VCdXR0b24ub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHJlbW92ZU1vZGFsKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjbG9zZUJ1dHRvbi5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbkljb24pO1xyXG5cclxuICAgICAgICAvLyBtb2RhbCB0aXRsZVxyXG4gICAgICAgIGxldCBtb2RhbFRpdGxlOiBIVE1MSGVhZGluZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNCcpO1xyXG4gICAgICAgIG1vZGFsVGl0bGUuY2xhc3NMaXN0LmFkZCgnbW9kYWwtdGl0bGUnKTtcclxuICAgICAgICBtb2RhbFRpdGxlLmlkID0gJ21vZGFsRWRpdC1sYWJlbCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gbW9kYWwgaGVhZGVyIGNvbnRhaW5lclxyXG4gICAgICAgIGxldCBtb2RhbEhlYWRlcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtb2RhbEhlYWRlci5jbGFzc0xpc3QuYWRkKCdtb2RhbC1oZWFkZXInKTtcclxuICAgICAgICBtb2RhbEhlYWRlci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XHJcbiAgICAgICAgbW9kYWxIZWFkZXIuYXBwZW5kQ2hpbGQobW9kYWxUaXRsZSk7XHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKiBFTkQ6IG1vZGFsIGhlYWRlclxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAqIFNUQVJUOiBtb2RhbCBib2R5XHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgLy8gbW9kYWwgdGV4dGFyZWFcclxuICAgICAgICBsZXQgbW9kYWxUZXh0QXJlYTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtb2RhbFRleHRBcmVhLmlkID0gJ21vZGFsRWRpdC10ZXh0YXJlYSc7XHJcbiAgICAgICAgbW9kYWxUZXh0QXJlYS5jbGFzc0xpc3QuYWRkKCd0ZXh0YXJlYScpO1xyXG4gICAgICAgIG1vZGFsVGV4dEFyZWEuY29udGVudEVkaXRhYmxlID0gJ3RydWUnO1xyXG4gICAgICAgIGxldCBodG1sVGV4dDogc3RyaW5nID0gZ2V0TWFya3VwRm9yVGFzayh0YXNrKS5yZXBsYWNlKC9oaWRkZW4teHMvLFwiXCIpO1xyXG4gICAgICAgIG1vZGFsVGV4dEFyZWEuaW5uZXJIVE1MID0gaHRtbFRleHQ7XHJcblxyXG4gICAgICAgIC8vbW9kYWwgYm9keSBjb250YWluZXJcclxuICAgICAgICBsZXQgbW9kYWxCb2R5OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG1vZGFsQm9keS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1ib2R5Jyk7XHJcbiAgICAgICAgbW9kYWxCb2R5LmFwcGVuZENoaWxkKG1vZGFsVGV4dEFyZWEpO1xyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICogRU5EOiBtb2RhbCBib2R5XHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxyXG4gICAgICAgICAqIFNUQVJUOiBtb2RhbCBmb290ZXJcclxuICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAvLyBzYXZlIGJ1dHRvbiBsYWJlbFxyXG4gICAgICAgIGxldCBzYXZlQnV0dG9uTGFiZWw6IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBzYXZlQnV0dG9uTGFiZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuLXhzJyk7XHJcbiAgICAgICAgbGV0IHR4dDogc3RyaW5nID0gKGlzTmV3KSA/IFRvZG9UeHRSZXNvdXJjZXMuZ2V0KCdBREQnKSA6IFRvZG9UeHRSZXNvdXJjZXMuZ2V0KCdVUERBVEUnKTtcclxuICAgICAgICBzYXZlQnV0dG9uTGFiZWwuaW5uZXJUZXh0ID0gJyAnICsgdHh0O1xyXG5cclxuICAgICAgICAvLyBzYXZlIGJ1dHRvbiBpY29uXHJcbiAgICAgICAgbGV0IHNhdmVCdXR0b25JY29uOiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbkljb24uY2xhc3NMaXN0LmFkZCgnZ2x5cGhpY29uJyk7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbkljb24uY2xhc3NMaXN0LmFkZCgnZ2x5cGhpY29uLW9rJyk7XHJcblxyXG4gICAgICAgIC8vIHNhdmUgYnV0dG9uXHJcbiAgICAgICAgbGV0IHNhdmVCdXR0b246IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIHNhdmVCdXR0b24udHlwZSA9ICdidXR0b24nO1xyXG4gICAgICAgIHNhdmVCdXR0b24uaWQgPSAnbW9kYWxFZGl0U2F2ZS1idXR0b24nO1xyXG4gICAgICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuJyk7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4tbGcnKTtcclxuICAgICAgICBzYXZlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi1zdWNjZXNzJyk7XHJcbiAgICAgICAgJChzYXZlQnV0dG9uKS5hdHRyKCdkYXRhLXRvZ2dsZScsICd0b29sdGlwJyk7XHJcbiAgICAgICAgJChzYXZlQnV0dG9uKS5hdHRyKCdkYXRhLXBsYWNlbWVudCcsICd0b3AnKTtcclxuICAgICAgICAkKHNhdmVCdXR0b24pLmF0dHIoJ3RleHQnLCB0eHQpO1xyXG4gICAgICAgIHNhdmVCdXR0b24ub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHNhdmVPclVwZGF0ZVRhc2tGcm9tTW9kYWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNhdmVCdXR0b24uYXBwZW5kQ2hpbGQoc2F2ZUJ1dHRvbkljb24pO1xyXG4gICAgICAgIHNhdmVCdXR0b24uYXBwZW5kQ2hpbGQoc2F2ZUJ1dHRvbkxhYmVsKTtcclxuXHJcbiAgICAgICAgLy8gcHJldmlldyBidXR0b24gbGFiZWxcclxuICAgICAgICBsZXQgcHJldmlld0J1dHRvbkxhYmVsOiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgcHJldmlld0J1dHRvbkxhYmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbi14cycpO1xyXG4gICAgICAgIHByZXZpZXdCdXR0b25MYWJlbC5pbm5lclRleHQgPSAnICcgKyBUb2RvVHh0UmVzb3VyY2VzLmdldCgnUFJFVklFVycpO1xyXG5cclxuICAgICAgICAvLyBwcmV2aWV3IGJ1dHRvbiBpY29uXHJcbiAgICAgICAgbGV0IHByZXZpZXdCdXR0b25JY29uOiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgcHJldmlld0J1dHRvbkljb24uY2xhc3NMaXN0LmFkZCgnZ2x5cGhpY29uJyk7XHJcbiAgICAgICAgcHJldmlld0J1dHRvbkljb24uY2xhc3NMaXN0LmFkZCgnZ2x5cGhpY29uLWV5ZS1vcGVuJyk7XHJcblxyXG4gICAgICAgIC8vIHByZXZpZXcgYnV0dG9uXHJcbiAgICAgICAgbGV0IHByZXZpZXdCdXR0b246IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIHByZXZpZXdCdXR0b24udHlwZSA9ICdidXR0b24nO1xyXG4gICAgICAgIHByZXZpZXdCdXR0b24uaWQgPSAnbW9kYWxFZGl0UHJldmlldy1idXR0b24nO1xyXG4gICAgICAgIHByZXZpZXdCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuJyk7XHJcbiAgICAgICAgcHJldmlld0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4tbGcnKTtcclxuICAgICAgICBwcmV2aWV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi1wcmltYXJ5Jyk7XHJcbiAgICAgICAgJChwcmV2aWV3QnV0dG9uKS5hdHRyKCdkYXRhLXRvZ2dsZScsICd0b29sdGlwJyk7XHJcbiAgICAgICAgJChwcmV2aWV3QnV0dG9uKS5hdHRyKCdkYXRhLXBsYWNlbWVudCcsICd0b3AnKTtcclxuICAgICAgICAkKHByZXZpZXdCdXR0b24pLmF0dHIoJ3RleHQnLCBUb2RvVHh0UmVzb3VyY2VzLmdldCgnUFJFVklFVycpKTtcclxuICAgICAgICBwcmV2aWV3QnV0dG9uLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB1cGRhdGVNb2RhbFByZXZpZXcoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHByZXZpZXdCdXR0b24uYXBwZW5kQ2hpbGQocHJldmlld0J1dHRvbkljb24pO1xyXG4gICAgICAgIHByZXZpZXdCdXR0b24uYXBwZW5kQ2hpbGQocHJldmlld0J1dHRvbkxhYmVsKTtcclxuXHJcbiAgICAgICAgLy8gZGVsZXRlIGJ1dHRvbiBsYWJlbFxyXG4gICAgICAgIGxldCBkZWxldGVCdXR0b25MYWJlbDogSFRNTFNwYW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbkxhYmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbi14cycpO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbkxhYmVsLmlubmVyVGV4dCA9ICcgJyArIFRvZG9UeHRSZXNvdXJjZXMuZ2V0KCdERUxFVEUnKTtcclxuXHJcbiAgICAgICAgLy8gZGVsZXRlIGJ1dHRvbiBpY29uXHJcbiAgICAgICAgbGV0IGRlbGV0ZUJ1dHRvbkljb246IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBkZWxldGVCdXR0b25JY29uLmNsYXNzTGlzdC5hZGQoJ2dseXBoaWNvbicpO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbkljb24uY2xhc3NMaXN0LmFkZCgnZ2x5cGhpY29uLWZsb3BweS1yZW1vdmUnKTtcclxuXHJcbiAgICAgICAgLy8gZGVsZXRlIGJ1dHRvblxyXG4gICAgICAgIGxldCBkZWxldGVCdXR0b246IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLmlkID0gJ21vZGFsRWRpdERlbGV0ZS1idXR0b24nO1xyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4nKTtcclxuICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuLWxnJyk7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi1kYW5nZXInKTtcclxuICAgICAgICAkKGRlbGV0ZUJ1dHRvbikuYXR0cignZGF0YS10b2dnbGUnLCAndG9vbHRpcCcpO1xyXG4gICAgICAgICQoZGVsZXRlQnV0dG9uKS5hdHRyKCdkYXRhLXBsYWNlbWVudCcsICd0b3AnKTtcclxuICAgICAgICAkKGRlbGV0ZUJ1dHRvbikuYXR0cigndGV4dCcsIFRvZG9UeHRSZXNvdXJjZXMuZ2V0KCdERUxFVEUnKSk7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBoYW5kbGVEZWxldGVDbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGVCdXR0b24uYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uSWNvbik7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9uLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbkxhYmVsKTtcclxuXHJcbiAgICAgICAgLy8gZm9vdGVyIGJ1dHRvbiBncm91cFxyXG4gICAgICAgIGxldCBtb2RhbEZvb3RlckJ1dHRvbkdyb3VwOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG1vZGFsRm9vdGVyQnV0dG9uR3JvdXAuY2xhc3NMaXN0LmFkZCgnYnRuLWdyb3VwJyk7XHJcbiAgICAgICAgbW9kYWxGb290ZXJCdXR0b25Hcm91cC5jbGFzc0xpc3QuYWRkKCdidG4tZ3JvdXAtanVzdGlmaWVkJyk7XHJcbiAgICAgICAgbW9kYWxGb290ZXJCdXR0b25Hcm91cC5hcHBlbmRDaGlsZChzYXZlQnV0dG9uKTtcclxuICAgICAgICBtb2RhbEZvb3RlckJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKHByZXZpZXdCdXR0b24pO1xyXG4gICAgICAgIGlmICghaXNOZXcpIHtcclxuICAgICAgICAgICAgbW9kYWxGb290ZXJCdXR0b25Hcm91cC5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbW9kYWwgZm9vdGVyIGNvbnRhaW5lclxyXG4gICAgICAgIGxldCBtb2RhbEZvb3RlcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtb2RhbEZvb3Rlci5jbGFzc0xpc3QuYWRkKCdtb2RhbC1mb290ZXInKTtcclxuICAgICAgICBtb2RhbEZvb3Rlci5hcHBlbmRDaGlsZChtb2RhbEZvb3RlckJ1dHRvbkdyb3VwKTtcclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcclxuICAgICAgICAgKiBFTkQ6IG1vZGFsIGZvb3RlclxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxyXG4gICAgICAgICAqIHRlcnRpYXJ5IG1vZGFsIGNvbnRhaW5lclxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIGxldCBtb2RhbENvbnRlbnQ6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbW9kYWxDb250ZW50LmNsYXNzTGlzdC5hZGQoJ21vZGFsLWNvbnRlbnQnKTtcclxuICAgICAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWxIZWFkZXIpO1xyXG4gICAgICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtb2RhbEJvZHkpO1xyXG4gICAgICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtb2RhbEZvb3Rlcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKiBzZWNvbmRhcnkgbW9kYWwgY29udGFpbmVyXHJcbiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgbGV0IG1vZGFsRGlhbG9nOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG1vZGFsRGlhbG9nLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWRpYWxvZycpO1xyXG4gICAgICAgIG1vZGFsRGlhbG9nLmFwcGVuZENoaWxkKG1vZGFsQ29udGVudCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgKiBtYWluIG1vZGFsIGNvbnRhaW5lclxyXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIGxldCBtb2RhbDogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xyXG4gICAgICAgIG1vZGFsLmlkID0gJ21vZGFsRWRpdC1kaXYnO1xyXG4gICAgICAgIG1vZGFsLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgJChtb2RhbCkuYXR0cigncm9sZScsICdkaWFsb2cnKTtcclxuICAgICAgICAkKG1vZGFsKS5hdHRyKCdhcmlhLWxhYmVsbGVkYnknLCAnbW9kYWxFZGl0LWxhYmVsJyk7XHJcbiAgICAgICAgJChtb2RhbCkuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xyXG4gICAgICAgICQobW9kYWwpLmF0dHIoJ3Rhc2staWQnLCB0YXNrLmlkKTtcclxuICAgICAgICBtb2RhbC5hcHBlbmRDaGlsZChtb2RhbERpYWxvZyk7XHJcblxyXG4gICAgICAgIHJldHVybiBtb2RhbDtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gdXBkYXRlTW9kYWxQcmV2aWV3KCk6IHZvaWQge1xyXG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbEVkaXQtdGV4dGFyZWEnKTtcclxuICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgICAgdmFyIHRleHQgPSBlbC50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgdmFyIHRhc2sgPSBuZXcgVG9kb1R4dFRhc2sodGV4dCk7XHJcbiAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IGdldE1hcmt1cEZvclRhc2sodGFzayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiByZW1vdmVNb2RhbCgpOiB2b2lkIHtcclxuICAgICAgICB1bmJpbmRDb250cm9sRXZlbnRzKG1vZGFsRXZlbnRIYW5kbGVycyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJCgnI21vZGFsRWRpdC1kaXYnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgYmluZENvbnRyb2xFdmVudHMobWFpbkV2ZW50SGFuZGxlcnMpO1xyXG5cclxuICAgICAgICByZWZyZXNoVWkoKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY29uc3QgbW9kYWxFdmVudEhhbmRsZXJzOiBhbnlbXSA9IFtcclxuICAgICAgICB7IGVsOiAoKSA9PiB7IHJldHVybiBkb2N1bWVudDsgfSwgZXY6IFwia2V5ZG93blwiLCBmbjogKGU6IEtleWJvYXJkRXZlbnQpID0+IHsgaGFuZGxlQWx0RW50ZXIoZSk7IH0gfSxcclxuICAgICAgICB7IGVsOiAoKSA9PiB7IHJldHVybiBkb2N1bWVudDsgfSwgZXY6IFwia2V5ZG93blwiLCBmbjogKGU6IEtleWJvYXJkRXZlbnQpID0+IHsgaGFuZGxlRXNjKGUpOyB9IH0sXHJcbiAgICAgICAgeyBlbDogKCkgPT4geyByZXR1cm4gZG9jdW1lbnQ7IH0sIGV2OiBcImtleWRvd25cIiwgZm46IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7IGhhbmRsZUFsdFAoZSk7IH0gfVxyXG4gICAgXTtcclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZGlzcGxheVByaW9yaXRpZXMoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHByaUxpc3Q6IEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdGllcy11bCcpO1xyXG4gICAgICAgIFRvZG9UeHRBdHRyaWJ1dGVzLnByaW9yaXRpZXMuZm9yRWFjaCgocHJpKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgZGlzcGxheSBhY3RpdmVcclxuICAgICAgICAgICAgaWYgKHByaSB8fCBUb2RvVHh0VmF1bHQuZ2V0Q29uZmlnKCkuc2hvd0Nsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBnZW5lcmF0ZUxpc3RFbGVtZW50KHByaSk7XHJcbiAgICAgICAgICAgICAgICBwcmlMaXN0LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUHJpb3JpdGllcygpOiB2b2lkIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpb3JpdGllcy11bCcpLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0cygpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcHJvakxpc3Q6IEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdHMtdWwnKTtcclxuICAgICAgICBUb2RvVHh0QXR0cmlidXRlcy5wcm9qZWN0cy5mb3JFYWNoKChwcm9qKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgZGlzcGxheSBhY3RpdmVcclxuICAgICAgICAgICAgaWYgKHByb2ogfHwgVG9kb1R4dFZhdWx0LmdldENvbmZpZygpLnNob3dDbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZ2VuZXJhdGVMaXN0RWxlbWVudChwcm9qKTtcclxuICAgICAgICAgICAgICAgIHByb2pMaXN0LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUHJvamVjdHMoKTogdm9pZCB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3RzLXVsJykuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZGlzcGxheUNvbnRleHRzKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBjdHhMaXN0OiBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRleHRzLXVsJyk7XHJcbiAgICAgICAgVG9kb1R4dEF0dHJpYnV0ZXMuY29udGV4dHMuZm9yRWFjaCgoY3R4KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgZGlzcGxheSBhY3RpdmVcclxuICAgICAgICAgICAgaWYgKGN0eCB8fCBUb2RvVHh0VmF1bHQuZ2V0Q29uZmlnKCkuc2hvd0Nsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBnZW5lcmF0ZUxpc3RFbGVtZW50KGN0eCk7XHJcbiAgICAgICAgICAgICAgICBjdHhMaXN0LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ29udGV4dHMoKTogdm9pZCB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRleHRzLXVsJykuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY29uc3QgbWFpbkV2ZW50SGFuZGxlcnM6IGFueVtdID0gW1xyXG4gICAgICAgIHsgZWw6ICgpID0+IHsgcmV0dXJuIGRvY3VtZW50OyB9LCBldjogXCJrZXlkb3duXCIsIGZuOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4geyBoYW5kbGVBbHRTKGUpOyB9IH0sXHJcbiAgICAgICAgeyBlbDogKCkgPT4geyByZXR1cm4gZG9jdW1lbnQ7IH0sIGV2OiBcImtleWRvd25cIiwgZm46IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7IGhhbmRsZUFsdEMoZSk7IH0gfSxcclxuICAgICAgICB7IGVsOiAoKSA9PiB7IHJldHVybiBkb2N1bWVudDsgfSwgZXY6IFwia2V5ZG93blwiLCBmbjogKGU6IEtleWJvYXJkRXZlbnQpID0+IHsgaGFuZGxlQWx0VChlKTsgfSB9LFxyXG4gICAgICAgIHsgZWw6ICgpID0+IHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsZURyb3AtZGl2XCIpOyB9LCBldjogXCJkcmFnb3ZlclwiLCBmbjogKGU6IERyYWdFdmVudCkgPT4geyBoYW5kbGVEcmFnT3ZlcihlKTsgfSB9LFxyXG4gICAgICAgIHsgZWw6ICgpID0+IHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsZURyb3AtZGl2XCIpOyB9LCBldjogXCJkcm9wXCIsIGZuOiAoZTogRmlsZURyb3BFdmVudCkgPT4geyBoYW5kbGVEcm9wKGUpOyB9IH0sXHJcbiAgICAgICAgeyBlbDogKCkgPT4geyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWxlVXBsb2FkLWlucHV0XCIpOyB9LCBldjogXCJjaGFuZ2VcIiwgZm46IChlOiBFdmVudCkgPT4geyBoYW5kbGVEcm9wKGUgYXMgRmlsZURyb3BFdmVudCk7IH0gfSxcclxuICAgICAgICB7IGVsOiAoKSA9PiB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Nob3dDbG9zZWQtbGFiZWxcIik7IH0sIGV2OiBcImNsaWNrXCIsIGZuOiAoKSA9PiB7IFxyXG4gICAgICAgICAgICB0b2dnbGVTaG93Q2xvc2VkU3RhdHVzKCk7XHJcbiAgICAgICAgICAgIHJlZnJlc2hVaSgpO1xyXG4gICAgICAgIH0gfSxcclxuICAgICAgICB7IGVsOiAoKSA9PiB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZFRhc2tCdXR0b24tYnV0dG9uXCIpOyB9LCBldjogXCJjbGlja1wiLCBmbjogKCkgPT4geyBkaXNwbGF5TW9kYWxGb3JUYXNrKCk7IH0gfSxcclxuICAgICAgICB7IGVsOiAoKSA9PiB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NhdmVGaWxlQnV0dG9uLWJ1dHRvblwiKTsgfSwgZXY6IFwiY2xpY2tcIiwgZm46ICgpID0+IHsgZXhwb3J0VG9kb1R4dEZpbGUoKTsgfSB9LFxyXG4gICAgICAgIHsgZWw6ICgpID0+IHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsdGVyLWlucHV0XCIpOyB9LCBldjogXCJrZXl1cFwiLCBmbjogKCkgPT4geyBoYW5kbGVGaWx0ZXIoKTsgfSB9LFxyXG4gICAgICAgIHsgZWw6ICgpID0+IHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xlYXJGaWx0ZXItYnV0dG9uXCIpOyB9LCBldjogXCJjbGlja1wiLCBmbjogKCkgPT4geyByZWZyZXNoVWkoKTsgfSB9LFxyXG4gICAgICAgIHsgZWw6ICgpID0+IHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdGllcy1kaXYgLnBhbmVsLWhlYWRpbmdcIik7IH0sIGV2OiBcImNsaWNrXCIsIGZuOiAoKSA9PiB7IHRvZ2dsZVBhbmVsKCdwcmlvcml0aWVzLWRpdicpOyB9IH0sXHJcbiAgICAgICAgeyBlbDogKCkgPT4geyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0cy1kaXYgLnBhbmVsLWhlYWRpbmdcIik7IH0sIGV2OiBcImNsaWNrXCIsIGZuOiAoKSA9PiB7IHRvZ2dsZVBhbmVsKCdwcm9qZWN0cy1kaXYnKTsgfSB9LFxyXG4gICAgICAgIHsgZWw6ICgpID0+IHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGV4dHMtZGl2IC5wYW5lbC1oZWFkaW5nXCIpOyB9LCBldjogXCJjbGlja1wiLCBmbjogKCkgPT4geyB0b2dnbGVQYW5lbCgnY29udGV4dHMtZGl2Jyk7IH0gfSxcclxuICAgIF07XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGJpbmRDb250cm9sRXZlbnRzKGhhbmRsZXJzOiBhbnlbXSk6IHZvaWQge1xyXG4gICAgICAgIGhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdmFyIHVzZUNhcHR1cmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGhhbmRsZXIudWMpIHtcclxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmUgPSBoYW5kbGVyLnVjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmVsKCkuYWRkRXZlbnRMaXN0ZW5lcihoYW5kbGVyLmV2LCBoYW5kbGVyLmZuLCB1c2VDYXB0dXJlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiB1bmJpbmRDb250cm9sRXZlbnRzKGhhbmRsZXJzOiBhbnlbXSkge1xyXG4gICAgICAgIGhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdmFyIHVzZUNhcHR1cmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGhhbmRsZXIudWMpIHtcclxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmUgPSBoYW5kbGVyLnVjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmVsKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihoYW5kbGVyLmV2LCBoYW5kbGVyLmZuLCB1c2VDYXB0dXJlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoYW5kbGVBbHRTKGU6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDgzICYmIGUuYWx0S2V5KSB7IC8vIEFsdCArIHNcclxuICAgICAgICAgICAgZXhwb3J0VG9kb1R4dEZpbGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUFsdEMoZTogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gNjcgJiYgZS5hbHRLZXkpIHsgLy8gQWx0ICsgY1xyXG4gICAgICAgICAgICByZWZyZXNoVWkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUFsdFQoZTogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gODQgJiYgZS5hbHRLZXkpIHsgLy8gQWx0ICsgdFxyXG4gICAgICAgICAgICBkaXNwbGF5TW9kYWxGb3JUYXNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoYW5kbGVEcm9wKGU6IEZpbGVEcm9wRXZlbnQpIHtcclxuICAgICAgICBoYW5kbGVGaWxlU2VsZWN0KGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoYW5kbGVBbHRFbnRlcihlOiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKChlLmtleUNvZGUgJiYgKGUua2V5Q29kZSA9PT0gMTMgJiYgZS5hbHRLZXkpKSkgeyAvLyBBbHQgKyBFbnRlclxyXG4gICAgICAgICAgICBzYXZlT3JVcGRhdGVUYXNrRnJvbU1vZGFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNhdmVPclVwZGF0ZVRhc2tGcm9tTW9kYWwoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IG1vZGFsOiBIVE1MRGl2RWxlbWVudCA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsRWRpdC1kaXZcIikgYXMgSFRNTERpdkVsZW1lbnQpO1xyXG4gICAgICAgIGxldCB0YXNrSWQ6IHN0cmluZyA9ICQobW9kYWwpLmF0dHIoJ3Rhc2staWQnKTtcclxuICAgICAgICBsZXQgdGV4dDogc3RyaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbEVkaXQtdGV4dGFyZWFcIikudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgdGV4dCA9IFRvZG9UeHRVdGlscy5odG1sVW5lbmNvZGUodGV4dCk7XHJcbiAgICAgICAgaWYgKFRvZG9UeHQudXBkYXRlVGFzayh0YXNrSWQsIHRleHQpKSB7XHJcbiAgICAgICAgICAgIHJlZnJlc2hVaSgpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlTW9kYWwoKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGxvZyB0aGlzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBkaXNwbGF5IGVycm9yIHRvYXN0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoYW5kbGVFc2MoZTogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3IHx8IGUua2V5Q29kZSA9PT0gMCkgeyAvLyBFc2NcclxuICAgICAgICAgICAgcmVtb3ZlTW9kYWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBtb2RhbDogSFRNTERpdkVsZW1lbnQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbEVkaXQtZGl2XCIpIGFzIEhUTUxEaXZFbGVtZW50KTtcclxuICAgICAgICBsZXQgdGFza0lkOiBzdHJpbmcgPSAkKG1vZGFsKS5hdHRyKCd0YXNrLWlkJyk7XHJcbiAgICAgICAgbGV0IHRhc2s6IFRvZG9UeHRUYXNrID0gVG9kb1R4dC5nZXRUYXNrKHRhc2tJZCk7XHJcbiAgICAgICAgaWYgKHRhc2spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoY29uZmlybShUb2RvVHh0UmVzb3VyY2VzLmdldChcIkRFTEVURV9DT05GSVJNXCIpICsgXCJcXG5cXHRcXFwiXCIgKyB0YXNrLnRleHQgKyBcIlxcXCJcIikpIHtcclxuICAgICAgICAgICAgICAgIGlmIChUb2RvVHh0VmF1bHQucmVtb3ZlVGFzayh0YXNrSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFVpKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGxvZyB0aGlzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBkaXNwbGF5IGVycm9yIHRvYXN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGZpbHRlclRpbWVvdXRJZDogbnVtYmVyO1xyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGZpbHRlclRpbWVvdXRJZCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGZpbHRlclRpbWVvdXRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbHRlclRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgLy8gZ2V0IHRoZSBsaXN0IG9mIHNlbGVjdGVkIHByaW9yaXRpZXMgZnJvbSB0aGUgZmlsdGVyXHJcbiAgICAgICAgICAgIGZpbHRlckRpc3BsYXllZFRhc2tzKCk7XHJcbiAgICAgICAgfSwgNTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaGFuZGxlQWx0UChlOiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKChlLmtleUNvZGUgJiYgKGUua2V5Q29kZSA9PT0gODAgJiYgZS5hbHRLZXkpKSkgeyAvLyBBbHQgKyBwXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgbWFya3VwIG9mIHRoZSBkaXNwbGF5ZWQgdGFzayBpbiB0aGUgTW9kYWxcclxuICAgICAgICAgICAgdXBkYXRlTW9kYWxQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gd2lsbCByZWxvYWQgdGhlIGxpc3Qgb2YgdGFza3MgZnJvbSBTdG9yYWdlIHRvIGVuc3VyZSBpdFxyXG4gICAgICogaXMgc29ydGVkIGFuZCBkaXNwbGF5aW5nIHByb3Blcmx5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiByZWZyZXNoVWkoKTogdm9pZCB7XHJcbiAgICAgICAgc2V0U2hvd0Nsb3NlZChUb2RvVHh0VmF1bHQuZ2V0Q29uZmlnKCkuc2hvd0Nsb3NlZCk7XHJcblxyXG4gICAgICAgIC8vIHVuYmluZCBhbnkgZXZlbnQgaGFuZGxpbmdcclxuICAgICAgICB1bmJpbmRDb250cm9sRXZlbnRzKG1haW5FdmVudEhhbmRsZXJzKTtcclxuXHJcbiAgICAgICAgLy8gY2xlYXIgdGhlIFVJIGxpc3RcclxuICAgICAgICBjbGVhclRhc2tzKCk7XHJcblxyXG4gICAgICAgIC8vIGNsZWFyIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgY2xlYXJQcmlvcml0aWVzKCk7XHJcbiAgICAgICAgY2xlYXJQcm9qZWN0cygpO1xyXG4gICAgICAgIGNsZWFyQ29udGV4dHMoKTtcclxuXHJcbiAgICAgICAgLy8gY2xlYXIgZmlsdGVyIGlucHV0XHJcbiAgICAgICAgY2xlYXJGaWx0ZXJzKCk7XHJcblxyXG4gICAgICAgIC8vIG5vdyByZWJ1aWxkIFVJIGxpc3QgZnJvbSBjYWNoZVxyXG4gICAgICAgIGRpc3BsYXlUYXNrcygpO1xyXG5cclxuICAgICAgICAvLyB1cGRhdGUgdGhlIERPTSB3aXRoIHRhc2sgYXR0cmlidXRlc1xyXG4gICAgICAgIGRpc3BsYXlQcmlvcml0aWVzKCk7XHJcbiAgICAgICAgZGlzcGxheVByb2plY3RzKCk7XHJcbiAgICAgICAgZGlzcGxheUNvbnRleHRzKCk7XHJcblxyXG4gICAgICAgIC8vIGVuYWJsZSBrZXlib2FyZCBzaG9ydGN1dHMgYW5kIGNsaWNrIGV2ZW50cyBmb3IgdGhlIGNvbnRyb2xzIGFyZWFcclxuICAgICAgICBiaW5kQ29udHJvbEV2ZW50cyhtYWluRXZlbnRIYW5kbGVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldEZpbHRlcnMoZmlsdGVyU3RyOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoZmlsdGVyU3RyKSB7XHJcbiAgICAgICAgICAgIC8vIHNldCBmaWx0ZXIgdGV4dCBpbnB1dFxyXG4gICAgICAgICAgICBsZXQgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpbHRlci1pbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGZpbHRlclN0cjtcclxuICAgICAgICAgICAgaGFuZGxlRmlsdGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjbGVhckZpbHRlcnMoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdXBkYXRlIGZpbHRlciBpbnB1dFxyXG4gICAgICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpbHRlci1pbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVGFza3MoKTogdm9pZCB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0Q29udGFpbmVyLWRpdlwiKS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJEaXNwbGF5ZWRUYXNrcygpOiB2b2lkIHtcclxuICAgICAgICBjbGVhclRhc2tzKCk7XHJcblxyXG4gICAgICAgIC8vIGhvbm9ycyBhbnkgc3BlY2lmaWVkIGZpbHRlcnNcclxuICAgICAgICBkaXNwbGF5VGFza3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gdG9nZ2xlU2hvd0Nsb3NlZFN0YXR1cygpOiB2b2lkIHtcclxuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hvd0Nsb3NlZC1sYWJlbCcpO1xyXG4gICAgICAgIHZhciBhY3RpdmUgPSBlbC5jbGFzc05hbWUubWF0Y2goLygoIHxeKWJ0bi1zdWNjZXNzKS8pID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIC8vIGlmIGFjdGl2ZSB0b2dnbGUgdG8gaW5hY3RpdmVcclxuICAgICAgICBzZXRTaG93Q2xvc2VkKCFhY3RpdmUpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRTaG93Q2xvc2VkKGFjdGl2ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG93Q2xvc2VkLWxhYmVsJyk7XHJcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZSgvKCggfF4pYnRuLWRhbmdlcikvLCBcIiBidG4tc3VjY2Vzc1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZSgvKCggfF4pYnRuLXN1Y2Nlc3MpLywgXCIgYnRuLWRhbmdlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVG9kb1R4dFZhdWx0LnNldENvbmZpZyh7c2hvd0Nsb3NlZDogYWN0aXZlfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVBhbmVsKG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHZhciBoZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBuYW1lICsgJyAucGFuZWwtaGVhZGluZycpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBuYW1lICsgJyAucGFuZWwtYm9keScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIHZhciBoaWRkZW4gPSBib2R5LmNsYXNzTmFtZS5tYXRjaCgvKCggfF4pY29sbGFwc2UpLykgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgaWYgKGhpZGRlbikge1xyXG4gICAgICAgICAgICBzaG93UGFuZWwoaGVhZGluZywgYm9keSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaGlkZVBhbmVsKGhlYWRpbmcsIGJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2hvd1BhbmVsKGhlYWRpbmc6IEhUTUxFbGVtZW50LCBib2R5OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIHZhciBpbmRpY2F0b3IgPSBoZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoXCIuZ2x5cGhpY29uXCIpO1xyXG4gICAgICAgIGJvZHkuY2xhc3NOYW1lID0gYm9keS5jbGFzc05hbWUucmVwbGFjZSgvKCggfF4pY29sbGFwc2UpL2csIFwiXCIpO1xyXG4gICAgICAgIGluZGljYXRvci5jbGFzc05hbWUgPSBpbmRpY2F0b3IuY2xhc3NOYW1lLnJlcGxhY2UoLygoIHxeKWdseXBoaWNvbi1jaGV2cm9uLWRvd24pLywgXCIgZ2x5cGhpY29uLWNoZXZyb24tdXBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhpZGVQYW5lbChoZWFkaW5nOiBIVE1MRWxlbWVudCwgYm9keTogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgaW5kaWNhdG9yID0gaGVhZGluZy5xdWVyeVNlbGVjdG9yKFwiLmdseXBoaWNvblwiKTtcclxuICAgICAgICBib2R5LmNsYXNzTmFtZSArPSBcIiBjb2xsYXBzZVwiO1xyXG4gICAgICAgIGluZGljYXRvci5jbGFzc05hbWUgPSBpbmRpY2F0b3IuY2xhc3NOYW1lLnJlcGxhY2UoLygoIHxeKWdseXBoaWNvbi1jaGV2cm9uLXVwKS8sIFwiIGdseXBoaWNvbi1jaGV2cm9uLWRvd25cIik7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVRhc2tTdGF0dXModGFza0lkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB2YXIgdGFzayA9IFRvZG9UeHQuZ2V0VGFzayh0YXNrSWQpO1xyXG4gICAgICAgIGlmICh0YXNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0YXNrLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBUb2RvVHh0LmNsb3NlVGFzayh0YXNrSWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgVG9kb1R4dC5hY3RpdmF0ZVRhc2sodGFza0lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHdpbGwgcmV0cmlldmUgdGhlIHRvZG8udHh0IGZpbGUgZnJvbSB0aGUgcGFzc2VkIGluXHJcbiAgICAgKiBmaWxlTmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZmlsZU5hbWUgdGhlIFN0cmluZyBuYW1lIG9mIHRoZSB0b2RvLnR4dCBmaWxlIHRvIGJlIG9wZW5lZFxyXG4gICAgICogZmlsZS5cclxuICAgICAqIEVYOiBcInRvZG8udHh0XCJcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRvZG9UeHRGaWxlKGZpbGVOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICAvLyBsb2FkIHZpYSBBSkFYIGNhbGwgdG8gbG9jYWwgZmlsZSBzeXN0ZW1cclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogZmlsZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vY3Jvc3NEb21haW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IChqcVhIUiwgdGV4dFN0YXR1cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBkaXNwbGF5IGEgcHJvcGVyIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQodGV4dFN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHRoZSByZXNwb25zZSBvbiB0byB0aGUgbmV4dCBjYWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvZG9UeHQucGFyc2VUb2RvVHh0RmlsZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFVpKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUZpbGVTZWxlY3QoZTogRmlsZURyb3BFdmVudCkge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICB2YXIgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlczsgLy8gRmlsZUxpc3Qgb2JqZWN0LlxyXG5cclxuICAgICAgICAvLyBmaWxlcyBpcyBhIEZpbGVMaXN0IG9mIEZpbGUgb2JqZWN0cy5cclxuICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZiA9IGZpbGVzWzBdO1xyXG5cclxuICAgICAgICAgICAgLy8gcHJvY2VzcyB1c2luZyBhIEZpbGVSZWFkZXJcclxuICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgdGhlIGNvbnRlbnQgYXMgYSBTdHJpbmdcclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlOiBQcm9ncmVzc0V2ZW50PEZpbGVSZWFkZXI+KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybShUb2RvVHh0UmVzb3VyY2VzLmdldChcIk9WRVJXUklURV9DT05GSVJNXCIpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFRvZG9UeHQucGFyc2VUb2RvVHh0RmlsZShlLnRhcmdldC5yZXN1bHQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFVpKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGYsIFwiVVRGLThcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoYW5kbGVEcmFnT3ZlcihlOiBEcmFnRXZlbnQpIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7IC8vIEV4cGxpY2l0bHkgc2hvdyB0aGlzIGlzIGEgY29weS5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHdpbGwgYWxsb3cgdGhlIHVzZXIgdG8gZG93bmxvYWQgYSBjb3B5IG9mIHRoZSB0b2RvLnR4dCBmaWxlXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBleHBvcnRUb2RvVHh0RmlsZSgpIHtcclxuICAgICAgICB2YXIgdGFza0FycmF5ID0gVG9kb1R4dC5nZXRTb3J0ZWRUYXNrQXJyYXkoKTtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBvdXRwdXQgc3RyaW5nIHRvIGJlIHdyaXR0ZW5cclxuICAgICAgICB2YXIgY29udGVudCA9IHRhc2tBcnJheS5qb2luKFwiXFxuXCIpO1xyXG5cclxuICAgICAgICAvLyBzZXQgZGF0YXR5cGUgdG8gdGV4dC9jc3YgdG8gaW5pdGlhdGUgZG93bmxvYWQgcHJvbXB0XHJcbiAgICAgICAgdmFyIGRhdGEgPSBlbmNvZGVVUkkoXCJkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsXCIgKyBjb250ZW50KTtcclxuXHJcbiAgICAgICAgd2luZG93Lm9wZW4oZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGdlbmVyYXRlIGEgaHRtbC1tYXJrdXAgdmVyc2lvbiBvZiB0aGUgdGFza1xyXG4gICAgICogQHBhcmFtIHtUb2RvVHh0VGFza30gdGFzayAtIHRoZSB0YXNrIHRvIGdlbmVyYXRlIGZvclxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIEhUTUwgbWFya2VkIHVwIHRhc2sgdGV4dFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TWFya3VwRm9yVGFzayh0YXNrOiBUb2RvVHh0VGFzayk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHRleHQ6IHN0cmluZyA9IHRhc2sudGV4dCB8fCAnJztcclxuXHJcbiAgICAgICAgLy8gbWFrZSBodG1sIGNvbXBhdGlibGVcclxuICAgICAgICB0ZXh0ID0gVG9kb1R4dFV0aWxzLmh0bWxFbmNvZGUodGV4dCk7XHJcblxyXG4gICAgICAgIC8vIG1hcmt1cCBwcmlvcml0eVxyXG4gICAgICAgIGxldCBwcmlDbHM6IHN0cmluZyA9IGdldERpc3BsYXlDbGFzc0ZvclRhc2sodGFzayk7XHJcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSh0YXNrLnByaW9yaXR5LCBcIjxzcGFuIGNsYXNzPVxcXCJcIiArIHByaUNscyArIFwiXFxcIj48Yj5cIiArIHRhc2sucHJpb3JpdHkgKyBcIjwvYj48L3NwYW4+XCIpO1xyXG5cclxuICAgICAgICAvLyBtYXJrdXAgcHJvamVjdHNcclxuICAgICAgICBsZXQgcHJvamVjdHM6IHN0cmluZ1tdID0gdGFzay5wcm9qZWN0cztcclxuICAgICAgICBwcm9qZWN0cy5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAocHJvamVjdC5yZXBsYWNlKC9cXCsvZywgXCJcXFxcK1wiKSArIFwiKD8hWzAtOUEtWmEtel0pXCIsIFwiZ1wiKTtcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShyZWdleCwgXCI8c3BhbiBjbGFzcz1cXFwidGV4dC1tdXRlZFxcXCI+PGI+PGk+XCIgKyBwcm9qZWN0ICsgXCI8L2k+PC9iPjwvc3Bhbj5cIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIG1hcmt1cCBjb250ZXh0c1xyXG4gICAgICAgIGxldCBjb250ZXh0czogc3RyaW5nW10gPSB0YXNrLmNvbnRleHRzO1xyXG4gICAgICAgIGNvbnRleHRzLmZvckVhY2goKGN0eCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKGN0eCArIFwiKD8hWzAtOUEtWmEtel0pXCIsIFwiZ1wiKTtcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShyZWdleCwgXCI8c3BhbiBjbGFzcz1cXFwidGV4dC1tdXRlZFxcXCI+PGI+PGk+XCIgKyBjdHggKyBcIjwvaT48L2I+PC9zcGFuPlwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gbWFya3VwIGNyZWF0ZWQgZGF0ZVxyXG4gICAgICAgIGxldCBkYXRlOiBzdHJpbmcgPSB0YXNrLmNyZWF0ZWREYXRlO1xyXG4gICAgICAgIGlmIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoZGF0ZSwgXCI8c3BhbiBjbGFzcz1cXFwidGV4dC1tdXRlZCBoaWRkZW4teHNcXFwiPjxiPjxpPlwiICsgZGF0ZSArIFwiPC9pPjwvYj48L3NwYW4+XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiByZXR1cm5zIHRoZSBhcHByb3ByaWF0ZSBkaXNwbGF5IGNsYXNzZXMgZm9yIHRoaXMgdGFza1xyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcHJpb3JpdHkgYmFzZWQgY2xhc3MgdG8gYXBwbHkgdG8gYSBUYXNrIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldERpc3BsYXlDbGFzc0ZvclRhc2sodGFzazogVG9kb1R4dFRhc2spOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIGdldCBhIGxpc3Qgb2YgdGhlIGN1cnJlbnQgdGFza3MgYW5kIGl0ZXJhdGUgdGhyb3VnaFxyXG4gICAgICAgIGxldCBjbHM6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGlmICh0YXNrLnByaW9yaXR5ICE9PSBudWxsICYmIHRhc2suaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRhc2sucHJpb3JpdHkgPT09IFwiKEEpXCIpIHtcclxuICAgICAgICAgICAgICAgIGNscyArPSBcIiB0ZXh0LWRhbmdlclwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0YXNrLnByaW9yaXR5ID09PSBcIihCKVwiKSB7XHJcbiAgICAgICAgICAgICAgICBjbHMgKz0gXCIgdGV4dC13YXJuaW5nXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRhc2sucHJpb3JpdHkgPT09IFwiKEMpXCIpIHtcclxuICAgICAgICAgICAgICAgIGNscyArPSBcIiB0ZXh0LXByaW1hcnlcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNscztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUVsZW1lbnRzKCk6IHZvaWQge1xyXG4gICAgICAgIC8qanNoaW50IG11bHRpc3RyOiB0cnVlICovXHJcbiAgICAgICAgdmFyIGJhc2VFbGVtZW50cyA9ICcgXFxcclxuICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXItZmx1aWRcIiBpZD1cImZpbGVEcm9wLWRpdlwiPiBcXFxyXG4gICAgPGRpdiBjbGFzcz1cImNvbC1tZC05XCI+IFxcXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPiBcXFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj4gXFxcclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnRuIGJ0bi1ibG9jayBidG4tcHJpbWFyeSBidG4tbGcgYnRuLWZpbGUgZWxsaXBzaXNcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiBkYXRhLXBsYWNlbWVudD1cInRvcFwiIHRleHQ9XCInICsgVG9kb1R4dFJlc291cmNlcy5nZXQoXCJJTVBPUlRcIikgKyAnXCI+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXNhdmVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwiaGlkZGVuLXhzXCI+JyArIFRvZG9UeHRSZXNvdXJjZXMuZ2V0KFwiSU1QT1JUXCIpICsgJzwvc3Bhbj4gPGlucHV0IGlkPVwiZmlsZVVwbG9hZC1pbnB1dFwiIHR5cGU9XCJmaWxlXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgdG9kby50eHQgRmlsZVwiPiBcXFxyXG4gICAgICAgICAgICAgICAgPC9hPiBcXFxyXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJhZGRUYXNrQnV0dG9uLWJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1sZyBidG4tcHJpbWFyeSBlbGxpcHNpc1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgdGV4dD1cIicgKyBUb2RvVHh0UmVzb3VyY2VzLmdldChcIkFERF9UQVNLXCIpICsgJ1wiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1wbHVzXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cImhpZGRlbi14c1wiPicgKyBUb2RvVHh0UmVzb3VyY2VzLmdldChcIkFERF9UQVNLXCIpICsgJzwvc3Bhbj4gXFxcclxuICAgICAgICAgICAgICAgIDwvYT4gXFxcclxuICAgICAgICAgICAgICAgIDxhIGlkPVwic2F2ZUZpbGVCdXR0b24tYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWxnIGJ0bi1wcmltYXJ5IGVsbGlwc2lzXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiB0ZXh0PVwiJyArIFRvZG9UeHRSZXNvdXJjZXMuZ2V0KFwiRVhQT1JUXCIpICsgJ1wiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1vcGVuXCI+PC9zcGFuPiA8c3BhbiBjbGFzcz1cImhpZGRlbi14c1wiPicgKyBUb2RvVHh0UmVzb3VyY2VzLmdldChcIkVYUE9SVFwiKSArICc8L3NwYW4+IFxcXHJcbiAgICAgICAgICAgICAgICA8L2E+IFxcXHJcbiAgICAgICAgICAgICAgICA8YSBpZD1cInNob3dDbG9zZWQtbGFiZWxcIiBjbGFzcz1cImJ0biBidG4tbGcgYnRuLWRhbmdlciBlbGxpcHNpc1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgdGV4dD1cIicgKyBUb2RvVHh0UmVzb3VyY2VzLmdldChcIlNIT1dfQ0xPU0VEXCIpICsgJ1wiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1vay1jaXJjbGVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwiaGlkZGVuLXhzXCI+JyArIFRvZG9UeHRSZXNvdXJjZXMuZ2V0KFwiU0hPV19DTE9TRURcIikgKyAnPC9zcGFuPiBcXFxyXG4gICAgICAgICAgICAgICAgPC9hPiBcXFxyXG4gICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+IFxcXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1sZ1wiPiBcXFxyXG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiZmlsdGVyLWlucHV0XCIgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiJyArIFRvZG9UeHRSZXNvdXJjZXMuZ2V0KFwiRklMVEVSX1BMQUNFSE9MREVSX1RFWFRcIikgKyAnXCI+IFxcXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWJ0blwiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGVhckZpbHRlci1idXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIHR5cGU9XCJidXR0b25cIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiBkYXRhLXBsYWNlbWVudD1cInRvcFwiIHRleHQ9XCInICsgVG9kb1R4dFJlc291cmNlcy5nZXQoXCJDTEVBUl9GSUxURVJcIikgKyAnXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZS1jaXJjbGVcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwiaGlkZGVuLXhzXCI+JyArIFRvZG9UeHRSZXNvdXJjZXMuZ2V0KFwiQ0xFQVJfRklMVEVSXCIpICsgJzwvc3Bhbj48L2J1dHRvbj4gXFxcclxuICAgICAgICAgICAgICAgIDwvc3Bhbj4gXFxcclxuICAgICAgICAgICAgPC9kaXY+IFxcXHJcbiAgICAgICAgPC9kaXY+IFxcXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPiBcXFxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibGlzdENvbnRhaW5lci1kaXZcIj48L2Rpdj4gXFxcclxuICAgICAgICA8L2Rpdj4gXFxcclxuICAgIDwvZGl2PiBcXFxyXG4gICAgPGRpdiBjbGFzcz1cImNvbC1tZC0zXCI+IFxcXHJcbiAgICAgICAgPGRpdiBpZD1cInByaW9yaXRpZXMtZGl2XCIgY2xhc3M9XCJwYW5lbCBwYW5lbC1wcmltYXJ5XCI+IFxcXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+IFxcXHJcbiAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJwYW5lbC10aXRsZVwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPiAnICsgVG9kb1R4dFJlc291cmNlcy5nZXQoXCJQUklPUklUSUVTXCIpICsgJzwvaDM+IFxcXHJcbiAgICAgICAgICAgIDwvZGl2PiBcXFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPiBcXFxyXG4gICAgICAgICAgICAgICAgPHVsIGlkPVwicHJpb3JpdGllcy11bFwiIGNsYXNzPVwibGlzdC1ncm91cFwiPjwvdWw+IFxcXHJcbiAgICAgICAgICAgIDwvZGl2PiBcXFxyXG4gICAgICAgIDwvZGl2PiBcXFxyXG4gICAgICAgIDxkaXYgaWQ9XCJwcm9qZWN0cy1kaXZcIiBjbGFzcz1cInBhbmVsIHBhbmVsLXByaW1hcnlcIj4gXFxcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIj4gXFxcclxuICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cInBhbmVsLXRpdGxlXCI+PHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+ICcgKyBUb2RvVHh0UmVzb3VyY2VzLmdldChcIlBST0pFQ1RTXCIpICsgJzwvaDM+IFxcXHJcbiAgICAgICAgICAgIDwvZGl2PiBcXFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPiBcXFxyXG4gICAgICAgICAgICAgICAgPHVsIGlkPVwicHJvamVjdHMtdWxcIiBjbGFzcz1cImxpc3QtZ3JvdXBcIj48L3VsPiBcXFxyXG4gICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICA8ZGl2IGlkPVwiY29udGV4dHMtZGl2XCIgY2xhc3M9XCJwYW5lbCBwYW5lbC1wcmltYXJ5XCI+IFxcXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+IFxcXHJcbiAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJwYW5lbC10aXRsZVwiPjxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPiAnICsgVG9kb1R4dFJlc291cmNlcy5nZXQoXCJDT05URVhUU1wiKSArICc8L2gzPiBcXFxyXG4gICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIj4gXFxcclxuICAgICAgICAgICAgICAgIDx1bCBpZD1cImNvbnRleHRzLXVsXCIgY2xhc3M9XCJsaXN0LWdyb3VwXCI+PC91bD4gXFxcclxuICAgICAgICAgICAgPC9kaXY+IFxcXHJcbiAgICAgICAgPC9kaXY+IFxcXHJcbiAgICA8L2Rpdj4gXFxcclxuICAgIDwvZGl2Pic7XHJcblxyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb3R4dCcpO1xyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGJhc2VFbGVtZW50cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBUaGlzIGphdmFzY3JpcHQgd2FzIGNyZWF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpY2F0aW9ucyBhdFxyXG4gKiBodHRwOi8vdG9kb3R4dC5jb20vIGFuZCBpcyBpbnRlbmRlZCB0byBhbGxvdyB1c2VycyB0byBhY2Nlc3MgdGhlaXJcclxuICogdG9kby50eHQgZmlsZXMgaW4gYSB1c2VyLWZyaWVuZGx5IGFuZCBlYXN5IHRvIHZpc3VhbGl6ZSBtYW5uZXIuXHJcbiAqXHJcbiAqIE9uY2UgaW5pdGlhbGx5IHVwbG9hZGVkLCB0aGUgdG9kby50eHQgZmlsZSB3aWxsXHJcbiAqIGJlIGxvYWRlZCBpbnRvIGFuIEhUTUw1IGxvY2FsU3RvcmFnZSBhbmQgbWFuYWdlZCBmcm9tIHRoZXJlLlxyXG4gKiBUaGUgd2ViIHBhZ2UgdGhlbiBhbGxvd3MgZG93bmxvYWRpbmcgY2hhbmdlcyBiYWNrIHRvIHRoZSB1c2VyXHJcbiAqIGluIGEgdHh0IGZvcm1hdCBjb21wbGlhbnQgd2l0aCB0aGUgdG9kby50eHQgc3BlY2lmaWNhdGlvbnMsIGJ1dFxyXG4gKiBoYXZpbmcgcmUtc29ydGVkIHRoZSB0YXNrcy5cclxuICogXHJcbiAqIEBDcmVhdGVkOiAwOC8xNC8yMDEyXHJcbiAqIEBBdXRob3I6IEphc29uIEhvbHQgU21pdGggKGJpY2FyYm9uOEBnbWFpbC5jb20pXHJcbiAqIEBWZXJzaW9uOiAwLjAuMVxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIgSmFzb24gSG9sdCBTbWl0aC4gdG9kb1R4dFdlYlVpIGlzIGRpc3RyaWJ1dGVkIHVuZGVyXHJcbiAqIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UuXHJcbiAqIFxyXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0b2RvVHh0V2ViVWkuXHJcbiAqIFxyXG4gKiB0b2RvVHh0V2ViVWkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKiBcclxuICogdG9kb1R4dFdlYlVpIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICogXHJcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqIGFsb25nIHdpdGggdG9kb1R4dFdlYlVpLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuaW1wb3J0IHsgVG9kb1R4dEF0dHJpYnV0ZXMgfSBmcm9tICcuL3Rhc2tzL3RvZG8tdHh0LWF0dHJpYnV0ZXMnO1xyXG5pbXBvcnQgeyBUb2RvVHh0VGFzayB9IGZyb20gJy4vdGFza3MvdG9kby10eHQtdGFzayc7XHJcbmltcG9ydCB7IFRvZG9UeHRVdGlscyB9IGZyb20gJy4vaGVscGVycy90b2RvLXR4dC11dGlscyc7XHJcbmltcG9ydCB7IFRvZG9UeHRWYXVsdCB9IGZyb20gJy4vc3RvcmFnZS90b2RvLXR4dC12YXVsdCc7XHJcblxyXG5leHBvcnQgbW9kdWxlIFRvZG9UeHQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB3aWxsIHJldHVybiBhIHNvcnRlZCBhcnJheSBvZiB0YXNrcyBhcyBwdWxsZWQgZnJvbVxyXG4gICAgICogbG9jYWxTdG9yYWdlLlxyXG4gICAgICogQHJldHVybnMge2FycmF5fSBhIHNvcnRlZCBsaXN0IG9mIHRhc2tzIGZyb20gbG9jYWxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRTb3J0ZWRUYXNrQXJyYXkoKTogVG9kb1R4dFRhc2tbXSB7XHJcbiAgICAgICAgLy8gc29ydCB0aGUgbGlzdCBhbmQgdGhlbiBhZGQgaXRcclxuICAgICAgICBsZXQgdGFza0FycmF5OiBUb2RvVHh0VGFza1tdID0gVG9kb1R4dFZhdWx0LmdldEFsbFRhc2tzKCk7XHJcbiAgICAgICAgVG9kb1R4dEF0dHJpYnV0ZXMucmVzZXQoKTtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGFza0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUF0dHJpYnV0ZXModGFza0FycmF5W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFza0FycmF5LnNvcnQoY29tcGFyZVRhc2tzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRhc2tBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgZmlsdGVyZWQgYXJyYXkgb2YgdGFza3MgYmFzZWQgb24gdGhlIHBhc3NlZCBpblxyXG4gICAgICogZmlsdGVyIHN0cmluZy4gIE1hdGNoaW5nIHVzZXMgYW4gb3JkZXJlZCBmdXp6eSBtYXRjaCBzbyBmb3IgdGhlIGZvbGxvd2luZzpcclxuICAgICAqIFwiKEEpIDIwMTQtMDMtMDIgZG9uJ3QgZm9yZ2V0IHRvIGZpbGUgQHJlcG9ydCB3aXRoICtKb2huXCIgYSBwYXNzZWQgaW4gZmlsdGVyXHJcbiAgICAgKiBzdHJpbmcgb2YgXCJmb3IgSm9oblwiIHdpbGwgbWF0Y2gsIGJ1dCBcIkpvaG4gcmVwb3J0XCIgd2lsbCBub3QgbWF0Y2hcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJTdHIgLSBhIHN0cmluZyBjb250YWluaW5nIGNoYXJhY3RlcnMgdG8gbWF0Y2ggYWdhaW5zdCB0aGUgZXhpc3RpbmcgdGFza3NcclxuICAgICAqIEByZXR1cm5zIHthcnJheX0gYSBzb3J0ZWQgbGlzdCBvZiB0YXNrcyBtYXRjaGluZyB0aGUgcGFzc2VkIGluIDxiPjxpPmZpbHRlclN0cjwvaT48L2I+XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRGaWx0ZXJlZFRhc2tBcnJheShmaWx0ZXJTdHI6IHN0cmluZykge1xyXG4gICAgICAgIHZhciBmaWx0ZXJlZFRhc2tzID0gVG9kb1R4dC5nZXRTb3J0ZWRUYXNrQXJyYXkoKTtcclxuICAgICAgICBpZiAoZmlsdGVyU3RyICYmIGZpbHRlclN0ciAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHJlZ2V4IG1hdGNoZXJcclxuICAgICAgICAgICAgbGV0IGZpbHRlcnM6IHN0cmluZ1tdID0gZmlsdGVyU3RyLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgbGV0IHJTdHI6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8ZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9IGZpbHRlcnNbaV0ucmVwbGFjZSgvKFstXFwoXFwpXFxbXFxdXFx7XFx9K1xcPypcXC4kXFxeXFx8LDojPFxcIVxcXFxdKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvXFx4MDgvZywgJ1xcXFx4MDgnKTtcclxuICAgICAgICAgICAgICAgIHJTdHIgKz0gXCIuKihcIiArIGZpbHRlciArIFwiKS4qXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChyU3RyLCBcImlcIik7XHJcbiAgICAgICAgICAgIGxldCB0YXNrczogVG9kb1R4dFRhc2tbXSA9IGZpbHRlcmVkVGFza3MuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdC50ZXh0Lm1hdGNoKHJlZ2V4KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkVGFza3MgPSB0YXNrcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFRhc2tzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gd2lsbCBwcm9jZXNzIGVhY2ggbGluZSBvZiB0aGUgdG9kby50eHQsIHNvcnQgYnkgcHJpb3JpdHksXHJcbiAgICAgKiBjcmVhdGlvbkRhdGUsIGFuZCBzdGF0ZSAoYWN0aXZlIG9yIGNsb3NlZCkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRvZG9UeHQgLSB0aGUgXCJcXG5cIiBkZWxpbWl0ZWQgbGluZXMgZnJvbSBhIHRvZG8udHh0IGZpbGVcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXBwZW5kIC0gYSBib29sZWFuIGluZGljYXRpbmcgaWYgZXhpc3RpbmcgdGFza3Mgc2hvdWxkIGJlIGNsZWFyZWRcclxuICAgICAqIGZpcnN0IG9yIGp1c3QgYXBwZW5kZWQgdG8gd2l0aCB0aGUgbmV3IGZpbGVcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVG9kb1R4dEZpbGUodG9kb1R4dDogc3RyaW5nLCBhcHBlbmQ/OiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKCFhcHBlbmQpIHtcclxuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIFN0b3JhZ2VcclxuICAgICAgICAgICAgVG9kb1R4dFZhdWx0LnJlbW92ZUFsbFRhc2tzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsaW5lcyA9IHRvZG9UeHQuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgZm9yICh2YXIgaSBpbiBsaW5lcykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxpbmVzW2ldID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGluZTogc3RyaW5nID0gbGluZXNbaV07XHJcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZW1wdHkgbGluZXNcclxuICAgICAgICAgICAgICAgIGlmIChsaW5lICYmIGxpbmUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgbmV3IFRhc2sgYW5kIGFkZCB0byBvdXIgZ2xvYmFsIGxpc3QgaW4gaXQncyBwcm9wZXIgbG9jYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUYXNrKGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gY3JlYXRlcyBhIG5ldyB0YXNrIGFuZCBzYXZlcyB0byB7VG9kb1R4dFZhdWx0fVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRTdHIgLSBhIHN0cmluZyByZXByZXNlbnRpbmcgYSByYXcgdGFza1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIElEIG9mIHRoZSBuZXdseSBjcmVhdGVkIHtUb2RvVHh0LlRhc2t9XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUYXNrKHRleHRTdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHRleHQ6IHN0cmluZyA9IHRleHRTdHIgfHwgJyc7XHJcbiAgICAgICAgbGV0IHQ6IFRvZG9UeHRUYXNrID0gbmV3IFRvZG9UeHRUYXNrKHRleHQpO1xyXG4gICAgICAgIGFkZFRhc2sodCk7XHJcbiAgICAgICAgcmV0dXJuIHQuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGdldCBhIHNwZWNpZmllZCB0YXNrIGZyb20gVG9kb1R4dFZhdWx0IGJ5IGlkXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFza0lkIC0gdGhlIHVuaXF1ZSBpZCBvZiB0aGUgdGFzayB0byBiZSByZXR1cm5lZFxyXG4gICAgICogQHJldHVybnMge1RvZG9UeHRUYXNrfSBhIHRhc2sgb3IgbnVsbCBpZiB0YXNrIG5vdCBmb3VuZFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0VGFzayh0YXNrSWQ6IHN0cmluZyk6IFRvZG9UeHRUYXNrIHtcclxuICAgICAgICBsZXQgdGFzazogVG9kb1R4dFRhc2sgPSBUb2RvVHh0VmF1bHQuZ2V0VGFzayh0YXNrSWQpO1xyXG4gICAgICAgIHJldHVybiB0YXNrO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gdXBkYXRlcyB0aGUgdGFzayBhbmQgc2F2ZXMgaXQgdG8gdGhlIFRvZG9UeHRWYXVsdCBjYWNoZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhc2tJZCAtIHVuaXF1ZSBJRCB1c2VkIHRvIHJldHJpZXZlIHRoZSB0YXNrIGZyb20gU3RvcmFnZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1RleHQgLSBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHVwZGF0ZWQsIHJhdyB0YXNrIHRleHRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRhc2sgY291bGQgYmUgdXBkYXRlZCBvdGhlcndpc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVRhc2sodGFza0lkOiBzdHJpbmcsIG5ld1RleHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIHJlLXBhcnNlIHRhc2tcclxuICAgICAgICBsZXQgdGFzazogVG9kb1R4dFRhc2s7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGFzayA9IGdldFRhc2sodGFza0lkKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRhc2sgPSBuZXcgVG9kb1R4dFRhc2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFzay5wYXJzZUlucHV0KG5ld1RleHQpO1xyXG5cclxuICAgICAgICAvLyBvdmVyd3JpdGUgc3RvcmFnZSB3aXRoIHVwZGF0ZWQgdGFza1xyXG4gICAgICAgIFRvZG9UeHQuYWRkVGFzayh0YXNrKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiBhZGRzIHRoaXMgdGFzayB0byB0aGUgYnJvd3NlcidzIGxvY2FsIGNhY2hlIGFsbG93aW5nIGZvclxyXG4gICAgICogcmV0YWluZWQgZGF0YSBvbiBzdWJzZXF1ZW50IHJlbG9hZHMgb2YgdGhlIHBhZ2VcclxuICAgICAqIEBwYXJhbSB7VG9kb1R4dFRhc2t9IHRhc2sgLSBhIHRhc2sgdG8gYmUgYWRkZWQgdG8gU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkVGFzayh0YXNrOiBUb2RvVHh0VGFzaykge1xyXG4gICAgICAgIFRvZG9UeHRWYXVsdC5hZGRUYXNrKHRhc2spO1xyXG4gICAgICAgIHVwZGF0ZUF0dHJpYnV0ZXModGFzayk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGFwcGVuZCBhbiBcInggWVlZWS1NTS1ERCBcIiB0byBhIHN0b3JlZFxyXG4gICAgICogdGFzayBpZiBub3QgYWxyZWFkeSBjbG9zZWQgYW5kIHdpbGwgcmVtb3ZlIGFueSBwcmlvcml0eVxyXG4gICAgICogZGVjbGFyYXRpb25zIGluIHRoZSB0ZXh0IG9mIHRoZSBUYXNrXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFza0lkIC0gdW5pcXVlIElEIHVzZWQgdG8gcmV0cmlldmUgdGhlIHRhc2sgZnJvbSBTdG9yYWdlXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0YXNrIGNvdWxkIGJlIGNsb3NlZCwgb3RoZXJ3aXNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjbG9zZVRhc2sodGFza0lkOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgdGFzayA9IGdldFRhc2sodGFza0lkKTtcclxuXHJcbiAgICAgICAgaWYgKHRhc2sgJiYgdGFzay5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICB2YXIgdGV4dCA9IHRhc2sudGV4dDtcclxuICAgICAgICAgICAgaWYgKHRhc2sucHJpb3JpdHkpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UodGFzay5wcmlvcml0eSwgXCJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGV4dCA9IFwieCBcIiArIFRvZG9UeHRVdGlscy5mb3JtYXREYXRlKG5ldyBEYXRlKCkpICsgXCIgXCIgKyB0ZXh0O1xyXG4gICAgICAgICAgICB1cGRhdGVUYXNrKHRhc2suaWQsIHRleHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZnVuY3Rpb24gd2lsbCByZW1vdmUgXCJ4IFlZWVktTU0tREQgXCIgZnJvbSBhIHN0b3JlZFxyXG4gICAgICogdGFzayBpZiBub3QgYWxyZWFkeSBhY3RpdmVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXNrSWQgLSB1bmlxdWUgSUQgdXNlZCB0byByZXRyaWV2ZSB0aGUgdGFzayBmcm9tIFN0b3JhZ2VcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRhc2sgY291bGQgYmUgYWN0aXZhdGVkLCBvdGhlcndpc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFjdGl2YXRlVGFzayh0YXNrSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciB0YXNrID0gZ2V0VGFzayh0YXNrSWQpO1xyXG4gICAgICAgIGlmICh0YXNrICYmICF0YXNrLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0OiBzdHJpbmcgPSB0YXNrLnRleHQ7XHJcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL14oeCApLywgXCJcIikucmVwbGFjZSh0YXNrLmNvbXBsZXRlZERhdGUgKyBcIiBcIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRhc2sodGFzay5pZCwgdGV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEBpZ25vcmUgKi9cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZXModGFzazogVG9kb1R4dFRhc2spOiB2b2lkIHtcclxuICAgICAgICAvLyBnZXQgdGhlIHByaW9yaXR5IGFuZCBhZGQgdG8gZ2xvYmFsIGZpbHRlciBoYXNoc2V0XHJcbiAgICAgICAgaWYgKHRhc2sucHJpb3JpdHkpIHtcclxuICAgICAgICAgICAgVG9kb1R4dEF0dHJpYnV0ZXMucHJpb3JpdGllcy5hZGQodGFzay5wcmlvcml0eSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBnZXQgZWFjaCBwcm9qZWN0IGFuZCBhZGQgdG8gdGhlIGdsb2JhbCBmaWx0ZXIgaGFzaHNldFxyXG4gICAgICAgIHRhc2sucHJvamVjdHMuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocHJvamVjdCkge1xyXG4gICAgICAgICAgICAgICAgVG9kb1R4dEF0dHJpYnV0ZXMucHJvamVjdHMuYWRkKHByb2plY3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGdldCBlYWNoIGNvbnRleHQgYW5kIGFkZCB0byB0aGUgZ2xvYmFsIGZpbHRlciBoYXNoc2V0XHJcbiAgICAgICAgdGFzay5jb250ZXh0cy5mb3JFYWNoKChjb250ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBUb2RvVHh0QXR0cmlidXRlcy5jb250ZXh0cy5hZGQoY29udGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQGlnbm9yZSAqL1xyXG4gICAgZnVuY3Rpb24gY29tcGFyZVRhc2tzKHRhc2tBOiBUb2RvVHh0VGFzaywgdGFza0I6IFRvZG9UeHRUYXNrKSB7XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gd2lsbCBhbGxvdyBzb3J0aW5nIG9mIHRhc2tzIGJ5IHRoZSBmb2xsb3dpbmdcclxuICAgICAgICAvLyBjcml0ZXJpYTogKDEpIGFjdGl2ZSB2cy4gY2xvc2VkICgyKSBwcmlvcml0eSAoMykgY3JlYXRlZCBkYXRlXHJcbiAgICAgICAgLy8gKDQpIGNvbXBsZXRlZCBkYXRlXHJcbiAgICAgICAgdmFyIGFBY3RpdmUgPSB0YXNrQS5pc0FjdGl2ZTtcclxuICAgICAgICB2YXIgYkFjdGl2ZSA9IHRhc2tCLmlzQWN0aXZlO1xyXG4gICAgICAgIHZhciBhUHJpID0gdGFza0EucHJpb3JpdHk7XHJcbiAgICAgICAgdmFyIGJQcmkgPSB0YXNrQi5wcmlvcml0eTtcclxuICAgICAgICB2YXIgYUNyZWF0ZWQgPSB0YXNrQS5jcmVhdGVkRGF0ZTtcclxuICAgICAgICB2YXIgYkNyZWF0ZWQgPSB0YXNrQi5jcmVhdGVkRGF0ZTtcclxuICAgICAgICB2YXIgYUNvbXBsZXRlZCA9IHRhc2tBLmNvbXBsZXRlZERhdGU7XHJcbiAgICAgICAgdmFyIGJDb21wbGV0ZWQgPSB0YXNrQi5jb21wbGV0ZWREYXRlO1xyXG5cclxuICAgICAgICAvLyAoMSkgY29tcGFyZSBhY3RpdmUgdnMuIGNsb3NlZFxyXG4gICAgICAgIGlmIChhQWN0aXZlICE9PSBiQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIC8vIHByaW9yaXRpemUgYWN0aXZlIG92ZXIgY2xvc2VkXHJcbiAgICAgICAgICAgIGlmIChhQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7IC8vICgyKSBjb21wYXJlIHByaW9yaXR5XHJcbiAgICAgICAgICAgIGlmIChhUHJpICE9PSBiUHJpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvcmRlciBieSBwcmlvcml0eSwgYnV0IGZhdm9yIGhhdmluZyBwcmlvcml0eSBvdmVyIG5vdFxyXG4gICAgICAgICAgICAgICAgaWYgKCFiUHJpIHx8IGFQcmkgPCBiUHJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYVByaSB8fCBhUHJpID4gYlByaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyAoMykgY29tcGFyZSBjcmVhdGVkIGRhdGVcclxuICAgICAgICAgICAgICAgIGlmIChhQ3JlYXRlZCAhPT0gYkNyZWF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBvcmRlciBieSBjcmVhdGVkIGRhdGUgYXNjZW5kaW5nIChvbGRlc3Qgb25lcyBmaXJzdClcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYUNyZWF0ZWQgPCBiQ3JlYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gKDQpIGNvbXBhcmUgY29tcGxldGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYUNvbXBsZXRlZCAhPT0gYkNvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvcmRlciBieSBjb21wbGV0ZWQgZGF0ZSBkZXNjZW5kaW5nIChsYXRlc3Qgb25lcyBmaXJzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFDb21wbGV0ZWQgPiBiQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb2JqZWN0cyBhcmUgZXF1aXZhbGVudFxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG59IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICogVGhpcyBqYXZhc2NyaXB0IHdhcyBjcmVhdGVkIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWNhdGlvbnMgYXRcclxuICogaHR0cDovL3RvZG90eHQuY29tLyBhbmQgaXMgaW50ZW5kZWQgdG8gYWxsb3cgdXNlcnMgdG8gYWNjZXNzIHRoZWlyXHJcbiAqIHRvZG8udHh0IGZpbGVzIGluIGEgdXNlci1mcmllbmRseSBhbmQgZWFzeSB0byB2aXN1YWxpemUgbWFubmVyLlxyXG4gKlxyXG4gKiBPbmNlIGluaXRpYWxseSB1cGxvYWRlZCwgdGhlIHRvZG8udHh0IGZpbGUgd2lsbFxyXG4gKiBiZSBsb2FkZWQgaW50byBhbiBIVE1MNSBsb2NhbFN0b3JhZ2UgYW5kIG1hbmFnZWQgZnJvbSB0aGVyZS5cclxuICogVGhlIHdlYiBwYWdlIHRoZW4gYWxsb3dzIGRvd25sb2FkaW5nIGNoYW5nZXMgYmFjayB0byB0aGUgdXNlclxyXG4gKiBpbiBhIHR4dCBmb3JtYXQgY29tcGxpYW50IHdpdGggdGhlIHRvZG8udHh0IHNwZWNpZmljYXRpb25zLCBidXRcclxuICogaGF2aW5nIHJlLXNvcnRlZCB0aGUgdGFza3MuXHJcbiAqIFxyXG4gKiBAQ3JlYXRlZDogMDgvMTQvMjAxMlxyXG4gKiBAQXV0aG9yOiBKYXNvbiBIb2x0IFNtaXRoIChiaWNhcmJvbjhAZ21haWwuY29tKVxyXG4gKiBAVmVyc2lvbjogMC4wLjFcclxuICogQ29weXJpZ2h0IChjKSAyMDEyIEphc29uIEhvbHQgU21pdGguIHRvZG9UeHRXZWJVaSBpcyBkaXN0cmlidXRlZCB1bmRlclxyXG4gKiB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlLlxyXG4gKiBcclxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdG9kb1R4dFdlYlVpLlxyXG4gKiBcclxuICogdG9kb1R4dFdlYlVpIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuICogXHJcbiAqIHRvZG9UeHRXZWJVaSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcbiAqIFxyXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG4gKiBhbG9uZyB3aXRoIHRvZG9UeHRXZWJVaS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmltcG9ydCB7IFRvZG9UeHRDb25maWcgfSBmcm9tIFwiLi90b2RvLXR4dC1jb25maWdcIjtcclxuaW1wb3J0IHsgVG9kb1R4dFRhc2sgfSBmcm9tIFwiLi4vdGFza3MvdG9kby10eHQtdGFza1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvZG9UZXh0UGVyc2lzdGFuY2Uge1xyXG4gICAgdGFza3M6IFRhc2tJdGVtW10gPSBbXTtcclxuICAgIGNvbmZpZzogVG9kb1R4dENvbmZpZyA9IHsgc2hvd0Nsb3NlZDogZmFsc2UgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0YXNrcz86IE1hcDxzdHJpbmcsIFRvZG9UeHRUYXNrPiwgY29uZmlnPzogVG9kb1R4dENvbmZpZykge1xyXG4gICAgICAgIGlmICh0YXNrcykge1xyXG4gICAgICAgICAgICB0YXNrcy5mb3JFYWNoKCh2YWx1ZTogVG9kb1R4dFRhc2spID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFza3MucHVzaCh7aWQ6IHZhbHVlLmlkLCB0ZXh0OiB2YWx1ZS50ZXh0fSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIFRhc2tJdGVtIHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICB0ZXh0OiBzdHJpbmc7XHJcbn0iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBUaGlzIGphdmFzY3JpcHQgd2FzIGNyZWF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpY2F0aW9ucyBhdFxyXG4gKiBodHRwOi8vdG9kb3R4dC5jb20vIGFuZCBpcyBpbnRlbmRlZCB0byBhbGxvdyB1c2VycyB0byBhY2Nlc3MgdGhlaXJcclxuICogdG9kby50eHQgZmlsZXMgaW4gYSB1c2VyLWZyaWVuZGx5IGFuZCBlYXN5IHRvIHZpc3VhbGl6ZSBtYW5uZXIuXHJcbiAqXHJcbiAqIE9uY2UgaW5pdGlhbGx5IHVwbG9hZGVkLCB0aGUgdG9kby50eHQgZmlsZSB3aWxsXHJcbiAqIGJlIGxvYWRlZCBpbnRvIGFuIEhUTUw1IGxvY2FsU3RvcmFnZSBhbmQgbWFuYWdlZCBmcm9tIHRoZXJlLlxyXG4gKiBUaGUgd2ViIHBhZ2UgdGhlbiBhbGxvd3MgZG93bmxvYWRpbmcgY2hhbmdlcyBiYWNrIHRvIHRoZSB1c2VyXHJcbiAqIGluIGEgdHh0IGZvcm1hdCBjb21wbGlhbnQgd2l0aCB0aGUgdG9kby50eHQgc3BlY2lmaWNhdGlvbnMsIGJ1dFxyXG4gKiBoYXZpbmcgcmUtc29ydGVkIHRoZSB0YXNrcy5cclxuICogXHJcbiAqIEBDcmVhdGVkOiAwOC8xNC8yMDEyXHJcbiAqIEBBdXRob3I6IEphc29uIEhvbHQgU21pdGggKGJpY2FyYm9uOEBnbWFpbC5jb20pXHJcbiAqIEBWZXJzaW9uOiAwLjAuMVxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIgSmFzb24gSG9sdCBTbWl0aC4gdG9kb1R4dFdlYlVpIGlzIGRpc3RyaWJ1dGVkIHVuZGVyXHJcbiAqIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UuXHJcbiAqIFxyXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0b2RvVHh0V2ViVWkuXHJcbiAqIFxyXG4gKiB0b2RvVHh0V2ViVWkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKiBcclxuICogdG9kb1R4dFdlYlVpIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICogXHJcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqIGFsb25nIHdpdGggdG9kb1R4dFdlYlVpLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuaW1wb3J0IHsgVG9kb1R4dFV0aWxzIH0gZnJvbSBcIi4uL2hlbHBlcnMvdG9kby10eHQtdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgVG9kb1R4dFJlc291cmNlcyB7XHJcbiAgICB2YXIgcmVjczogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XHJcblxyXG5cdGV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihsYW5nTG9jYWxlOiBzdHJpbmcsIHJlc291cmNlT2JqOiBhbnkpOiB2b2lkIHtcclxuXHRcdHJlY3Muc2V0KGxhbmdMb2NhbGUsIHJlc291cmNlT2JqKTtcclxuICAgIH1cclxuICAgIFxyXG5cdGV4cG9ydCBmdW5jdGlvbiBnZXQoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0bGV0IHJlYzogYW55ID0gcmVjcy5nZXQoVG9kb1R4dFV0aWxzLmdldExhbmd1YWdlKCkpO1xyXG5cdFx0aWYgKCFyZWMpIHtcclxuXHRcdFx0cmVjID0gcmVjcy5nZXQoXCJlbi11c1wiKTsgLy8gZmFsbGJhY2sgdG8gZW4tVVNcclxuXHRcdH1cclxuXHRcdGxldCB2YWw6IHN0cmluZyA9IHJlY1trZXldO1xyXG5cdFx0aWYgKCF2YWwpIHtcclxuXHRcdFx0dGhyb3cgYHJlcXVlc3RlZCByZXNvdXJjZSBub3QgZm91bmQ6ICR7a2V5fWA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdmFsO1xyXG4gICAgfVxyXG59XHJcblxyXG5Ub2RvVHh0UmVzb3VyY2VzLnJlZ2lzdGVyKFwiZW4tdXNcIiwge1xyXG5cdE9WRVJXUklURV9DT05GSVJNOiBcIlRoaXMgd2lsbCBvdmVyd3JpdGUgYW55IGV4aXN0aW5nIGxpc3QuICBBcmUgeW91IHN1cmUgeW91IHdpc2ggdG8gcHJvY2VlZD9cIixcclxuXHRERUxFVEVfQ09ORklSTTogXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRhc2s/XCIsXHJcbiAgICBJTVBPUlQ6IFwiSW1wb3J0XCIsXHJcbiAgICBBRERfVEFTSzogXCJBZGQgVGFza1wiLFxyXG4gICAgRVhQT1JUOiBcIkV4cG9ydFwiLFxyXG4gICAgU0hPV19DTE9TRUQ6IFwiU2hvdyBDbG9zZWRcIixcclxuICAgIEZJTFRFUl9QTEFDRUhPTERFUl9URVhUOiBcIlR5cGUgZmlsdGVyKHMpXCIsXHJcbiAgICBDTEVBUl9GSUxURVI6IFwiQ2xlYXIgRmlsdGVyXCIsXHJcbiAgICBQUklPUklUSUVTOiBcIlByaW9yaXRpZXNcIixcclxuICAgIFBST0pFQ1RTOiBcIlByb2plY3RzXCIsXHJcbiAgICBDT05URVhUUzogXCJDb250ZXh0c1wiLFxyXG4gICAgQ0xPU0U6IFwiQ2xvc2VcIixcclxuICAgIEVESVRfVEFTS19IRUFERVI6IFwiRWRpdCBUYXNrXCIsXHJcbiAgICBBREQ6IFwiQWRkXCIsXHJcbiAgICBVUERBVEU6IFwiVXBkYXRlXCIsXHJcbiAgICBQUkVWSUVXOiBcIlByZXZpZXdcIixcclxuICAgIERFTEVURTogXCJEZWxldGVcIixcclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==