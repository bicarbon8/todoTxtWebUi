{"version":3,"sources":["./src/app/todo-txt-web-ui/task-list/task-list.component.ts","./src/app/todo-txt-web-ui/task-list/task-list.component.html","./src/app/todo-txt-web-ui/todo-txt-web-ui.module.ts","./node_modules/file-saver/dist/FileSaver.min.js","./src/app/todo-txt-web-ui/todo-txt-web-ui.component.ts","./src/app/todo-txt-web-ui/todo-txt-web-ui.component.html","./src/app/todo-txt-web-ui/helpers/todo-txt-utils.ts","./src/app/todo-txt-web-ui/todo-txt.ts","./src/app/todo-txt-web-ui/tasks/todo-txt-attributes.ts","./node_modules/tslib/tslib.es6.js","./src/app/todo-txt-web-ui/todo-txt-web-ui-routing.module.ts","./src/app/todo-txt-web-ui/tasks/todo-txt-task-parser.ts","./src/app/todo-txt-web-ui/storage/todo-txt-vault.ts"],"names":[],"mappings":"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","file":"todo-txt-web-ui-todo-txt-web-ui-module.js","sourcesContent":["import { Component, HostListener } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeUrl } from '@angular/platform-browser';\nimport { saveAs } from 'file-saver';\nimport { Key } from 'selenium-webdriver';\nimport { TodoTxtUtils } from '../helpers/todo-txt-utils';\nimport { TodoTxtConfig } from '../storage/todo-txt-config';\nimport { TodoTxtVault } from '../storage/todo-txt-vault';\nimport { TodoTxtTask } from '../tasks/todo-txt-task';\nimport { TodoTxtTaskParser } from '../tasks/todo-txt-task-parser';\nimport { TodoTxt } from '../todo-txt';\n\n@Component({\n  selector: 'app-task-list',\n  templateUrl: './task-list.component.html',\n  styleUrls: ['./task-list.component.css']\n})\nexport class TaskListComponent {\n  requiredFileType: string = '.txt';\n  fileName: string;\n  downloadFileName: string;\n  isDirty: boolean;\n  showClosed: boolean;\n  downloadUrl: SafeUrl;\n  filterStr: string;\n  editingTaskId: string;\n  isAddingNew: boolean;\n\n  constructor(private sanitiser: DomSanitizer) {\n    this.isDirty = false;\n    this.showClosed = TodoTxtVault.getConfig().showClosed;\n    this.downloadFileName = 'todo.txt';\n  }\n\n  async toggleShowClosed(): Promise<void> {\n    let cfg: TodoTxtConfig = TodoTxtVault.getConfig();\n    cfg.showClosed = !cfg.showClosed;\n    this.showClosed = cfg.showClosed;\n    TodoTxtVault.setConfig(cfg);\n  }\n  \n  async processToDoFile(event: any): Promise<void> {\n    if (event) {\n      let files: File[] = event.target?.files;\n      if (files && files.length > 0) {\n        let file: File = files[0];\n        if (file) {\n          TodoTxtVault.removeAllTasks();\n          this.fileName = file.name;\n          this.downloadFileName = this.fileName;\n          let text: string = await file.text();\n          let lines: string[] = text.split('\\n');\n          TodoTxtVault.addTasks(...TodoTxtTaskParser.parseMany(...lines));\n        }\n      }\n    }\n  }\n\n  @HostListener('keydown.alt.t')\n  async click_AddTask(): Promise<boolean> {\n    this.isAddingNew = true;\n    let t: TodoTxtTask = TodoTxtTaskParser.parse('');\n    TodoTxt.addTask(t);\n    this.click_StartEditTask(t.id);\n    this.isDirty = true;\n    return false;\n  }\n\n  async click_SaveTasks(): Promise<void> {\n    let data: string = this.getTasks().map((t) => t.text?.trim())?.join('\\n');\n    if (data) {\n      let blob = new Blob([data], { type: 'data:attachment/text; charset=utf-8' });\n      saveAs(blob, this.downloadFileName);\n    }\n    this.isDirty = false;\n  }\n\n  async keyup_UpdateFilter(filter: string): Promise<void> {\n    this.filterStr = filter;\n  }\n\n  async click_ClearFilter(event: any): Promise<void> {\n    this.filterStr = null;\n    event.target.value = undefined;\n  }\n\n  async click_MarkComplete(id: string): Promise<void> {\n    TodoTxt.closeTask(id);\n  }\n\n  async click_MarkActive(id: string): Promise<void> {\n    TodoTxt.activateTask(id);\n  }\n  \n  async click_StartEditTask(id: string): Promise<void> {\n    this.editingTaskId = id;\n  }\n\n  @HostListener('keydown.alt.enter')\n  async click_SaveTaskEdit(id: string): Promise<boolean> {\n    let text: string = document.querySelector<HTMLDivElement>(`#textarea_${id}`).innerText;\n    TodoTxt.updateTask(id, text);\n    this.isDirty = true;\n    this.doneEditing();\n    return false;\n  }\n\n  @HostListener('keydown.alt.esc')\n  async click_CancelTaskEdit(): Promise<boolean> {\n    if (this.isAddingNew) {\n      this.click_DeleteTask(this.editingTaskId);\n    }\n    this.doneEditing();\n    return false;\n  }\n\n  async click_DeleteTask(id: string): Promise<void> {\n    TodoTxtVault.removeTask(id);\n    this.isDirty = true;\n    this.doneEditing();\n  }\n\n  doneEditing(): void {\n    this.editingTaskId = null;\n    this.isAddingNew = false;\n  }\n\n  getTasks(): TodoTxtTask[] {\n    let tasks: TodoTxtTask[] = TodoTxt.getFilteredTaskArray(this.filterStr);\n    if (!TodoTxtVault.getConfig().showClosed) {\n      let active: TodoTxtTask[] = [];\n      for (var i=0; i<tasks.length; i++) {\n        if (tasks[i].isActive) {\n          active.push(tasks[i]);\n        }\n      }\n      tasks = active;\n    }\n    return tasks;\n  }\n\n  /**\n   * function will generate a html-markup version of the task\n   * @param {TodoTxtTask} task - the task to generate for\n   * @returns {string} the HTML marked up task text\n   */\n   getMarkupForTask(text: string): SafeHtml {\n      let task: TodoTxtTask = TodoTxtTaskParser.parse(text);\n      // make html compatible\n      text = TodoTxtUtils.htmlEncode(text);\n\n      // markup priority\n      let priCls: string = this.getDisplayClassForTask(task);\n      text = text.replace(task.priority, \"<span class=\\\"\" + priCls + \"\\\"><b>\" + task.priority + \"</b></span>\");\n\n      // markup projects\n      let projects: string[] = task.projects;\n      projects.forEach((project) => {\n          var regex = new RegExp(project.replace(/\\+/g, \"\\\\+\") + \"(?![0-9A-Za-z])\", \"g\");\n          text = text.replace(regex, \"<span class=\\\"text-muted\\\"><b><i>\" + project + \"</i></b></span>\");\n      });\n\n      // markup contexts\n      let contexts: string[] = task.contexts;\n      contexts.forEach((ctx) => {\n          var regex = new RegExp(ctx + \"(?![0-9A-Za-z])\", \"g\");\n          text = text.replace(regex, \"<span class=\\\"text-muted\\\"><b><i>\" + ctx + \"</i></b></span>\");\n      });\n\n      // markup created date\n      let date: string = task.createdDate;\n      if (date) {\n          text = text.replace(date, \"<span class=\\\"text-muted hidden-xs\\\"><b><i>\" + date + \"</i></b></span>\");\n      }\n\n      return this.sanitiser.bypassSecurityTrustHtml(text);\n  }\n  \n  getDisplayClassForTask(task: TodoTxtTask): string {\n      let cls: string = '';\n      if (task.priority !== null && task.isActive) {\n          if (task.priority === \"(A)\") {\n              cls += \" text-danger\";\n          }\n          if (task.priority === \"(B)\") {\n              cls += \" text-warning\";\n          }\n          if (task.priority === \"(C)\") {\n              cls += \" text-primary\";\n          }\n      }\n\n      return cls;\n  }\n}\n","<div class=\"d-flex flex-row justify-content-evenly\">\n    <div class=\"d-flex flex-column flex-grow-1\">\n        <div class=\"btn-group btn-group-justified\">\n            <button class=\"file-upload btn btn-secondary btn-lg\" (click)=\"fileUpload.click()\" aria-label=\"upload file\">\n                <i class=\"bi bi-cloud-upload\"> </i><span class=\"fw-light d-none d-lg-inline\"> {{fileName || 'Select todo.txt File'}}</span>\n            </button>\n            <button class=\"btn btn-lg btn-primary\" (click)=\"click_AddTask()\" aria-label=\"add task\">\n                <i class=\"bi bi-clipboard-plus\"> </i><span class=\"fw-light d-none d-lg-inline\"> Add Task</span>\n            </button>\n            <button class=\"btn btn-lg {{(isDirty) ? 'btn-warning' : 'btn-success'}}\" (click)=\"click_SaveTasks()\" aria-label=\"save tasks to file\">\n                <i class=\"bi bi-save\"> </i><span class=\"fw-light d-none d-lg-inline\"> Save Tasks</span>\n            </button>\n        </div>\n    </div>\n    <div class=\"d-flex flex-column p-2\">\n        <div class=\"form-check form-switch\">\n            <input class=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" (change)=\"toggleShowClosed()\" [checked]=\"showClosed\">\n            <label class=\"form-check-label d-none d-lg-inline\" for=\"flexSwitchCheckDefault\">{{(showClosed) ? 'Hide Closed Tasks' : 'Show Closed Tasks'}}</label>\n        </div>\n    </div>\n</div>\n<input type=\"file\" class=\"file-input visually-hidden\" [accept]=\"requiredFileType\" (change)=\"processToDoFile($event)\" #fileUpload />\n<div class=\"input-group input-group-lg\">\n    <input #todoTxtFilter type=\"text\" class=\"form-control\" placeholder=\"Type filter(s)\" aria-label=\"task filter\" aria-describedby=\"button-addon2\" (keyup)=\"keyup_UpdateFilter(todoTxtFilter.value)\">\n    <button class=\"btn btn-primary\" type=\"button\" id=\"button-addon2\" (click)=\"click_ClearFilter($event)\">\n        <span class=\"bi bi-x-circle\"></span> <span class=\"fw-light d-none d-lg-inline\" aria-label=\"clear filter\"> Clear Filter</span>\n    </button>\n</div>\n<div *ngFor=\"let t of getTasks()\">\n    <div *ngIf=\"editingTaskId != t.id\" class=\"btn-group d-flex flex-nowrap pt-1\" role=\"group\">\n        <button *ngIf=\"t.isActive\" class=\"col-xs-2 btn btn-lg btn-light\" (click)=\"click_MarkComplete(t.id)\" aria-label=\"mark as complete\"><i class=\"bi bi-circle\"></i></button>\n        <button *ngIf=\"!t.isActive\" class=\"col-xs-2 btn btn-lg btn-success\" (click)=\"click_MarkActive(t.id)\" aria-label=\"mark as incomplete\"><i class=\"bit bi-check-circle\"></i></button>\n        <button class=\"btn btn-lg {{(t.isActive) ? 'btn-light' : 'btn-outline-success'}} text-start w-100\" (click)=\"click_StartEditTask(t.id)\" aria-label=\"edit task\" [innerHTML]=\"getMarkupForTask(t.text)\"></button>\n    </div>\n    <div *ngIf=\"editingTaskId == t.id\">\n        <div id=\"textarea_{{t.id}}\" contenteditable=\"true\" class=\"textarea btn btn-lg pt-1 text-start w-100\" [innerHTML]=\"getMarkupForTask(t.text)\"></div>\n        <div class=\"btn-group d-flex flex-wrap pt-1\" role=\"group\">\n            <button class=\"btn btn-success\" (click)=\"click_SaveTaskEdit(t.id)\" aria-label=\"save changes\"><i class=\"bi bi-check\"></i><span class=\"fw-light d-none d-lg-inline\"> {{(isAddingNew) ? 'Save' : 'Update'}} Task</span></button>\n            <button class=\"btn btn-warning\" (click)=\"click_CancelTaskEdit()\" aria-label=\"discard changes\"><i class=\"bi bi-x\"></i><span class=\"fw-light d-none d-lg-inline\"> Discard Changes</span></button>\n            <button *ngIf=\"!isAddingNew\" class=\"btn btn-danger\" (click)=\"click_DeleteTask(t.id)\" aria-label=\"delete task\"><i class=\"bi bi-trash\"></i><span class=\"fw-light d-none d-lg-inline\"> Delete Task</span></button>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TodoTxtWebUiRoutingModule } from './todo-txt-web-ui-routing.module';\nimport { TodoTxtWebUiComponent } from './todo-txt-web-ui.component';\nimport { TaskListComponent } from './task-list/task-list.component';\n\n\n@NgModule({\n  declarations: [TodoTxtWebUiComponent, TaskListComponent],\n  imports: [\n    CommonModule,\n    TodoTxtWebUiRoutingModule\n  ]\n})\nexport class TodoTxtWebUiModule { }\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-todo-txt-web-ui',\n  templateUrl: './todo-txt-web-ui.component.html',\n  styleUrls: ['./todo-txt-web-ui.component.css']\n})\nexport class TodoTxtWebUiComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-md-9\">\n            <app-task-list></app-task-list>\n        </div>\n        <div class=\"col-md-3\"></div>\n    </div>\n</div>","/**********************************************************************\r\n * This javascript was created according to the specifications at\r\n * http://todotxt.com/ and is intended to allow users to access their\r\n * todo.txt files in a user-friendly and easy to visualize manner.\r\n *\r\n * Once initially uploaded, the todo.txt file will\r\n * be loaded into an HTML5 localStorage and managed from there.\r\n * The web page then allows downloading changes back to the user\r\n * in a txt format compliant with the todo.txt specifications, but\r\n * having re-sorted the tasks.\r\n * \r\n * @Created: 08/14/2012\r\n * @Author: Jason Holt Smith (bicarbon8@gmail.com)\r\n * @Version: 0.0.1\r\n * Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under\r\n * the terms of the GNU General Public License.\r\n * \r\n * This file is part of todoTxtWebUi.\r\n * \r\n * todoTxtWebUi is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * todoTxtWebUi is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU General Public License\r\n * along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.\r\n **********************************************************************/\r\n/**\r\n * Utility methods used by the project library\r\n * @namespace\r\n */\r\nexport module TodoTxtUtils {\r\n    /**\r\n     * function will format a Date object to a string of YYYY-MM-DD\r\n     * @returns {string} formatted date\r\n     */\r\n    export function formatDate(dateObj: Date): string {\r\n        var yyyy = dateObj.getFullYear();\r\n        var mm = (dateObj.getMonth()+1).toString(); // getMonth() is zero-based\r\n        mm = mm.length < 2 ? \"0\" + mm : mm;\r\n        var dd  = (dateObj.getDate()).toString();\r\n        dd = dd.length < 2 ? \"0\" + dd : dd;\r\n        return String(yyyy + \"-\" + mm + \"-\" + dd); // Leading zeros for mm and dd\r\n    }\r\n\r\n    /**\r\n     * function will get the current browser language-locale\r\n     * @returns {string} a ISO language-locale for the browser\r\n     */\r\n    export function getLanguage(): string {\r\n        var langLocale = window.navigator[\"userLanguage\"] || window.navigator.language;\r\n        return langLocale.toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * function generates a GUID\r\n     * @returns {string} a GUID (NNNNNNNN-NNNN-NNNN-NNNN-NNNNNNNNNNNN)\r\n     */\r\n    export function guid(): string {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * function will strip out any characters from the passed in string that are\r\n     * not compatible with html and replace with html-friendly versions\r\n     * @param {string} str - the string to be html encoded\r\n     * @returns {string} a html encoded version of the string that can be used safely\r\n     * within a html page\r\n     */\r\n    export function htmlEncode(str: string): string {\r\n        return String(str)\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/\"/g, '&quot;')\r\n            .replace(/\\s{2}/g, ' &nbsp;');\r\n    }\r\n\r\n    /**\r\n     * function will strip out any characters from the passed in string that are\r\n     * html character entities and replace with standard string versions\r\n     * @param {string} str - the string to be html unencoded\r\n     * @returns {string} a version of the string that can contains non-html-friendly\r\n     * strings\r\n     */\r\n    export function htmlUnencode(str: string): string {\r\n        return String(str)\r\n            .replace(/&amp;/g, '&')\r\n            .replace(/&lt;/g, '<')\r\n            .replace(/&gt;/g, '>')\r\n            .replace(/&quot;/g, '\"')\r\n            .replace(/&nbsp;/g, ' ');\r\n    }\r\n}","/**********************************************************************\r\n * This javascript was created according to the specifications at\r\n * http://todotxt.com/ and is intended to allow users to access their\r\n * todo.txt files in a user-friendly and easy to visualize manner.\r\n *\r\n * Once initially uploaded, the todo.txt file will\r\n * be loaded into an HTML5 localStorage and managed from there.\r\n * The web page then allows downloading changes back to the user\r\n * in a txt format compliant with the todo.txt specifications, but\r\n * having re-sorted the tasks.\r\n * \r\n * @Created: 08/14/2012\r\n * @Author: Jason Holt Smith (bicarbon8@gmail.com)\r\n * @Version: 0.0.1\r\n * Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under\r\n * the terms of the GNU General Public License.\r\n * \r\n * This file is part of todoTxtWebUi.\r\n * \r\n * todoTxtWebUi is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * todoTxtWebUi is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU General Public License\r\n * along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.\r\n **********************************************************************/\r\nimport { TodoTxtAttributes } from './tasks/todo-txt-attributes';\r\nimport { TodoTxtTask } from './tasks/todo-txt-task';\r\nimport { TodoTxtTaskParser } from './tasks/todo-txt-task-parser';\r\nimport { TodoTxtUtils } from './helpers/todo-txt-utils';\r\nimport { TodoTxtVault } from './storage/todo-txt-vault';\r\n\r\nexport module TodoTxt {\r\n    /**\r\n     * function will return a sorted array of tasks as pulled from\r\n     * localStorage.\r\n     * @returns {array} a sorted list of tasks from localStorage\r\n     */\r\n    export function getSortedTaskArray(): TodoTxtTask[] {\r\n        // sort the list and then add it\r\n        let taskArray: TodoTxtTask[] = TodoTxtVault.getAllTasks();\r\n        TodoTxtAttributes.reset();\r\n        for (var i=0; i<taskArray.length; i++) {\r\n            updateAttributes(taskArray[i]);\r\n        }\r\n        taskArray.sort(compareTasks);\r\n\r\n        return taskArray;\r\n    }\r\n\r\n    /**\r\n     * function will return a filtered array of tasks based on the passed in\r\n     * filter string.  Matching uses an ordered fuzzy match so for the following:\r\n     * \"(A) 2014-03-02 don't forget to file @report with +John\" a passed in filter\r\n     * string of \"for John\" will match, but \"John report\" will not match\r\n     * @param {string} filterStr - a string containing characters to match against the existing tasks\r\n     * @returns {array} a sorted list of tasks matching the passed in <b><i>filterStr</i></b>\r\n     */\r\n    export function getFilteredTaskArray(filterStr: string) {\r\n        var filteredTasks = TodoTxt.getSortedTaskArray();\r\n        if (filterStr && filterStr !== \"\") {\r\n            // create the regex matcher\r\n            let filters: string[] = filterStr.split(\" \");\r\n            let rStr: string = '';\r\n            for (var i=0; i<filters.length; i++) {\r\n                var filter = filters[i].replace(/([-\\(\\)\\[\\]\\{\\}+\\?*\\.$\\^\\|,:#<\\!\\\\])/g, '\\\\$1').replace(/\\x08/g, '\\\\x08');\r\n                rStr += \".*(\" + filter + \").*\";\r\n            }\r\n            var regex = new RegExp(rStr, \"i\");\r\n            let tasks: TodoTxtTask[] = filteredTasks.filter(function (t) {\r\n                return t.text.match(regex);\r\n            });\r\n            filteredTasks = tasks;\r\n        }\r\n\r\n        return filteredTasks;\r\n    }\r\n\r\n    /**\r\n     * function will process each line of the todo.txt, sort by priority,\r\n     * creationDate, and state (active or closed).\r\n     *\r\n     * @param {string} todoTxt - the \"\\n\" delimited lines from a todo.txt file\r\n     * @param {boolean} append - a boolean indicating if existing tasks should be cleared\r\n     * first or just appended to with the new file\r\n     */\r\n    export function parseTodoTxtFile(todoTxt: string, append?: boolean) {\r\n        if (!append) {\r\n            // clear the Storage\r\n            TodoTxtVault.removeAllTasks();\r\n        }\r\n        var lines = todoTxt.split(\"\\n\");\r\n        for (var i in lines) {\r\n            if (typeof lines[i] === \"string\") {\r\n                let line: string = lines[i];\r\n                // ignore empty lines\r\n                if (line && line !== \"\") {\r\n                    // create new Task and add to our global list in it's proper location\r\n                    createTask(line);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * function creates a new task and saves to {TodoTxtVault}\r\n     * @param {string} textStr - a string representing a raw task\r\n     * @returns {string} the ID of the newly created {TodoTxt.Task}\r\n     */\r\n    export function createTask(textStr: string): string {\r\n        let text: string = textStr || '';\r\n        let t: TodoTxtTask = TodoTxtTaskParser.parse(text);\r\n        addTask(t);\r\n        return t.id;\r\n    }\r\n\r\n    /**\r\n     * function will get a specified task from TodoTxtVault by id\r\n     * @param {string} taskId - the unique id of the task to be returned\r\n     * @returns {TodoTxtTask} a task or null if task not found\r\n     */\r\n    export function getTask(taskId: string): TodoTxtTask {\r\n        let task: TodoTxtTask = TodoTxtVault.getTask(taskId);\r\n        return task;\r\n    }\r\n\r\n    /**\r\n     * function updates the task and saves it to the TodoTxtVault cache\r\n     * @param {string} taskId - unique ID used to retrieve the task from Storage\r\n     * @param {string} newText - a string representing the updated, raw task text\r\n     * @returns {boolean} true if task could be updated otherwise false\r\n     */\r\n    export function updateTask(taskId: string, newText: string): boolean {\r\n        let task: TodoTxtTask = TodoTxtTaskParser.parse(newText);\r\n        task.id = taskId;\r\n\r\n        // overwrite storage with updated task\r\n        TodoTxt.addTask(task);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * function adds this task to the browser's local cache allowing for\r\n     * retained data on subsequent reloads of the page\r\n     * @param {TodoTxtTask} task - a task to be added to Storage\r\n     */\r\n    export function addTask(task: TodoTxtTask) {\r\n        TodoTxtVault.addTasks(task);\r\n        updateAttributes(task);\r\n    }\r\n\r\n    /**\r\n     * function will append an \"x YYYY-MM-DD \" to a stored\r\n     * task if not already closed and will remove any priority\r\n     * declarations in the text of the Task\r\n     * @param {string} taskId - unique ID used to retrieve the task from Storage\r\n     * @returns {boolean} true if task could be closed, otherwise false\r\n     */\r\n    export function closeTask(taskId: string): boolean {\r\n        var task = getTask(taskId);\r\n\r\n        if (task && task.isActive) {\r\n            var text = task.text;\r\n            if (task.priority) {\r\n                text = text.replace(task.priority, \"\");\r\n            }\r\n            text = \"x \" + TodoTxtUtils.formatDate(new Date()) + \" \" + text;\r\n            updateTask(task.id, text);\r\n            return true;\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * function will remove \"x YYYY-MM-DD \" from a stored\r\n     * task if not already active\r\n     * @param {string} taskId - unique ID used to retrieve the task from Storage\r\n     * @returns {boolean} true if task could be activated, otherwise false\r\n     */\r\n    export function activateTask(taskId: string): boolean {\r\n        var task = getTask(taskId);\r\n        if (task && !task.isActive) {\r\n            let text: string = task.text;\r\n            text = text.replace(/^(x )/, \"\").replace(task.completedDate + \" \", \"\");\r\n            updateTask(task.id, text);\r\n            return true;\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    /** @ignore */\r\n    function updateAttributes(task: TodoTxtTask): void {\r\n        if (task.isActive || TodoTxtVault.getConfig().showClosed) {\r\n            // get the priority and add to global filter hashset\r\n            if (task.priority) {\r\n                TodoTxtAttributes.priorities.add(task.priority);\r\n            }\r\n\r\n            // get each project and add to the global filter hashset\r\n            task.projects.forEach((project) => {\r\n                if (project) {\r\n                    TodoTxtAttributes.projects.add(project);\r\n                }\r\n            });\r\n\r\n            // get each context and add to the global filter hashset\r\n            task.contexts.forEach((context) => {\r\n                if (context) {\r\n                    TodoTxtAttributes.contexts.add(context);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /** @ignore */\r\n    function compareTasks(taskA: TodoTxtTask, taskB: TodoTxtTask) {\r\n        // function will allow sorting of tasks by the following\r\n        // criteria: (1) active vs. closed (2) priority (3) created date\r\n        // (4) completed date\r\n        var aActive = taskA.isActive;\r\n        var bActive = taskB.isActive;\r\n        var aPri = taskA.priority;\r\n        var bPri = taskB.priority;\r\n        var aCreated = taskA.createdDate;\r\n        var bCreated = taskB.createdDate;\r\n        var aCompleted = taskA.completedDate;\r\n        var bCompleted = taskB.completedDate;\r\n\r\n        // (1) compare active vs. closed\r\n        if (aActive !== bActive) {\r\n            // prioritize active over closed\r\n            if (aActive) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        } else { // (2) compare priority\r\n            if (aPri !== bPri) {\r\n                // order by priority, but favor having priority over not\r\n                if (!bPri || aPri < bPri) {\r\n                    return -1;\r\n                } else if (!aPri || aPri > bPri) {\r\n                    return 1;\r\n                }\r\n            } else { // (3) compare created date\r\n                if (aCreated !== bCreated) {\r\n                    // order by created date ascending (oldest ones first)\r\n                    if (aCreated < bCreated) {\r\n                        return -1;\r\n                    } else {\r\n                        return 1;\r\n                    }\r\n                } else { // (4) compare completed date\r\n                    if (aCompleted !== bCompleted) {\r\n                        // order by completed date descending (latest ones first)\r\n                        if (aCompleted > bCompleted) {\r\n                            return -1;\r\n                        } else {\r\n                            return 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // objects are equivalent\r\n        return 0;\r\n    }\r\n}","/**********************************************************************\r\n * This javascript was created according to the specifications at\r\n * http://todotxt.com/ and is intended to allow users to access their\r\n * todo.txt files in a user-friendly and easy to visualize manner.\r\n *\r\n * Once initially uploaded, the todo.txt file will\r\n * be loaded into an HTML5 localStorage and managed from there.\r\n * The web page then allows downloading changes back to the user\r\n * in a txt format compliant with the todo.txt specifications, but\r\n * having re-sorted the tasks.\r\n * \r\n * @Created: 08/14/2012\r\n * @Author: Jason Holt Smith (bicarbon8@gmail.com)\r\n * @Version: 0.0.1\r\n * Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under\r\n * the terms of the GNU General Public License.\r\n * \r\n * This file is part of todoTxtWebUi.\r\n * \r\n * todoTxtWebUi is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * todoTxtWebUi is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU General Public License\r\n * along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.\r\n **********************************************************************/\r\nexport module TodoTxtAttributes {\r\n    export var priorities: Set<string> = new Set<string>();\r\n    export var projects: Set<string> = new Set<string>();\r\n    export var contexts: Set<string> = new Set<string>();\r\n\r\n    export function reset(): void {\r\n        priorities = new Set<string>();\r\n        projects = new Set<string>();\r\n        contexts = new Set<string>();\r\n    }\r\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { TodoTxtWebUiComponent } from './todo-txt-web-ui.component';\n\nconst routes: Routes = [\n  { path: '', component: TodoTxtWebUiComponent },\n  { path: 'todoTxtWebUi', component: TodoTxtWebUiComponent },\n  { path: 'todo-txt-web-ui', component: TodoTxtWebUiComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TodoTxtWebUiRoutingModule { }\n","import { TodoTxtUtils } from \"../helpers/todo-txt-utils\";\r\nimport { TodoTxtTask } from \"./todo-txt-task\";\r\n\r\nexport module TodoTxtTaskParser {\r\n    export function parse(text: string): TodoTxtTask {\r\n        let task: TodoTxtTask = {\r\n            id: TodoTxtUtils.guid(),\r\n            text: text,\r\n            isActive: parseStatus(text),\r\n            priority: parsePriority(text),\r\n            completedDate: parseCompletedDate(text),\r\n            createdDate: parseCreatedDate(text),\r\n            projects: parseProjects(text),\r\n            contexts: parseContexts(text)\r\n        };\r\n        return task;\r\n    }\r\n\r\n    export function parseMany(...texts: string[]): TodoTxtTask[] {\r\n        let tasks: TodoTxtTask[] = [];\r\n        if (texts) {\r\n            for (var i=0; i<texts.length; i++) {\r\n                tasks.push(parse(texts[i]));\r\n            }\r\n        }\r\n        return tasks;\r\n    }\r\n\r\n    function parseStatus(str: string): boolean {\r\n        // check for strings starting with something like \"x \"\r\n        let match: RegExpMatchArray = str.match(/^(x )/);\r\n        if (match && match.length > 0) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function parsePriority(str: string): string {\r\n        let pri: string;\r\n        if (str) {\r\n            // parse out the priority RegEx: /\\^([A-Z]\\).*/ \r\n            // check for strings starting with something like \"(A) \"\r\n            let priPattern: RegExp = /^(\\([A-Z]\\)[\\s]+)/;\r\n            var match = str.match(priPattern); // returns null if not found\r\n            if (match) {\r\n                // found an active match so get the priority\r\n                pri = match[0].replace(/[\\s]*/g, \"\");\r\n            }\r\n        }\r\n        return pri;\r\n    }\r\n\r\n    function parseCompletedDate(str: string): string {\r\n        var completed: string;\r\n        \r\n        // parse out the completedDate if closed (starts with \"x \")\r\n        if (!parseStatus(str)) {\r\n            let dates: string[] = getDatesFromText(str);\r\n            if (dates) {\r\n                completed = dates[0] ? dates[0].replace(/[\\s]*/g, \"\") : null;\r\n            }\r\n        }\r\n        \r\n        return completed;\r\n    }\r\n\r\n    function parseCreatedDate(str: string): string {\r\n        var created: string;\r\n        // parse out the createdDate (will be 2nd if item is closed)\r\n        let dates: string[] = getDatesFromText(str);\r\n        if (dates) {\r\n            if (!parseStatus(str)) {\r\n                if (dates.length > 1) { // we have created and completed\r\n                    created = dates[1] ? dates[1].replace(/[\\s]*/g, \"\") : null;\r\n                }\r\n            } else {\r\n                created = dates[0] ? dates[0].replace(/[\\s]*/g, \"\") : null;\r\n            }\r\n        }\r\n        \r\n        return created;\r\n    }\r\n\r\n    function getDatesFromText(str: string): string[] {\r\n        var dates: string[] = [];\r\n        if (str) {\r\n            // check for strings with something like \"2012-08-09\"\r\n            let datePattern: RegExp = /(?:\\s|^)(\\d{4}-\\d{2}-\\d{2})(?=\\s)/g;\r\n            let match: RegExpMatchArray = str.match(datePattern); // returns null if not found\r\n            if (match) {\r\n                for (var i=0; i<match.length; i++) {\r\n                    dates.push(match[i]);\r\n                }\r\n            }\r\n        }\r\n        return dates;\r\n    }\r\n\r\n    function parseProjects(str: string): string[] {\r\n        var tmpSet: Set<string> = new Set<string>(); // used to hold the project if set\r\n        if (str) {\r\n            // parse out the projects RegEx: /\\+[0-9A-Za-z]+\\s/ (words starting with \"+\")\r\n            // check for strings like \"+ABC123\"\r\n            var projPattern = /((\\s|^)[\\(\\{\\[\"']?\\+[0-9A-Za-z]+[\\)\\}\\]\"']?(?=\\s|$))/g;\r\n            var match = str.match(projPattern); // returns null if not found\r\n            if (match) {\r\n                // only store one instance of duplicate project entries\r\n                for (var i=0; i<match.length; i++) {\r\n                    var p = match[i].replace(/[\\s]*/g, \"\").replace(/[\\(\\{\\[\\)\\}\\]\"']/g, \"\");;\r\n                    tmpSet.add(p);\r\n                }\r\n            }\r\n        }\r\n        return Array.from(tmpSet);\r\n    }\r\n\r\n    function parseContexts(str: string): string[] {\r\n        var tmpSet: Set<string> = new Set<string>(); // used to hold the context if set\r\n        if (str) {\r\n            // parse out the contexts RegEx: /\\@[0-9A-Za-z]+\\s/ (words starting with \"+\")\r\n            // check for strings like \"@ABC123\"\r\n            var ctxPattern = /((\\s|^)[\\(\\{\\[\"']?\\@[0-9A-Za-z]+[\\)\\}\\]\"']?(?=\\s|$))/g;\r\n            var match = str.match(ctxPattern); // returns null if not found\r\n            if (match) {\r\n                // only store one instance of duplicate project entries\r\n                for (var i=0; i<match.length; i++) {\r\n                    var c = match[i].replace(/[\\s]*/g, \"\").replace(/[\\(\\{\\[\\)\\}\\]\"']/g, \"\");;\r\n                    tmpSet.add(c);\r\n                }\r\n            }\r\n        }\r\n        return Array.from(tmpSet);\r\n    }\r\n}","/**********************************************************************\r\n * This javascript was created according to the specifications at\r\n * http://todotxt.com/ and is intended to allow users to access their\r\n * todo.txt files in a user-friendly and easy to visualize manner.\r\n *\r\n * Once initially uploaded, the todo.txt file will\r\n * be loaded into an HTML5 localStorage and managed from there.\r\n * The web page then allows downloading changes back to the user\r\n * in a txt format compliant with the todo.txt specifications, but\r\n * having re-sorted the tasks.\r\n * \r\n * @Created: 08/14/2012\r\n * @Author: Jason Holt Smith (bicarbon8@gmail.com)\r\n * @Version: 0.0.1\r\n * Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under\r\n * the terms of the GNU General Public License.\r\n * \r\n * This file is part of todoTxtWebUi.\r\n * \r\n * todoTxtWebUi is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * todoTxtWebUi is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU General Public License\r\n * along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.\r\n **********************************************************************/\r\nimport { TodoTxtTask } from \"../tasks/todo-txt-task\";\r\nimport { TodoTxtConfig } from \"./todo-txt-config\";\r\nimport { TodoTextCache } from \"./todo-txt-cache\";\r\n\r\nexport module TodoTxtVault {\r\n    var _tasks: Map<string, TodoTxtTask> = new Map<string, TodoTxtTask>();\r\n    var config: TodoTxtConfig = { showClosed: false };\r\n    var cacheError: number = 0;\r\n\r\n    export function addTasks(...tasks: TodoTxtTask[]): void {\r\n        if (tasks) {\r\n            for (var i=0; i<tasks.length; i++) {\r\n                let task: TodoTxtTask = tasks[i];\r\n                _tasks.set(task.id, task);\r\n\r\n                persist();\r\n            }\r\n        }\r\n    }\r\n\r\n    export function removeTask(taskId: string): boolean {\r\n        let found: boolean = false;\r\n        if (_tasks.has(taskId)) {\r\n            _tasks.delete(taskId);\r\n            found = true;\r\n        }\r\n\r\n        persist();\r\n\r\n        return found;\r\n    }\r\n\r\n    export function removeAllTasks(): void {\r\n        _tasks = new Map<string, TodoTxtTask>();\r\n\r\n        persist();\r\n    }\r\n\r\n    export function getTask(taskId: string): TodoTxtTask {\r\n        load();\r\n        \r\n        if (_tasks.has(taskId)) {\r\n            return _tasks.get(taskId);\r\n        }\r\n        throw new Error(`no TodoTxtTask with ID of '${taskId}' could be found`);\r\n    }\r\n\r\n    export function getAllTasks(): TodoTxtTask[] {\r\n        load();\r\n\r\n        let ts: TodoTxtTask[] = [];\r\n        _tasks.forEach((value: TodoTxtTask) => {\r\n            ts.push(value);\r\n        });\r\n        return ts;\r\n    }\r\n\r\n    export function getConfig(): TodoTxtConfig {\r\n        load();\r\n\r\n        return config;\r\n    }\r\n\r\n    export function setConfig(cfg: TodoTxtConfig): void {\r\n        config = cfg;\r\n\r\n        persist();\r\n    }\r\n\r\n    function persist(): void {\r\n        try {\r\n            let cache: TodoTextCache = {tasks: Array.from(_tasks.values()), config: config};\r\n            localStorage.setItem('todo-txt', JSON.stringify(cache));\r\n        } catch (e) {\r\n            if (cacheError == 0) {\r\n                // TODO: move this to TodoTxtView and present as Modal on startup\r\n                alert('WARNING: unable to store Tasks in localStorage; ensure you export your tasks before you close the browser or they will be lost!');\r\n                console.error(`TodoTxt unable to cache data in localStorage due to: ${e}`);\r\n                cacheError++;\r\n            }\r\n        }\r\n    }\r\n\r\n    function load(): void {\r\n        try {\r\n            let persistance: string = localStorage.getItem('todo-txt');\r\n            if (persistance) {\r\n                let cache: TodoTextCache = JSON.parse(persistance) as TodoTextCache;\r\n                if (cache.tasks) {\r\n                    _tasks.clear();\r\n                    for (var i=0; i<cache.tasks.length; i++) {\r\n                        _tasks.set(cache.tasks[i].id, cache.tasks[i]);\r\n                    }\r\n                    config = cache.config;\r\n                }\r\n            }\r\n        } catch (e) {\r\n            if (cacheError == 0) {\r\n                console.info(`TodoTxt unable to load cache from localStorage due to: ${e}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * WARNING!! removes all cached data including tasks and configuration.\r\n     * only to be used after you've exported your tasks to a file\r\n     */\r\n    export function _clear(): void {\r\n        _tasks = new Map<string, TodoTxtTask>();\r\n        config = {showClosed: false};\r\n        localStorage.removeItem('todo-txt');\r\n    }\r\n}"],"sourceRoot":"webpack:///"}