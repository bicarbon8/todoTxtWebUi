(self.webpackChunktodoTxtWebUi=self.webpackChunktodoTxtWebUi||[]).push([[94],{94:(O,$,w)=>{w.r($),w.d($,{TodoTxtWebUiModule:()=>K});var F,v,k,C,r,E,D=w(643),M=w(464);function W(r,s,t,n,l,p,m){try{var f=r[p](m),x=f.value}catch(y){return void t(y)}f.done?s(x):Promise.resolve(x).then(n,l)}function b(r){return function(){var s=this,t=arguments;return new Promise(function(n,l){var p=r.apply(s,t);function m(x){W(p,n,l,m,f,"next",x)}function f(x){W(p,n,l,m,f,"throw",x)}m(void 0)})}}!function(r){function f(){return(f=b(function*(){let[c]=yield window.showOpenFilePicker();const d=yield c.getFile();return{text:yield d.text(),name:d.name,path:d.webkitRelativePath,size:d.size}})).apply(this,arguments)}function y(){return(y=b(function*(c){const d={suggestedName:c.name||"todo.txt",types:[{description:"ToDo.txt file",accept:{"text/plain":[".txt"]}}]},a=yield(yield window.showSaveFilePicker(d)).createWritable();yield a.write(c.text||""),yield a.close()})).apply(this,arguments)}r.formatDate=function s(c){var d=c.getFullYear(),i=(c.getMonth()+1).toString();i=i.length<2?"0"+i:i;var a=c.getDate().toString();return a=a.length<2?"0"+a:a,String(d+"-"+i+"-"+a)},r.getLanguage=function t(){return(window.navigator.userLanguage||window.navigator.language).toLowerCase()},r.guid=function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var d=16*Math.random()|0;return("x"==c?d:3&d|8).toString(16)})},r.htmlEncode=function l(c){return String(c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\s{2}/g," &nbsp;")},r.htmlUnencode=function p(c){return String(c).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&nbsp;/g," ")},r.readFile=function m(){return f.apply(this,arguments)},r.saveToFile=function x(c){return y.apply(this,arguments)}}(F||(F={})),function(r){var s=new Map,t={showClosed:!1},n=0;function d(){try{let o={tasks:Array.from(s.values()),config:t};localStorage.setItem("todo-txt",JSON.stringify(o))}catch(o){0==n&&(alert("WARNING: unable to store Tasks in localStorage; ensure you export your tasks before you close the browser or they will be lost!"),console.error(`TodoTxt unable to cache data in localStorage due to: ${o}`),n++)}}function i(){try{let _=localStorage.getItem("todo-txt");if(_){let T=JSON.parse(_);if(T.tasks){s.clear();for(var o=0;o<T.tasks.length;o++)s.set(T.tasks[o].id,T.tasks[o]);t=T.config}}}catch(_){0==n&&console.info(`TodoTxt unable to load cache from localStorage due to: ${_}`)}}r.addTasks=function l(...o){if(o)for(var _=0;_<o.length;_++){let T=o[_];s.set(T.id,T),d()}},r.removeTask=function p(o){let _=!1;return s.has(o)&&(s.delete(o),_=!0),d(),_},r.removeAllTasks=function m(){s=new Map,d()},r.getTask=function f(o){if(i(),s.has(o))return s.get(o);throw new Error(`no TodoTxtTask with ID of '${o}' could be found`)},r.getAllTasks=function x(){i();let o=[];return s.forEach(_=>{o.push(_)}),o},r.getConfig=function y(){return i(),t},r.setConfig=function c(o){t=o,d()},r._clear=function a(){s=new Map,t={showClosed:!1},localStorage.removeItem("todo-txt")}}(v||(v={})),function(r){function s(c){return{id:F.guid(),text:c,isActive:n(c),priority:l(c),completedDate:p(c),createdDate:m(c),projects:x(c),contexts:y(c)}}function n(c){let d=c.match(/^(x )/);return!(d&&d.length>0)}function l(c){let d;if(c){var i=c.match(/^(\([A-Z]\)[\s]+)/);i&&(d=i[0].replace(/[\s]*/g,""))}return d}function p(c){var d;if(!n(c)){let i=f(c);i&&(d=i[0]?i[0].replace(/[\s]*/g,""):void 0)}return d}function m(c){var d;let i=f(c);return i&&(n(c)?d=i[0]?i[0].replace(/[\s]*/g,""):void 0:i.length>1&&(d=i[1]?i[1].replace(/[\s]*/g,""):void 0)),d}function f(c){var d=[];if(c){let o=c.match(/(?:\s|^)(\d{4}-\d{2}-\d{2})(?=\s)/g);if(o)for(var i=0;i<o.length;i++)d.push(o[i])}return d}function x(c){var d=new Set;if(c){var a=c.match(/((\s|^)[\(\{\["']?\+[0-9A-Za-z]+[\)\}\]"']?(?=\s|$))/g);if(a)for(var o=0;o<a.length;o++){var _=a[o].replace(/[\s]*/g,"").replace(/[\(\{\[\)\}\]"']/g,"");d.add(_)}}return Array.from(d)}function y(c){var d=new Set;if(c){var a=c.match(/((\s|^)[\(\{\["']?\@[0-9A-Za-z]+[\)\}\]"']?(?=\s|$))/g);if(a)for(var o=0;o<a.length;o++){var _=a[o].replace(/[\s]*/g,"").replace(/[\(\{\[\)\}\]"']/g,"");d.add(_)}}return Array.from(d)}r.get=s,r.getMany=function t(...c){let d=[];if(c)for(var i=0;i<c.length;i++)d.push(s(c[i]));return d}}(k||(k={})),(r=C||(C={})).priorities=new Set,r.projects=new Set,r.contexts=new Set,r.reset=function s(){r.priorities=new Set,r.projects=new Set,r.contexts=new Set},function(r){function l(i){let o=k.get(i||"");return f(o),o.id}function p(i){return v.getTask(i)}function m(i,a){let o=k.get(a);return o.id=i,r.addTask(o),!0}function f(i){v.addTasks(i),c(i)}function c(i){(i.isActive||v.getConfig().showClosed)&&(i.priority&&C.priorities.add(i.priority),i.projects.forEach(a=>{a&&C.projects.add(a)}),i.contexts.forEach(a=>{a&&C.contexts.add(a)}))}function d(i,a){var o=i.isActive,T=i.priority,U=a.priority,R=i.createdDate,V=a.createdDate,L=i.completedDate,B=a.completedDate;if(o!==a.isActive)return o?-1:1;if(T!==U){if(!U||T<U)return-1;if(!T||T>U)return 1}else{if(R!==V)return R<V?-1:1;if(L!==B)return L>B?-1:1}return 0}r.getSortedTaskArray=function s(){let i=v.getAllTasks();C.reset();for(var a=0;a<i.length;a++)c(i[a]);return i.sort(d),i},r.getFilteredTaskArray=function t(i){var a=r.getSortedTaskArray();if(i&&""!==i){let U=i.split(" "),R="";for(var o=0;o<U.length;o++)R+=".*("+U[o].replace(/([-\(\)\[\]\{\}+\?*\.$\^\|,:#<\!\\])/g,"\\$1").replace(/\x08/g,"\\x08")+").*";var T=new RegExp(R,"i");a=a.filter(function(L){return L.text.match(T)})}return a},r.parseTodoTxtFile=function n(i,a){a||v.removeAllTasks();var o=i.split("\n");for(var _ in o)if("string"==typeof o[_]){let T=o[_];T&&""!==T&&l(T)}},r.createTask=l,r.getTask=p,r.updateTask=m,r.addTask=f,r.closeTask=function x(i){var a=p(i);if(a&&a.isActive){var o=a.text;return a.priority&&(o=o.replace(a.priority,"")),o="x "+F.formatDate(new Date)+" "+o,m(a.id,o),!0}return!1},r.activateTask=function y(i){var a=p(i);if(a&&!a.isActive){let o=a.text;return o=o.replace(/^(x )/,"").replace(a.completedDate+" ",""),m(a.id,o),!0}return!1}}(E||(E={}));var u=w(441),e=w(802),S=w(481);function g(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2).$implicit;return e.\u0275\u0275nextContext().click_MarkComplete(l.id)}),e.\u0275\u0275element(1,"i",40),e.\u0275\u0275elementEnd()}}function h(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2).$implicit;return e.\u0275\u0275nextContext().click_MarkActive(l.id)}),e.\u0275\u0275element(1,"i",42),e.\u0275\u0275elementEnd()}}function H(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",35),e.\u0275\u0275template(1,g,2,0,"button",36),e.\u0275\u0275template(2,h,2,0,"button",37),e.\u0275\u0275elementStart(3,"button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275nextContext().click_StartEditTask(l.id)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&r){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275classMapInterpolate1("btn btn-lg ",t.isActive?"btn-light":"btn-outline-success"," text-start w-100"),e.\u0275\u0275property("innerHTML",n.getMarkupForTask(t.text),e.\u0275\u0275sanitizeHtml)}}function N(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2).$implicit;return e.\u0275\u0275nextContext().click_DeleteTask(l.id)}),e.\u0275\u0275element(1,"i",51),e.\u0275\u0275elementStart(2,"span",8),e.\u0275\u0275text(3," Delete Task"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function I(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div",43),e.\u0275\u0275listener("keydown.enter",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275nextContext().click_SaveTaskEdit(l.id)})("keydown.esc",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).click_CancelTaskEdit()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",44),e.\u0275\u0275elementStart(3,"button",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275nextContext().click_SaveTaskEdit(l.id)}),e.\u0275\u0275element(4,"i",46),e.\u0275\u0275elementStart(5,"span",8),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",47),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).click_CancelTaskEdit()}),e.\u0275\u0275element(8,"i",48),e.\u0275\u0275elementStart(9,"span",8),e.\u0275\u0275text(10," Discard Changes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,N,4,0,"button",49),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&r){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","textarea_",t.id,""),e.\u0275\u0275property("innerHTML",n.getMarkupForTask(t.text),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",n.isAddingNew?"Save":"Update"," Task"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!n.isAddingNew)}}function P(r,s){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,H,4,6,"div",33),e.\u0275\u0275template(2,I,12,4,"div",34),e.\u0275\u0275elementEnd()),2&r){const t=s.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.editingTaskId!=t.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.editingTaskId==t.id)}}function j(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",52),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext(),f=e.\u0275\u0275reference(27);return m.keyup_UpdateFilter(p),f.value=p}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&r){const t=s.$implicit;e.\u0275\u0275propertyInterpolate1("title","Filter by priority: ",t,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t,"")}}function A(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",52),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext(),f=e.\u0275\u0275reference(27);return m.keyup_UpdateFilter(p),f.value=p}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&r){const t=s.$implicit;e.\u0275\u0275propertyInterpolate1("title","Filter by project: ",t,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t,"")}}function z(r,s){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",52),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext(),f=e.\u0275\u0275reference(27);return m.keyup_UpdateFilter(p),f.value=p}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&r){const t=s.$implicit;e.\u0275\u0275propertyInterpolate1("title","Filter by context: ",t,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t,"")}}const Z=[{path:"",component:(()=>{class r{constructor(t,n){this.sanitiser=t,this.changeDetector=n,this.requiredFileType=".txt",this.isDirty=!1,this.showClosed=v.getConfig().showClosed,this.downloadFileName="todo.txt"}toggleShowClosed(){var t=this;return b(function*(){let n=v.getConfig();n.showClosed=!n.showClosed,t.showClosed=n.showClosed,v.setConfig(n)})()}click_OpenToDoFile(){var t=this;return b(function*(){const n=yield F.readFile().catch(l=>{if("AbortError"!=l.name)return console.warn(`unable to use File System API so falling back to legacy mode: ${l}`),document.getElementById("file-input").click(),null});if(n){t.fileName=n.name;let l=n.text?.split("\n")||[];v.addTasks(...k.getMany(...l))}})()}processToDoFile(t){var n=this;return b(function*(){if(t){let l=t.target?.files;if(l&&l.length>0){let p=l[0];if(p){v.removeAllTasks(),n.fileName=p.name;let f=(yield p.text()).split("\n");v.addTasks(...k.getMany(...f))}}}})()}click_AddTask(){var t=this;return b(function*(){t.isAddingNew=!0;let n=k.get("");return E.addTask(n),t.isDirty=!0,yield t.click_StartEditTask(n.id)})()}click_SaveTasks(){var t=this;return b(function*(){let n=t.getTasks().map(l=>l.text?.trim())?.join("\n");n&&(yield F.saveToFile({text:n,name:t.fileName}).catch(l=>{if("AbortError"!=l.name){console.warn(`unable to use File System API so falling back to legacy mode: ${l}`);let p=new Blob([n],{type:"data:attachment/text; charset=utf-8"});(0,u.saveAs)(p,t.downloadFileName)}})),t.isDirty=!1})()}keyup_UpdateFilter(t){var n=this;return b(function*(){n.filterStr=t})()}click_ClearFilter(t){var n=this;return b(function*(){n.filterStr=null,t.target.value=void 0})()}click_MarkComplete(t){return b(function*(){E.closeTask(t)})()}click_MarkActive(t){return b(function*(){E.activateTask(t)})()}click_StartEditTask(t){var n=this;return b(function*(){return n.editingTaskId=t,n.changeDetector.detectChanges(),yield n.setFocus(t)})()}setFocus(t){return b(function*(){let n=document.getElementById(`textarea_${t}`);return n?(console.info(`setting focus on element 'textarea_${t}'`),n.focus(),t):Promise.reject(`unable to find element 'textarea_${t}'`)})()}click_SaveTaskEdit(t){var n=this;return b(function*(){let l=document.querySelector(`#textarea_${t}`).innerText;return E.updateTask(t,l),n.isDirty=!0,n.doneEditing(),l})()}click_CancelTaskEdit(){var t=this;return b(function*(){t.isAddingNew&&t.click_DeleteTask(t.editingTaskId),t.doneEditing()})()}click_DeleteTask(t){var n=this;return b(function*(){v.removeTask(t),n.isDirty=!0,n.doneEditing()})()}doneEditing(){this.editingTaskId=null,this.isAddingNew=!1,this.changeDetector.detectChanges()}getTasks(){let t=E.getFilteredTaskArray(this.filterStr);if(!v.getConfig().showClosed){let l=[];for(var n=0;n<t.length;n++)t[n].isActive&&l.push(t[n]);t=l}return t}getMarkupForTask(t){let n=k.get(t);t=F.htmlEncode(t);let l=this.getDisplayClassForTask(n);t=t.replace(n.priority,'<span class="'+l+'"><b>'+n.priority+"</b></span>"),n.projects.forEach(x=>{var y=new RegExp(x.replace(/\+/g,"\\+")+"(?![0-9A-Za-z])","g");t=t.replace(y,'<span class="text-muted"><b><i>'+x+"</i></b></span>")}),n.contexts.forEach(x=>{var y=new RegExp(x+"(?![0-9A-Za-z])","g");t=t.replace(y,'<span class="text-muted"><b><i>'+x+"</i></b></span>")});let f=n.createdDate;return f&&(t=t.replace(f,'<span class="text-muted hidden-xs"><b><i>'+f+"</i></b></span>")),this.sanitiser.bypassSecurityTrustHtml(t)}getDisplayClassForTask(t){let n="";return null!==t.priority&&t.isActive&&("(A)"===t.priority&&(n+=" text-danger"),"(B)"===t.priority&&(n+=" text-warning"),"(C)"===t.priority&&(n+=" text-primary")),n}getPriorities(){return Array.from(C.priorities)}getProjects(){return Array.from(C.projects)}getContexts(){return Array.from(C.contexts)}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(S.H7),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-todo-txt-web-ui"]],hostBindings:function(t,n){1&t&&e.\u0275\u0275listener("keydown.esc",function(){return n.click_CancelTaskEdit()})},decls:53,vars:11,consts:[[1,"container","py-1"],[1,"row"],[1,"col-md-9"],[1,"d-flex","flex-row","justify-content-evenly","pb-1"],[1,"d-flex","flex-column","flex-grow-1"],[1,"btn-group","btn-group-justified"],["aria-label","upload file","data-bs-toggle","tooltip","data-bs-placement","top","title","Import todo.txt file",1,"file-upload","btn","btn-secondary","btn-lg",3,"click"],[1,"bi","bi-cloud-upload"],[1,"fw-light","d-none","d-lg-inline"],["aria-label","add task","id","addtask_button","data-bs-toggle","tooltip","data-bs-placement","top","title","New task",1,"btn","btn-lg","btn-primary",3,"click"],[1,"bi","bi-clipboard-plus"],["aria-label","save tasks to file","data-bs-toggle","tooltip","data-bs-placement","top","title","Export tasks",3,"click"],[1,"bi","bi-save"],[1,"d-flex","flex-column","p-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Show closed tasks",1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"checked","change"],["for","flexSwitchCheckDefault",1,"form-check-label","d-none","d-lg-inline"],["id","file-input","type","file",1,"file-input","visually-hidden",3,"accept","change"],["fileUpload",""],[1,"input-group","input-group-lg"],["type","text","placeholder","Type filter(s)","aria-label","task filter","aria-describedby","button-addon2",1,"form-control",3,"keyup"],["todoTxtFilter",""],["type","button","id","button-addon2","data-bs-toggle","tooltip","data-bs-placement","top","title","Clear filter",1,"btn","btn-primary",3,"click"],[1,"bi","bi-x-circle"],["aria-label","clear filter",1,"fw-light","d-none","d-lg-inline"],[4,"ngFor","ngForOf"],[1,"d-none","d-md-inline","col-md-3"],[1,"container"],[1,"row","pt-2"],[1,"card","p-0"],[1,"card-header"],[1,"btn-group-vertical"],["class","btn btn-outline-secondary list-group-item","data-bs-toggle","tooltip","data-bs-placement","top",3,"title","click",4,"ngFor","ngForOf"],["class","btn-group d-flex flex-nowrap pt-1","role","group",4,"ngIf"],[4,"ngIf"],["role","group",1,"btn-group","d-flex","flex-nowrap","pt-1"],["class","col-xs-2 btn btn-lg btn-light","aria-label","mark as complete","data-bs-toggle","tooltip","data-bs-placement","top","title","Mark complete",3,"click",4,"ngIf"],["class","col-xs-2 btn btn-lg btn-success","aria-label","mark as incomplete","data-bs-toggle","tooltip","data-bs-placement","top","title","Unmark / Make active",3,"click",4,"ngIf"],["aria-label","edit task","data-bs-toggle","tooltip","data-bs-placement","top","title","Edit task",3,"innerHTML","click"],["aria-label","mark as complete","data-bs-toggle","tooltip","data-bs-placement","top","title","Mark complete",1,"col-xs-2","btn","btn-lg","btn-light",3,"click"],[1,"bi","bi-circle"],["aria-label","mark as incomplete","data-bs-toggle","tooltip","data-bs-placement","top","title","Unmark / Make active",1,"col-xs-2","btn","btn-lg","btn-success",3,"click"],[1,"bit","bi-check-circle"],["tabindex","0","contenteditable","true",1,"textarea","btn","btn-lg","pt-1","text-start","w-100",3,"id","innerHTML","keydown.enter","keydown.esc"],["role","group",1,"btn-group","d-flex","flex-wrap","pt-1"],["aria-label","save changes","data-bs-toggle","tooltip","data-bs-placement","top","title","Save Changes (Enter)","data-bs-toggle","tooltip","data-bs-placement","top","title","Save changes",1,"btn","btn-success",3,"click"],[1,"bi","bi-check"],["aria-label","discard changes","data-bs-toggle","tooltip","data-bs-placement","top","title","Discard Changes (Esc)","data-bs-toggle","tooltip","data-bs-placement","top","title","Discard changes",1,"btn","btn-warning",3,"click"],[1,"bi","bi-x"],["class","btn btn-danger","aria-label","delete task","data-bs-toggle","tooltip","data-bs-placement","top","title","Delete task",3,"click",4,"ngIf"],["aria-label","delete task","data-bs-toggle","tooltip","data-bs-placement","top","title","Delete task",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],["data-bs-toggle","tooltip","data-bs-placement","top",1,"btn","btn-outline-secondary","list-group-item",3,"title","click"]],template:function(t,n){if(1&t){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"button",6),e.\u0275\u0275listener("click",function(){return n.click_OpenToDoFile()}),e.\u0275\u0275element(7,"i",7),e.\u0275\u0275elementStart(8,"span",8),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",9),e.\u0275\u0275listener("click",function(){return n.click_AddTask()}),e.\u0275\u0275element(11,"i",10),e.\u0275\u0275elementStart(12,"span",8),e.\u0275\u0275text(13," New Task"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",11),e.\u0275\u0275listener("click",function(){return n.click_SaveTasks()}),e.\u0275\u0275element(15,"i",12),e.\u0275\u0275elementStart(16,"span",8),e.\u0275\u0275text(17," Export Tasks"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",13),e.\u0275\u0275elementStart(19,"div",14),e.\u0275\u0275elementStart(20,"input",15),e.\u0275\u0275listener("change",function(){return n.toggleShowClosed()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"label",16),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"input",17,18),e.\u0275\u0275listener("change",function(m){return n.processToDoFile(m)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",19),e.\u0275\u0275elementStart(26,"input",20,21),e.\u0275\u0275listener("keyup",function(){e.\u0275\u0275restoreView(l);const m=e.\u0275\u0275reference(27);return n.keyup_UpdateFilter(m.value)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"button",22),e.\u0275\u0275listener("click",function(m){e.\u0275\u0275restoreView(l);const f=e.\u0275\u0275reference(27);return n.click_ClearFilter(m),f.value=""}),e.\u0275\u0275element(29,"span",23),e.\u0275\u0275elementStart(30,"span",24),e.\u0275\u0275text(31," Clear Filter"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(32,P,3,2,"div",25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",26),e.\u0275\u0275elementStart(34,"div",27),e.\u0275\u0275elementStart(35,"div",28),e.\u0275\u0275elementStart(36,"div",29),e.\u0275\u0275elementStart(37,"div",30),e.\u0275\u0275text(38," Priorities"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",31),e.\u0275\u0275template(40,j,2,2,"button",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",28),e.\u0275\u0275elementStart(42,"div",29),e.\u0275\u0275elementStart(43,"div",30),e.\u0275\u0275text(44," Projects"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"div",31),e.\u0275\u0275template(46,A,2,2,"button",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",28),e.\u0275\u0275elementStart(48,"div",29),e.\u0275\u0275elementStart(49,"div",30),e.\u0275\u0275text(50," Contexts"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"div",31),e.\u0275\u0275template(52,z,2,2,"button",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}2&t&&(e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1(" ",n.fileName||"Import todo.txt File",""),e.\u0275\u0275advance(5),e.\u0275\u0275classMapInterpolate1("btn btn-lg ",n.isDirty?"btn-warning":"btn-success",""),e.\u0275\u0275advance(6),e.\u0275\u0275property("checked",n.showClosed),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.showClosed?"Hide Closed Tasks":"Show Closed Tasks"),e.\u0275\u0275advance(1),e.\u0275\u0275property("accept",n.requiredFileType),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngForOf",n.getTasks()),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",n.getPriorities()),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",n.getProjects()),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",n.getContexts()))},directives:[D.NgForOf,D.NgIf],styles:["div.textarea[_ngcontent-%COMP%]{border:dashed 2px;border-radius:4px}"]}),r})()}];let G=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[M.RouterModule.forChild(Z)],M.RouterModule]}),r})(),K=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[D.CommonModule,G]]}),r})()},441:function(O,$){var M;void 0!==(M=function(){"use strict";function b(u,e,S){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){E(g.response,e,S)},g.onerror=function(){console.error("could not download file")},g.send()}function F(u){var e=new XMLHttpRequest;e.open("HEAD",u,!1);try{e.send()}catch{}return 200<=e.status&&299>=e.status}function v(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(e)}}var k="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,C=k.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),E=k.saveAs||("object"!=typeof window||window!==k?function(){}:"download"in HTMLAnchorElement.prototype&&!C?function(u,e,S){var g=k.URL||k.webkitURL,h=document.createElement("a");h.download=e=e||u.name||"download",h.rel="noopener","string"==typeof u?(h.href=u,h.origin===location.origin?v(h):F(h.href)?b(u,e,S):v(h,h.target="_blank")):(h.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(h.href)},4e4),setTimeout(function(){v(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,e,S){if(e=e||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function W(u,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,S),e);else if(F(u))b(u,e,S);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){v(g)})}}:function(u,e,S,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof u)return b(u,e,S);var h="application/octet-stream"===u.type,H=/constructor/i.test(k.HTMLElement)||k.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||h&&H||C)&&"undefined"!=typeof FileReader){var I=new FileReader;I.onloadend=function(){var A=I.result;A=N?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},I.readAsDataURL(u)}else{var P=k.URL||k.webkitURL,j=P.createObjectURL(u);g?g.location=j:location.href=j,g=null,setTimeout(function(){P.revokeObjectURL(j)},4e4)}});k.saveAs=E.saveAs=E,O.exports=E}.apply($,[]))&&(O.exports=M)}}]);