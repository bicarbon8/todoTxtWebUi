{"version":3,"file":"src_app_todo-txt-web-ui_todo-txt-web-ui_module_ts-_30f20.js","mappings":"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","sources":["./src/app/todo-txt-web-ui/helpers/todo-txt-utils.ts","./src/app/todo-txt-web-ui/storage/todo-txt-vault.ts","./src/app/todo-txt-web-ui/tasks/todo-txt-attributes.ts","./src/app/todo-txt-web-ui/tasks/todo-txt-task-parser.ts","./src/app/todo-txt-web-ui/todo-txt-web-ui-routing.module.ts","./src/app/todo-txt-web-ui/todo-txt-web-ui.component.ts","./src/app/todo-txt-web-ui/todo-txt-web-ui.component.html","./src/app/todo-txt-web-ui/todo-txt-web-ui.module.ts","./src/app/todo-txt-web-ui/todo-txt.ts","./node_modules/file-saver/dist/FileSaver.min.js","./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["/**********************************************************************\r\n * This javascript was created according to the specifications at\r\n * http://todotxt.com/ and is intended to allow users to access their\r\n * todo.txt files in a user-friendly and easy to visualize manner.\r\n *\r\n * Once initially uploaded, the todo.txt file will\r\n * be loaded into an HTML5 localStorage and managed from there.\r\n * The web page then allows downloading changes back to the user\r\n * in a txt format compliant with the todo.txt specifications, but\r\n * having re-sorted the tasks.\r\n * \r\n * @Created: 08/14/2012\r\n * @Author: Jason Holt Smith (bicarbon8@gmail.com)\r\n * @Version: 0.0.1\r\n * Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under\r\n * the terms of the GNU General Public License.\r\n * \r\n * This file is part of todoTxtWebUi.\r\n * \r\n * todoTxtWebUi is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * todoTxtWebUi is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU General Public License\r\n * along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.\r\n **********************************************************************/\r\n/**\r\n * Utility methods used by the project library\r\n * @namespace\r\n */\r\nexport module TodoTxtUtils {\r\n    /**\r\n     * function will format a Date object to a string of YYYY-MM-DD\r\n     * @returns {string} formatted date\r\n     */\r\n    export function formatDate(dateObj: Date): string {\r\n        var yyyy = dateObj.getFullYear();\r\n        var mm = (dateObj.getMonth()+1).toString(); // getMonth() is zero-based\r\n        mm = mm.length < 2 ? \"0\" + mm : mm;\r\n        var dd  = (dateObj.getDate()).toString();\r\n        dd = dd.length < 2 ? \"0\" + dd : dd;\r\n        return String(yyyy + \"-\" + mm + \"-\" + dd); // Leading zeros for mm and dd\r\n    }\r\n\r\n    /**\r\n     * function will get the current browser language-locale\r\n     * @returns {string} a ISO language-locale for the browser\r\n     */\r\n    export function getLanguage(): string {\r\n        var langLocale = window.navigator[\"userLanguage\"] || window.navigator.language;\r\n        return langLocale.toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * function generates a GUID\r\n     * @returns {string} a GUID (NNNNNNNN-NNNN-NNNN-NNNN-NNNNNNNNNNNN)\r\n     */\r\n    export function guid(): string {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * function will strip out any characters from the passed in string that are\r\n     * not compatible with html and replace with html-friendly versions\r\n     * @param {string} str - the string to be html encoded\r\n     * @returns {string} a html encoded version of the string that can be used safely\r\n     * within a html page\r\n     */\r\n    export function htmlEncode(str: string): string {\r\n        return String(str)\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/\"/g, '&quot;')\r\n            .replace(/\\s{2}/g, ' &nbsp;');\r\n    }\r\n\r\n    /**\r\n     * function will strip out any characters from the passed in string that are\r\n     * html character entities and replace with standard string versions\r\n     * @param {string} str - the string to be html unencoded\r\n     * @returns {string} a version of the string that can contains non-html-friendly\r\n     * strings\r\n     */\r\n    export function htmlUnencode(str: string): string {\r\n        return String(str)\r\n            .replace(/&amp;/g, '&')\r\n            .replace(/&lt;/g, '<')\r\n            .replace(/&gt;/g, '>')\r\n            .replace(/&quot;/g, '\"')\r\n            .replace(/&nbsp;/g, ' ');\r\n    }\r\n}","/**********************************************************************\r\n * This javascript was created according to the specifications at\r\n * http://todotxt.com/ and is intended to allow users to access their\r\n * todo.txt files in a user-friendly and easy to visualize manner.\r\n *\r\n * Once initially uploaded, the todo.txt file will\r\n * be loaded into an HTML5 localStorage and managed from there.\r\n * The web page then allows downloading changes back to the user\r\n * in a txt format compliant with the todo.txt specifications, but\r\n * having re-sorted the tasks.\r\n * \r\n * @Created: 08/14/2012\r\n * @Author: Jason Holt Smith (bicarbon8@gmail.com)\r\n * @Version: 0.0.1\r\n * Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under\r\n * the terms of the GNU General Public License.\r\n * \r\n * This file is part of todoTxtWebUi.\r\n * \r\n * todoTxtWebUi is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * todoTxtWebUi is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU General Public License\r\n * along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.\r\n **********************************************************************/\r\nimport { TodoTxtTask } from \"../tasks/todo-txt-task\";\r\nimport { TodoTxtConfig } from \"./todo-txt-config\";\r\nimport { TodoTextCache } from \"./todo-txt-cache\";\r\n\r\nexport module TodoTxtVault {\r\n    var _tasks: Map<string, TodoTxtTask> = new Map<string, TodoTxtTask>();\r\n    var config: TodoTxtConfig = { showClosed: false };\r\n    var cacheError: number = 0;\r\n\r\n    export function addTasks(...tasks: TodoTxtTask[]): void {\r\n        if (tasks) {\r\n            for (var i=0; i<tasks.length; i++) {\r\n                let task: TodoTxtTask = tasks[i];\r\n                _tasks.set(task.id, task);\r\n\r\n                persist();\r\n            }\r\n        }\r\n    }\r\n\r\n    export function removeTask(taskId: string): boolean {\r\n        let found: boolean = false;\r\n        if (_tasks.has(taskId)) {\r\n            _tasks.delete(taskId);\r\n            found = true;\r\n        }\r\n\r\n        persist();\r\n\r\n        return found;\r\n    }\r\n\r\n    export function removeAllTasks(): void {\r\n        _tasks = new Map<string, TodoTxtTask>();\r\n\r\n        persist();\r\n    }\r\n\r\n    export function getTask(taskId: string): TodoTxtTask {\r\n        load();\r\n        \r\n        if (_tasks.has(taskId)) {\r\n            return _tasks.get(taskId);\r\n        }\r\n        throw new Error(`no TodoTxtTask with ID of '${taskId}' could be found`);\r\n    }\r\n\r\n    export function getAllTasks(): TodoTxtTask[] {\r\n        load();\r\n\r\n        let ts: TodoTxtTask[] = [];\r\n        _tasks.forEach((value: TodoTxtTask) => {\r\n            ts.push(value);\r\n        });\r\n        return ts;\r\n    }\r\n\r\n    export function getConfig(): TodoTxtConfig {\r\n        load();\r\n\r\n        return config;\r\n    }\r\n\r\n    export function setConfig(cfg: TodoTxtConfig): void {\r\n        config = cfg;\r\n\r\n        persist();\r\n    }\r\n\r\n    function persist(): void {\r\n        try {\r\n            let cache: TodoTextCache = {tasks: Array.from(_tasks.values()), config: config};\r\n            localStorage.setItem('todo-txt', JSON.stringify(cache));\r\n        } catch (e) {\r\n            if (cacheError == 0) {\r\n                // TODO: move this to TodoTxtView and present as Modal on startup\r\n                alert('WARNING: unable to store Tasks in localStorage; ensure you export your tasks before you close the browser or they will be lost!');\r\n                console.error(`TodoTxt unable to cache data in localStorage due to: ${e}`);\r\n                cacheError++;\r\n            }\r\n        }\r\n    }\r\n\r\n    function load(): void {\r\n        try {\r\n            let persistance: string = localStorage.getItem('todo-txt');\r\n            if (persistance) {\r\n                let cache: TodoTextCache = JSON.parse(persistance) as TodoTextCache;\r\n                if (cache.tasks) {\r\n                    _tasks.clear();\r\n                    for (var i=0; i<cache.tasks.length; i++) {\r\n                        _tasks.set(cache.tasks[i].id, cache.tasks[i]);\r\n                    }\r\n                    config = cache.config;\r\n                }\r\n            }\r\n        } catch (e) {\r\n            if (cacheError == 0) {\r\n                console.info(`TodoTxt unable to load cache from localStorage due to: ${e}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * WARNING!! removes all cached data including tasks and configuration.\r\n     * only to be used after you've exported your tasks to a file\r\n     */\r\n    export function _clear(): void {\r\n        _tasks = new Map<string, TodoTxtTask>();\r\n        config = {showClosed: false};\r\n        localStorage.removeItem('todo-txt');\r\n    }\r\n}","/**********************************************************************\r\n * This javascript was created according to the specifications at\r\n * http://todotxt.com/ and is intended to allow users to access their\r\n * todo.txt files in a user-friendly and easy to visualize manner.\r\n *\r\n * Once initially uploaded, the todo.txt file will\r\n * be loaded into an HTML5 localStorage and managed from there.\r\n * The web page then allows downloading changes back to the user\r\n * in a txt format compliant with the todo.txt specifications, but\r\n * having re-sorted the tasks.\r\n * \r\n * @Created: 08/14/2012\r\n * @Author: Jason Holt Smith (bicarbon8@gmail.com)\r\n * @Version: 0.0.1\r\n * Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under\r\n * the terms of the GNU General Public License.\r\n * \r\n * This file is part of todoTxtWebUi.\r\n * \r\n * todoTxtWebUi is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * todoTxtWebUi is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU General Public License\r\n * along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.\r\n **********************************************************************/\r\nexport module TodoTxtAttributes {\r\n    export var priorities: Set<string> = new Set<string>();\r\n    export var projects: Set<string> = new Set<string>();\r\n    export var contexts: Set<string> = new Set<string>();\r\n\r\n    export function reset(): void {\r\n        priorities = new Set<string>();\r\n        projects = new Set<string>();\r\n        contexts = new Set<string>();\r\n    }\r\n}","import { TodoTxtUtils } from \"../helpers/todo-txt-utils\";\r\nimport { TodoTxtTask } from \"./todo-txt-task\";\r\n\r\nexport module TodoTxtTaskParser {\r\n    export function get(text: string): TodoTxtTask {\r\n        let task: TodoTxtTask = {\r\n            id: TodoTxtUtils.guid(),\r\n            text: text,\r\n            isActive: getIsActive(text),\r\n            priority: getPriority(text),\r\n            completedDate: getCompletedDate(text),\r\n            createdDate: getCreatedDate(text),\r\n            projects: getProjects(text),\r\n            contexts: getContexts(text)\r\n        };\r\n        return task;\r\n    }\r\n\r\n    export function getMany(...texts: string[]): TodoTxtTask[] {\r\n        let tasks: TodoTxtTask[] = [];\r\n        if (texts) {\r\n            for (var i=0; i<texts.length; i++) {\r\n                tasks.push(get(texts[i]));\r\n            }\r\n        }\r\n        return tasks;\r\n    }\r\n\r\n    function getIsActive(str: string): boolean {\r\n        // check for strings starting with something like \"x \"\r\n        let match: RegExpMatchArray = str.match(/^(x )/);\r\n        if (match && match.length > 0) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function getPriority(str: string): string {\r\n        let pri: string;\r\n        if (str) {\r\n            // parse out the priority RegEx: /\\^([A-Z]\\).*/ \r\n            // check for strings starting with something like \"(A) \"\r\n            let priPattern: RegExp = /^(\\([A-Z]\\)[\\s]+)/;\r\n            var match = str.match(priPattern); // returns null if not found\r\n            if (match) {\r\n                // found an active match so get the priority\r\n                pri = match[0].replace(/[\\s]*/g, \"\");\r\n            }\r\n        }\r\n        return pri;\r\n    }\r\n\r\n    function getCompletedDate(str: string): string {\r\n        var completed: string;\r\n        \r\n        // parse out the completedDate if closed (starts with \"x \")\r\n        if (!getIsActive(str)) {\r\n            let dates: string[] = getDatesFromText(str);\r\n            if (dates) {\r\n                completed = dates[0] ? dates[0].replace(/[\\s]*/g, \"\") : undefined;\r\n            }\r\n        }\r\n        \r\n        return completed;\r\n    }\r\n\r\n    function getCreatedDate(str: string): string {\r\n        var created: string;\r\n        // parse out the createdDate (will be 2nd if item is closed)\r\n        let dates: string[] = getDatesFromText(str);\r\n        if (dates) {\r\n            if (!getIsActive(str)) {\r\n                if (dates.length > 1) { // we have created and completed\r\n                    created = dates[1] ? dates[1].replace(/[\\s]*/g, \"\") : undefined;\r\n                }\r\n                // only 1 date and is completed so no created date\r\n            } else {\r\n                created = dates[0] ? dates[0].replace(/[\\s]*/g, \"\") : undefined;\r\n            }\r\n        }\r\n        \r\n        return created;\r\n    }\r\n\r\n    function getDatesFromText(str: string): string[] {\r\n        var dates: string[] = [];\r\n        if (str) {\r\n            // check for strings with something like \"2012-08-09\"\r\n            let datePattern: RegExp = /(?:\\s|^)(\\d{4}-\\d{2}-\\d{2})(?=\\s)/g;\r\n            let match: RegExpMatchArray = str.match(datePattern); // returns null if not found\r\n            if (match) {\r\n                for (var i=0; i<match.length; i++) {\r\n                    dates.push(match[i]);\r\n                }\r\n            }\r\n        }\r\n        return dates;\r\n    }\r\n\r\n    function getProjects(str: string): string[] {\r\n        var tmpSet: Set<string> = new Set<string>(); // used to hold the project if set\r\n        if (str) {\r\n            // parse out the projects RegEx: /\\+[0-9A-Za-z]+\\s/ (words starting with \"+\")\r\n            // check for strings like \"+ABC123\"\r\n            var projPattern = /((\\s|^)[\\(\\{\\[\"']?\\+[0-9A-Za-z]+[\\)\\}\\]\"']?(?=\\s|$))/g;\r\n            var match = str.match(projPattern); // returns null if not found\r\n            if (match) {\r\n                // only store one instance of duplicate project entries\r\n                for (var i=0; i<match.length; i++) {\r\n                    var p = match[i].replace(/[\\s]*/g, \"\").replace(/[\\(\\{\\[\\)\\}\\]\"']/g, \"\");;\r\n                    tmpSet.add(p);\r\n                }\r\n            }\r\n        }\r\n        return Array.from(tmpSet);\r\n    }\r\n\r\n    function getContexts(str: string): string[] {\r\n        var tmpSet: Set<string> = new Set<string>(); // used to hold the context if set\r\n        if (str) {\r\n            // parse out the contexts RegEx: /\\@[0-9A-Za-z]+\\s/ (words starting with \"@\")\r\n            // check for strings like \"@ABC123\"\r\n            var ctxPattern = /((\\s|^)[\\(\\{\\[\"']?\\@[0-9A-Za-z]+[\\)\\}\\]\"']?(?=\\s|$))/g;\r\n            var match = str.match(ctxPattern); // returns null if not found\r\n            if (match) {\r\n                // only store one instance of duplicate project entries\r\n                for (var i=0; i<match.length; i++) {\r\n                    var c = match[i].replace(/[\\s]*/g, \"\").replace(/[\\(\\{\\[\\)\\}\\]\"']/g, \"\");;\r\n                    tmpSet.add(c);\r\n                }\r\n            }\r\n        }\r\n        return Array.from(tmpSet);\r\n    }\r\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { TodoTxtWebUiComponent } from './todo-txt-web-ui.component';\n\nconst routes: Routes = [\n  { path: '', component: TodoTxtWebUiComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TodoTxtWebUiRoutingModule { }\n","import { Component, HostListener } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeUrl } from '@angular/platform-browser';\nimport { TodoTxtUtils } from './helpers/todo-txt-utils';\nimport { TodoTxtConfig } from './storage/todo-txt-config';\nimport { TodoTxtVault } from './storage/todo-txt-vault';\nimport { TodoTxtTask } from './tasks/todo-txt-task';\nimport { TodoTxtTaskParser } from './tasks/todo-txt-task-parser';\nimport { TodoTxt } from './todo-txt';\nimport { saveAs } from 'file-saver';\nimport { TodoTxtAttributes } from './tasks/todo-txt-attributes';\n\n@Component({\n  selector: 'app-todo-txt-web-ui',\n  templateUrl: './todo-txt-web-ui.component.html',\n  styleUrls: ['./todo-txt-web-ui.component.css']\n})\nexport class TodoTxtWebUiComponent {\n  requiredFileType: string = '.txt';\n  fileName: string;\n  downloadFileName: string;\n  isDirty: boolean;\n  showClosed: boolean;\n  downloadUrl: SafeUrl;\n  filterStr: string;\n  editingTaskId: string;\n  isAddingNew: boolean;\n\n  constructor(private sanitiser: DomSanitizer) {\n    this.isDirty = false;\n    this.showClosed = TodoTxtVault.getConfig().showClosed;\n    this.downloadFileName = 'todo.txt';\n  }\n\n  async toggleShowClosed(): Promise<void> {\n    let cfg: TodoTxtConfig = TodoTxtVault.getConfig();\n    cfg.showClosed = !cfg.showClosed;\n    this.showClosed = cfg.showClosed;\n    TodoTxtVault.setConfig(cfg);\n  }\n  \n  async processToDoFile(event: any): Promise<void> {\n    if (event) {\n      let files: File[] = event.target?.files;\n      if (files && files.length > 0) {\n        let file: File = files[0];\n        if (file) {\n          TodoTxtVault.removeAllTasks();\n          this.fileName = file.name;\n          this.downloadFileName = this.fileName;\n          let text: string = await file.text();\n          let lines: string[] = text.split('\\n');\n          TodoTxtVault.addTasks(...TodoTxtTaskParser.getMany(...lines));\n        }\n      }\n    }\n  }\n\n  async click_AddTask(): Promise<boolean> {\n    this.isAddingNew = true;\n    let t: TodoTxtTask = TodoTxtTaskParser.get('');\n    TodoTxt.addTask(t);\n    this.click_StartEditTask(t.id);\n    this.isDirty = true;\n    return false;\n  }\n\n  async click_SaveTasks(): Promise<void> {\n    let data: string = this.getTasks().map((t) => t.text?.trim())?.join('\\n');\n    if (data) {\n      let blob = new Blob([data], { type: 'data:attachment/text; charset=utf-8' });\n      saveAs(blob, this.downloadFileName);\n    }\n    this.isDirty = false;\n  }\n\n  async keyup_UpdateFilter(filter: string): Promise<void> {\n    this.filterStr = filter;\n  }\n\n  async click_ClearFilter(event: any): Promise<void> {\n    this.filterStr = null;\n    event.target.value = undefined;\n  }\n\n  async click_MarkComplete(id: string): Promise<void> {\n    TodoTxt.closeTask(id);\n  }\n\n  async click_MarkActive(id: string): Promise<void> {\n    TodoTxt.activateTask(id);\n  }\n  \n  async click_StartEditTask(id: string): Promise<void> {\n    this.editingTaskId = id;\n    setTimeout(() => this.setFocus(id), 0);\n  }\n\n  async setFocus(id: string): Promise<void> {\n    let div: HTMLElement = document.getElementById(`textarea_${id}`);\n    if (div) {\n      console.info(`found element 'textarea_${id}'`);\n      div.focus();\n      // let s = window.getSelection();\n      // let r = document.createRange();\n      // r.setStart(div, 0);\n      // r.setEnd(div, 0);\n      // s.removeAllRanges();\n      // s.addRange(r);\n    } else {\n      console.warn(`unable to find element 'textarea_${id}'`);\n    }\n  }\n\n  async click_SaveTaskEdit(id: string): Promise<boolean> {\n    let text: string = document.querySelector<HTMLDivElement>(`#textarea_${id}`).innerText;\n    TodoTxt.updateTask(id, text);\n    this.isDirty = true;\n    this.doneEditing();\n    return false;\n  }\n\n  @HostListener('keydown.esc')\n  async click_CancelTaskEdit(): Promise<boolean> {\n    if (this.isAddingNew) {\n      this.click_DeleteTask(this.editingTaskId);\n    }\n    this.doneEditing();\n    return false;\n  }\n\n  async click_DeleteTask(id: string): Promise<void> {\n    TodoTxtVault.removeTask(id);\n    this.isDirty = true;\n    this.doneEditing();\n  }\n\n  doneEditing(): void {\n    this.editingTaskId = null;\n    this.isAddingNew = false;\n  }\n\n  getTasks(): TodoTxtTask[] {\n    let tasks: TodoTxtTask[] = TodoTxt.getFilteredTaskArray(this.filterStr);\n    if (!TodoTxtVault.getConfig().showClosed) {\n      let active: TodoTxtTask[] = [];\n      for (var i=0; i<tasks.length; i++) {\n        if (tasks[i].isActive) {\n          active.push(tasks[i]);\n        }\n      }\n      tasks = active;\n    }\n    return tasks;\n  }\n\n  /**\n   * function will generate a html-markup version of the task\n   * @param {TodoTxtTask} task - the task to generate for\n   * @returns {string} the HTML marked up task text\n   */\n   getMarkupForTask(text: string): SafeHtml {\n      let task: TodoTxtTask = TodoTxtTaskParser.get(text);\n      // make html compatible\n      text = TodoTxtUtils.htmlEncode(text);\n\n      // markup priority\n      let priCls: string = this.getDisplayClassForTask(task);\n      text = text.replace(task.priority, \"<span class=\\\"\" + priCls + \"\\\"><b>\" + task.priority + \"</b></span>\");\n\n      // markup projects\n      let projects: string[] = task.projects;\n      projects.forEach((project) => {\n          var regex = new RegExp(project.replace(/\\+/g, \"\\\\+\") + \"(?![0-9A-Za-z])\", \"g\");\n          text = text.replace(regex, \"<span class=\\\"text-muted\\\"><b><i>\" + project + \"</i></b></span>\");\n      });\n\n      // markup contexts\n      let contexts: string[] = task.contexts;\n      contexts.forEach((ctx) => {\n          var regex = new RegExp(ctx + \"(?![0-9A-Za-z])\", \"g\");\n          text = text.replace(regex, \"<span class=\\\"text-muted\\\"><b><i>\" + ctx + \"</i></b></span>\");\n      });\n\n      // markup created date\n      let date: string = task.createdDate;\n      if (date) {\n          text = text.replace(date, \"<span class=\\\"text-muted hidden-xs\\\"><b><i>\" + date + \"</i></b></span>\");\n      }\n\n      return this.sanitiser.bypassSecurityTrustHtml(text);\n  }\n  \n  getDisplayClassForTask(task: TodoTxtTask): string {\n      let cls: string = '';\n      if (task.priority !== null && task.isActive) {\n          if (task.priority === \"(A)\") {\n              cls += \" text-danger\";\n          }\n          if (task.priority === \"(B)\") {\n              cls += \" text-warning\";\n          }\n          if (task.priority === \"(C)\") {\n              cls += \" text-primary\";\n          }\n      }\n\n      return cls;\n  }\n\n  getPriorities(): string[] {\n    return Array.from(TodoTxtAttributes.priorities);\n  }\n\n  getProjects(): string[] {\n    return Array.from(TodoTxtAttributes.projects);\n  }\n\n  getContexts(): string[] {\n    return Array.from(TodoTxtAttributes.contexts);\n  }\n}\n","<div class=\"container py-1\">\n    <div class=\"row\">\n        <div class=\"col-md-9\">\n            <div class=\"d-flex flex-row justify-content-evenly pb-1\">\n                <div class=\"d-flex flex-column flex-grow-1\">\n                    <div class=\"btn-group btn-group-justified\">\n                        <button class=\"file-upload btn btn-secondary btn-lg\" (click)=\"fileUpload.click()\" aria-label=\"upload file\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Import todo.txt file\">\n                            <i class=\"bi bi-cloud-upload\"> </i><span class=\"fw-light d-none d-lg-inline\"> {{fileName || 'Import todo.txt File'}}</span>\n                        </button>\n                        <button class=\"btn btn-lg btn-primary\" (click)=\"click_AddTask()\" aria-label=\"add task\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"New task\">\n                            <i class=\"bi bi-clipboard-plus\"> </i><span class=\"fw-light d-none d-lg-inline\"> New Task</span>\n                        </button>\n                        <button class=\"btn btn-lg {{(isDirty) ? 'btn-warning' : 'btn-success'}}\" (click)=\"click_SaveTasks()\" aria-label=\"save tasks to file\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Export tasks\">\n                            <i class=\"bi bi-save\"> </i><span class=\"fw-light d-none d-lg-inline\"> Export Tasks</span>\n                        </button>\n                    </div>\n                </div>\n                <div class=\"d-flex flex-column p-2\">\n                    <div class=\"form-check form-switch\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Show closed tasks\">\n                        <input class=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" (change)=\"toggleShowClosed()\" [checked]=\"showClosed\">\n                        <label class=\"form-check-label d-none d-lg-inline\" for=\"flexSwitchCheckDefault\">{{(showClosed) ? 'Hide Closed Tasks' : 'Show Closed Tasks'}}</label>\n                    </div>\n                </div>\n            </div>\n            <input type=\"file\" class=\"file-input visually-hidden\" [accept]=\"requiredFileType\" (change)=\"processToDoFile($event)\" #fileUpload />\n            <div class=\"input-group input-group-lg\">\n                <input #todoTxtFilter type=\"text\" class=\"form-control\" placeholder=\"Type filter(s)\" aria-label=\"task filter\" aria-describedby=\"button-addon2\" (keyup)=\"keyup_UpdateFilter(todoTxtFilter.value)\">\n                <button class=\"btn btn-primary\" type=\"button\" id=\"button-addon2\" (click)=\"click_ClearFilter($event); todoTxtFilter.value=''\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Clear filter\">\n                    <span class=\"bi bi-x-circle\"></span> <span class=\"fw-light d-none d-lg-inline\" aria-label=\"clear filter\"> Clear Filter</span>\n                </button>\n            </div>\n            <div *ngFor=\"let t of getTasks()\">\n                <div *ngIf=\"editingTaskId != t.id\" class=\"btn-group d-flex flex-nowrap pt-1\" role=\"group\">\n                    <button *ngIf=\"t.isActive\" class=\"col-xs-2 btn btn-lg btn-light\" (click)=\"click_MarkComplete(t.id)\" aria-label=\"mark as complete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Mark complete\"><i class=\"bi bi-circle\"></i></button>\n                    <button *ngIf=\"!t.isActive\" class=\"col-xs-2 btn btn-lg btn-success\" (click)=\"click_MarkActive(t.id)\" aria-label=\"mark as incomplete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Unmark / Make active\"><i class=\"bit bi-check-circle\"></i></button>\n                    <button class=\"btn btn-lg {{(t.isActive) ? 'btn-light' : 'btn-outline-success'}} text-start w-100\" (click)=\"click_StartEditTask(t.id)\" aria-label=\"edit task\" [innerHTML]=\"getMarkupForTask(t.text)\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Edit task\"></button>\n                </div>\n                <div *ngIf=\"editingTaskId == t.id\">\n                    <div id=\"textarea_{{t.id}}\" tabindex=\"0\" contenteditable=\"true\" class=\"textarea btn btn-lg pt-1 text-start w-100\" [innerHTML]=\"getMarkupForTask(t.text)\" (keydown.enter)=\"click_SaveTaskEdit(t.id)\" (keydown.esc)=\"click_CancelTaskEdit()\"></div>\n                    <div class=\"btn-group d-flex flex-wrap pt-1\" role=\"group\">\n                        <button class=\"btn btn-success\" (click)=\"click_SaveTaskEdit(t.id)\" aria-label=\"save changes\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Save Changes (Enter)\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Save changes\"><i class=\"bi bi-check\"></i><span class=\"fw-light d-none d-lg-inline\"> {{(isAddingNew) ? 'Save' : 'Update'}} Task</span></button>\n                        <button class=\"btn btn-warning\" (click)=\"click_CancelTaskEdit()\" aria-label=\"discard changes\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Discard Changes (Esc)\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Discard changes\"><i class=\"bi bi-x\"></i><span class=\"fw-light d-none d-lg-inline\"> Discard Changes</span></button>\n                        <button *ngIf=\"!isAddingNew\" class=\"btn btn-danger\" (click)=\"click_DeleteTask(t.id)\" aria-label=\"delete task\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Delete task\"><i class=\"bi bi-trash\"></i><span class=\"fw-light d-none d-lg-inline\"> Delete Task</span></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"d-none d-md-inline col-md-3\">\n            <div class=\"container\">\n                <div class=\"row pt-2\">\n                    <div class=\"card p-0\">\n                        <div class=\"card-header\"> Priorities</div>\n                        <div class=\"btn-group-vertical\">\n                            <button *ngFor=\"let p of getPriorities()\" class=\"btn btn-outline-secondary list-group-item\" (click)=\"keyup_UpdateFilter(p); todoTxtFilter.value=p\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Filter by {{p}}\"> {{p}}</button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row pt-2\">\n                    <div class=\"card p-0\">\n                        <div class=\"card-header\"> Projects</div>\n                        <div class=\"btn-group-vertical\">\n                            <button *ngFor=\"let p of getProjects()\" class=\"btn btn-outline-secondary list-group-item\" (click)=\"keyup_UpdateFilter(p); todoTxtFilter.value=p\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Filter by {{p}}\"> {{p}}</button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row pt-2\">\n                    <div class=\"card p-0\">\n                        <div class=\"card-header\"> Contexts</div>\n                        <div class=\"btn-group-vertical\">\n                            <button *ngFor=\"let p of getContexts()\" class=\"btn btn-outline-secondary list-group-item\" (click)=\"keyup_UpdateFilter(p); todoTxtFilter.value=p\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Filter by {{p}}\"> {{p}}</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TodoTxtWebUiRoutingModule } from './todo-txt-web-ui-routing.module';\nimport { TodoTxtWebUiComponent } from './todo-txt-web-ui.component';\n\n\n@NgModule({\n  declarations: [TodoTxtWebUiComponent],\n  imports: [\n    CommonModule,\n    TodoTxtWebUiRoutingModule\n  ]\n})\nexport class TodoTxtWebUiModule { }\n","/**********************************************************************\r\n * This javascript was created according to the specifications at\r\n * http://todotxt.com/ and is intended to allow users to access their\r\n * todo.txt files in a user-friendly and easy to visualize manner.\r\n *\r\n * Once initially uploaded, the todo.txt file will\r\n * be loaded into an HTML5 localStorage and managed from there.\r\n * The web page then allows downloading changes back to the user\r\n * in a txt format compliant with the todo.txt specifications, but\r\n * having re-sorted the tasks.\r\n * \r\n * @Created: 08/14/2012\r\n * @Author: Jason Holt Smith (bicarbon8@gmail.com)\r\n * @Version: 0.0.1\r\n * Copyright (c) 2012 Jason Holt Smith. todoTxtWebUi is distributed under\r\n * the terms of the GNU General Public License.\r\n * \r\n * This file is part of todoTxtWebUi.\r\n * \r\n * todoTxtWebUi is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n * \r\n * todoTxtWebUi is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU General Public License\r\n * along with todoTxtWebUi.  If not, see <http://www.gnu.org/licenses/>.\r\n **********************************************************************/\r\nimport { TodoTxtAttributes } from './tasks/todo-txt-attributes';\r\nimport { TodoTxtTask } from './tasks/todo-txt-task';\r\nimport { TodoTxtTaskParser } from './tasks/todo-txt-task-parser';\r\nimport { TodoTxtUtils } from './helpers/todo-txt-utils';\r\nimport { TodoTxtVault } from './storage/todo-txt-vault';\r\n\r\nexport module TodoTxt {\r\n    /**\r\n     * function will return a sorted array of tasks as pulled from\r\n     * localStorage.\r\n     * @returns {array} a sorted list of tasks from localStorage\r\n     */\r\n    export function getSortedTaskArray(): TodoTxtTask[] {\r\n        // sort the list and then add it\r\n        let taskArray: TodoTxtTask[] = TodoTxtVault.getAllTasks();\r\n        TodoTxtAttributes.reset();\r\n        for (var i=0; i<taskArray.length; i++) {\r\n            updateAttributes(taskArray[i]);\r\n        }\r\n        taskArray.sort(compareTasks);\r\n\r\n        return taskArray;\r\n    }\r\n\r\n    /**\r\n     * function will return a filtered array of tasks based on the passed in\r\n     * filter string.  Matching uses an ordered fuzzy match so for the following:\r\n     * \"(A) 2014-03-02 don't forget to file @report with +John\" a passed in filter\r\n     * string of \"for John\" will match, but \"John report\" will not match\r\n     * @param {string} filterStr - a string containing characters to match against the existing tasks\r\n     * @returns {array} a sorted list of tasks matching the passed in <b><i>filterStr</i></b>\r\n     */\r\n    export function getFilteredTaskArray(filterStr: string) {\r\n        var filteredTasks = TodoTxt.getSortedTaskArray();\r\n        if (filterStr && filterStr !== \"\") {\r\n            // create the regex matcher\r\n            let filters: string[] = filterStr.split(\" \");\r\n            let rStr: string = '';\r\n            for (var i=0; i<filters.length; i++) {\r\n                var filter = filters[i].replace(/([-\\(\\)\\[\\]\\{\\}+\\?*\\.$\\^\\|,:#<\\!\\\\])/g, '\\\\$1').replace(/\\x08/g, '\\\\x08');\r\n                rStr += \".*(\" + filter + \").*\";\r\n            }\r\n            var regex = new RegExp(rStr, \"i\");\r\n            let tasks: TodoTxtTask[] = filteredTasks.filter(function (t) {\r\n                return t.text.match(regex);\r\n            });\r\n            filteredTasks = tasks;\r\n        }\r\n\r\n        return filteredTasks;\r\n    }\r\n\r\n    /**\r\n     * function will process each line of the todo.txt, sort by priority,\r\n     * creationDate, and state (active or closed).\r\n     *\r\n     * @param {string} todoTxt - the \"\\n\" delimited lines from a todo.txt file\r\n     * @param {boolean} append - a boolean indicating if existing tasks should be cleared\r\n     * first or just appended to with the new file\r\n     */\r\n    export function parseTodoTxtFile(todoTxt: string, append?: boolean) {\r\n        if (!append) {\r\n            // clear the Storage\r\n            TodoTxtVault.removeAllTasks();\r\n        }\r\n        var lines = todoTxt.split(\"\\n\");\r\n        for (var i in lines) {\r\n            if (typeof lines[i] === \"string\") {\r\n                let line: string = lines[i];\r\n                // ignore empty lines\r\n                if (line && line !== \"\") {\r\n                    // create new Task and add to our global list in it's proper location\r\n                    createTask(line);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * function creates a new task and saves to {TodoTxtVault}\r\n     * @param {string} textStr - a string representing a raw task\r\n     * @returns {string} the ID of the newly created {TodoTxt.Task}\r\n     */\r\n    export function createTask(textStr: string): string {\r\n        let text: string = textStr || '';\r\n        let t: TodoTxtTask = TodoTxtTaskParser.get(text);\r\n        addTask(t);\r\n        return t.id;\r\n    }\r\n\r\n    /**\r\n     * function will get a specified task from TodoTxtVault by id\r\n     * @param {string} taskId - the unique id of the task to be returned\r\n     * @returns {TodoTxtTask} a task or null if task not found\r\n     */\r\n    export function getTask(taskId: string): TodoTxtTask {\r\n        let task: TodoTxtTask = TodoTxtVault.getTask(taskId);\r\n        return task;\r\n    }\r\n\r\n    /**\r\n     * function updates the task and saves it to the TodoTxtVault cache\r\n     * @param {string} taskId - unique ID used to retrieve the task from Storage\r\n     * @param {string} newText - a string representing the updated, raw task text\r\n     * @returns {boolean} true if task could be updated otherwise false\r\n     */\r\n    export function updateTask(taskId: string, newText: string): boolean {\r\n        let task: TodoTxtTask = TodoTxtTaskParser.get(newText);\r\n        task.id = taskId;\r\n\r\n        // overwrite storage with updated task\r\n        TodoTxt.addTask(task);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * function adds this task to the browser's local cache allowing for\r\n     * retained data on subsequent reloads of the page\r\n     * @param {TodoTxtTask} task - a task to be added to Storage\r\n     */\r\n    export function addTask(task: TodoTxtTask) {\r\n        TodoTxtVault.addTasks(task);\r\n        updateAttributes(task);\r\n    }\r\n\r\n    /**\r\n     * function will append an \"x YYYY-MM-DD \" to a stored\r\n     * task if not already closed and will remove any priority\r\n     * declarations in the text of the Task\r\n     * @param {string} taskId - unique ID used to retrieve the task from Storage\r\n     * @returns {boolean} true if task could be closed, otherwise false\r\n     */\r\n    export function closeTask(taskId: string): boolean {\r\n        var task = getTask(taskId);\r\n\r\n        if (task && task.isActive) {\r\n            var text = task.text;\r\n            if (task.priority) {\r\n                text = text.replace(task.priority, \"\");\r\n            }\r\n            text = \"x \" + TodoTxtUtils.formatDate(new Date()) + \" \" + text;\r\n            updateTask(task.id, text);\r\n            return true;\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * function will remove \"x YYYY-MM-DD \" from a stored\r\n     * task if not already active\r\n     * @param {string} taskId - unique ID used to retrieve the task from Storage\r\n     * @returns {boolean} true if task could be activated, otherwise false\r\n     */\r\n    export function activateTask(taskId: string): boolean {\r\n        var task = getTask(taskId);\r\n        if (task && !task.isActive) {\r\n            let text: string = task.text;\r\n            text = text.replace(/^(x )/, \"\").replace(task.completedDate + \" \", \"\");\r\n            updateTask(task.id, text);\r\n            return true;\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    /** @ignore */\r\n    function updateAttributes(task: TodoTxtTask): void {\r\n        if (task.isActive || TodoTxtVault.getConfig().showClosed) {\r\n            // get the priority and add to global filter hashset\r\n            if (task.priority) {\r\n                TodoTxtAttributes.priorities.add(task.priority);\r\n            }\r\n\r\n            // get each project and add to the global filter hashset\r\n            task.projects.forEach((project) => {\r\n                if (project) {\r\n                    TodoTxtAttributes.projects.add(project);\r\n                }\r\n            });\r\n\r\n            // get each context and add to the global filter hashset\r\n            task.contexts.forEach((context) => {\r\n                if (context) {\r\n                    TodoTxtAttributes.contexts.add(context);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /** @ignore */\r\n    function compareTasks(taskA: TodoTxtTask, taskB: TodoTxtTask) {\r\n        // function will allow sorting of tasks by the following\r\n        // criteria: (1) active vs. closed (2) priority (3) created date\r\n        // (4) completed date\r\n        var aActive = taskA.isActive;\r\n        var bActive = taskB.isActive;\r\n        var aPri = taskA.priority;\r\n        var bPri = taskB.priority;\r\n        var aCreated = taskA.createdDate;\r\n        var bCreated = taskB.createdDate;\r\n        var aCompleted = taskA.completedDate;\r\n        var bCompleted = taskB.completedDate;\r\n\r\n        // (1) compare active vs. closed\r\n        if (aActive !== bActive) {\r\n            // prioritize active over closed\r\n            if (aActive) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        } else { // (2) compare priority\r\n            if (aPri !== bPri) {\r\n                // order by priority, but favor having priority over not\r\n                if (!bPri || aPri < bPri) {\r\n                    return -1;\r\n                } else if (!aPri || aPri > bPri) {\r\n                    return 1;\r\n                }\r\n            } else { // (3) compare created date\r\n                if (aCreated !== bCreated) {\r\n                    // order by created date ascending (oldest ones first)\r\n                    if (aCreated < bCreated) {\r\n                        return -1;\r\n                    } else {\r\n                        return 1;\r\n                    }\r\n                } else { // (4) compare completed date\r\n                    if (aCompleted !== bCompleted) {\r\n                        // order by completed date descending (latest ones first)\r\n                        if (aCompleted > bCompleted) {\r\n                            return -1;\r\n                        } else {\r\n                            return 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // objects are equivalent\r\n        return 0;\r\n    }\r\n}","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["TodoTxtUtils","TodoTxtVault","TodoTxtTaskParser","TodoTxt","saveAs","TodoTxtAttributes","i0","ctx_r11","ctx_r14","ctx_r17","ctx_r22","ctx_r25","ctx_r28","ctx_r29","ctx_r31","ctx_r34","ctx_r37","ctx_r40","TodoTxtWebUiComponent","constructor","sanitiser","isDirty","showClosed","getConfig","downloadFileName","toggleShowClosed","cfg","setConfig","processToDoFile","event","files","target","length","file","removeAllTasks","fileName","name","text","lines","split","addTasks","getMany","click_AddTask","isAddingNew","t","get","addTask","click_StartEditTask","id","click_SaveTasks","data","getTasks","map","trim","join","blob","Blob","type","keyup_UpdateFilter","filter","filterStr","click_ClearFilter","value","undefined","click_MarkComplete","closeTask","click_MarkActive","activateTask","editingTaskId","setTimeout","setFocus","div","document","getElementById","console","info","focus","warn","click_SaveTaskEdit","querySelector","innerText","updateTask","doneEditing","click_CancelTaskEdit","click_DeleteTask","removeTask","tasks","getFilteredTaskArray","active","i","isActive","push","getMarkupForTask","task","htmlEncode","priCls","getDisplayClassForTask","replace","priority","projects","forEach","project","regex","RegExp","contexts","ctx","date","createdDate","bypassSecurityTrustHtml","cls","getPriorities","Array","from","priorities","getProjects","getContexts","selectors","hostBindings","_r0"],"sourceRoot":"webpack:///"}